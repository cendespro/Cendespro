"use strict";define("boxSlideshow/utils/boxSlideShowUtils",["lodash","core","react","baseUI"],function(e,o,n,t){function i(e,o){return e.layouters.getNonMasterChildren(o)}function l(e,o){return i(e,o).length}function s(e,o){return i(e,o)[e.components.behaviors.getRuntimeState(o).currentIndex]}function r(e,o){return e.components.behaviors.getRuntimeState(o).currentIndex}function c(e,o){return e.utils.findAncestorMatchesCondition(o,e.components.is.slidesContainer)}function a(e,o){return e.utils.findAncestorMatchesCondition(o,e.components.is.slideContainer)}function d(e,o,n){S(e);var t=s(e,o);e.components.behaviors.execute(o,"nextSlide",null,function(){e.allowMouseDown(),h(e,o,t,n)})}function u(o){var n=["wysiwyg.viewer.components.BoxSlideShow","wysiwyg.viewer.components.StripContainerSlideShow"],t=e.head(o.selection.getSelectedComponents()),i=o.components.getType(t);e.includes(n,i)||o.closeCompPanelIfExists()}function S(e){g(e),e.preventMouseDown(),u(e)}function p(e,o,n){S(e);var t=s(e,o);e.components.behaviors.execute(o,"prevSlide",null,function(){e.allowMouseDown(),h(e,o,t,n)})}function h(n,t,i,l){n.selection.selectComponentByCompRef(t);var r=s(n,t);e.isEqual(i,r)||(n.bi.event(o.bi.events.boxSlideShow.SLIDES_NAVIGATION,e.assign({origin:"sliderControl"},n.components.getDefaultBiParams(t))),f(n,t),l(n,t))}function f(n,t){var i=n.components.properties.get(t);if(i.shouldHideOverflowContent){var l=n.components.layout.getRelativeToScreen(t),r=s(n,t),c=n.components.getChildren(r,!0);e.forEach(c,function(s){var r=n.components.layout.getRelativeToScreen(s);if(r.y+r.height<l.y||r.y>l.y+l.height||r.x+r.width<l.x||r.x>l.x+l.width)return n.components.properties.update(t,{shouldHideOverflowContent:!1}),e.includes(w,i.transition)&&n.components.properties.update(t,{transition:"NoTransition"}),n.bi.event(o.bi.events.boxSlideShow.SLIDESHOW_HIDDEN_ELEMENTS_TOOLTIP_APPEAR),v(n,t),!1})}}function g(e){e.toolsControl.toggleHalfOpacityTools(!1),e.hideFloatingBubble()}function m(e,o){e.selection.selectComponentByCompRef(o),g(e);var n={selectedComponent:o,compType:e.components.getType(o)};e.panelManager.openComponentPanel("compPanels.panels.BoxSlideShow.settingsPanel",n)}function v(i,l){var r=i.components.layout.getRelativeToScreenConsideringScroll(l),c=n.createElement(t.popoverTemplates.quickTip,{text:"ONSTAGE_SLIDESHOW_RESIZE_TOOLTIP",linkActionText:"ONSTAGE_SLIDESHOW_RESIZE_TOOLTIP_LINK",linkAction:function(){i.bi.event(o.bi.events.boxSlideShow.SLIDESHOW_HIDDEN_ELEMENTS_TOOLTIP_ACTION_CLICKED,{action:"settings"}),m(i,l)},symbol:"idea-bulb",closeAction:function(){i.bi.event(o.bi.events.boxSlideShow.SLIDESHOW_HIDDEN_ELEMENTS_TOOLTIP_ACTION_CLICKED,{action:"x"}),g(i)},onOuterClick:function(o){var n=e.head(i.selection.getComponentsUnderClick(o)),t=s(i,l),r=i.components.getChildren(t,!0);n&&(e.isEqual(n,l)||e.some(r,n))||g(i)}}),a={height:1,width:1,top:r.y<0?i.editorConfig.topBarHeight+10:r.y+i.editorConfig.topBarHeight+20,left:r.x+r.width/2},d={noArrow:!0,shake:!1,behindPopUps:!0,hideMethod:i.toolsControl.toggleHalfOpacityTools.bind(this,!1),alignment:"bottom"};i.showFloatingBubble(c,a,d,!0)}var w=["SlideVertical","SlideHorizontal"];return{getAllSlides:i,getTotalSlidesLength:l,findCurrentSlide:s,getCurrentSlideIndex:r,getSlideShowParent:c,getSlideShowSlideParent:a,moveNextSlide:d,movePrevSlide:p,preNavigationActions:S,identifyComponentsOutOfSlideshow:f,showCompsOutOfSlideshowTooltip:v,hideQuickTip:g}}),define("boxSlideshow",["boxSlideshow/utils/boxSlideShowUtils"],function(e){return{utils:{boxSlideShowUtils:e}}});
//# sourceMappingURL=boxSlideshow.min.js.map