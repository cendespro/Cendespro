"use strict";var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};define("baseUI/panelInputs/inputMixin",["react","lodash","util"],function(e,t,s){return{mixins:[s.valueLinkMixin,s.propTypesFilterMixin],propTypes:{label:e.PropTypes.string,disabled:e.PropTypes.bool},hasLabel:function(){return void 0!==this.props.label&&this.props.label.trim().length>0},getLabel:function(){return void 0!==this.props.label?this.props.label:""},isDisabled:function(){return!0===this.props.disabled},getClassName:function(e){return s.inheritClassName(this.props,e)}}}),define("baseUI/panelInputs/registerDocumentEventsMixin",["lodash","jquery"],function(e,t){function s(){var s=t(window.document);e.forEach(this.documentEventListeners,e.bind(function(e,t){s.off(t,e),delete this.documentEventListeners[t]},this))}var n={MOUSE_UP:"mouseup",MOUSE_MOVE:"mousemove"};return{componentWillMount:function(){this.documentEventListeners={}},componentWillUnmount:function(){s.call(this)},registerEventListenersToDocument:function(s,i){e.includes(n,s)&&(this.removeEventListenersFromDocument(s),this.documentEventListeners[s]=i,t(window.document).on(s,i))},removeEventListenersFromDocument:function(e){var s=this.documentEventListeners[e];s&&(t(window.document).off(e,s),delete this.documentEventListeners[e])}}}),define("baseUI/mixins/classNameMixin",[],function(){return{generateClassName:function(e){e=e||"";var t=this.props.className;return t&&(e+=" "+t),e}}}),define("baseUI/mixins/reportUIChangeMixin",["react"],function(e){return{contextTypes:{reportUIChange:e.PropTypes.func},reportUIChange:function(e,t){this.context.reportUIChange&&this.context.reportUIChange(t||this.constructor.displayName,this.props.instanceId||this.props.label,e)}}}),define("baseUI/controls/radioButtonsMixin",["react","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin","util"],function(e,t,s,n,i){var o=i.translationMixin,a=0;return{propTypes:{options:e.PropTypes.arrayOf(e.PropTypes.shape({value:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.bool,e.PropTypes.number]).isRequired,className:e.PropTypes.string}))},mixins:[s,n,o],contextTypes:{reportUIChange:e.PropTypes.func},getRadioGroupId:function(){return this.groupId||(this.groupId="rb_"+a++),this.groupId},handleChange:function(e,t){this.callOnChangeIfExists(e,t),this.reportUIChange({value:e})}}}),define("baseUI/mixins/positionRelativeToElementMixin",["reactDOM","lodash","react","jquery","util","uiConstants"],function(e,t,s,n,i,o){function a(){return{width:n(window).width(),height:n(window).height()}}var r=[o.TOOLTIP.ALIGNMENT.BOTTOM,o.TOOLTIP.ALIGNMENT.TOP],l=o.BUBBLE.DISTANCE_FROM_TARGET;return{mixins:[i.singlePassDOMReadWriteMixin],PropTypes:{alignment:s.PropTypes.oneOf(t.values(o.TOOLTIP.ALIGNMENT)),marginsFromElement:s.PropTypes.number,overridePositionAdjustments:s.PropTypes.shape({type:s.PropTypes.oneOf(t.values(o.TOOLTIP.ALIGNMENT)).isRequired,value:s.PropTypes.number.isRequired})},getInitialState:function(){return this.calculatedAlignment=null,{}},getDefaultProps:function(){return{alignment:o.TOOLTIP.ALIGNMENT.TOP,marginsFromElement:0}},getPosition:function(){var e={top:0,left:0};return t.includes(r,this.props.alignment)?(e.top=this.getTopInVerticalAlignment()+this.props.marginsFromElement,e.left=this.getLeftInVerticalAlignment()):(e.top=this.getTopInHorizontalAlignment(),e.left=this.getLeftInHorizontalAlignment()+this.props.marginsFromElement),e.top+=n(window).scrollTop(),e},getLayouts:function(){return{window:a(),target:this.props.targetNode.getBoundingClientRect(),self:e.findDOMNode(this).getBoundingClientRect()}},getTopInVerticalAlignment:function(){var e=this.getLayouts(),t=0,s=e.target.top-l-e.self.height>0,n=e.target.bottom+l+e.self.height<e.window.height,i=this.props.alignment===o.TOOLTIP.ALIGNMENT.TOP,a=this.props.alignment===o.TOOLTIP.ALIGNMENT.BOTTOM;return i&&s||a&&!n?(t=e.target.top-l-e.self.height,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.TOP)):(t=e.target.bottom+l,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.BOTTOM)),t},getLeftInVerticalAlignment:function(){var e=this.getLayouts(),t=Math.floor(e.target.left+e.target.width/2)-e.self.width/2,s=this.applyLeftRightOverridePositionAdjustments()||t,n=e.window.width-this.props.marginsFromWindow-e.self.width,o=this.props.marginsFromWindow;return i.math.ensureWithinLimits(s,o,n)},getTopInHorizontalAlignment:function(){var e=this.getLayouts(),t=Math.floor(e.target.top+e.target.height/2)-e.self.height/2,s=this.applyTopBottomOverridePositionAdjustments()||t,n=e.window.height-this.props.marginsFromWindow-e.self.height,o=this.props.marginsFromWindow;return i.math.ensureWithinLimits(s,o,n)},getLeftInHorizontalAlignment:function(){var e=this.getLayouts(),t=0,s=e.target.left-l-e.self.width>0,n=e.target.right+l+e.self.width<e.window.width,i=this.props.alignment===o.TOOLTIP.ALIGNMENT.LEFT,a=this.props.alignment===o.TOOLTIP.ALIGNMENT.RIGHT;return i&&s||a&&!n?(t=e.target.left-l-e.self.width,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.LEFT)):(t=e.target.right+l,this.updateCalculatedAlignmentAndRender(o.TOOLTIP.ALIGNMENT.RIGHT)),t},applyLeftRightOverridePositionAdjustments:function(){var e=this.getLayouts(),t=this.props.overridePositionAdjustments,s=Math.floor(e.target.left+e.target.width/2);return t&&t.type===o.TOOLTIP.ALIGNMENT.LEFT?s-t.value:t&&t.type===o.TOOLTIP.ALIGNMENT.RIGHT?s+t.value-e.self.width:null},applyTopBottomOverridePositionAdjustments:function(){var e=this.getLayouts(),t=this.props.overridePositionAdjustments,s=Math.floor(e.target.top+e.target.height/2);return t&&t.type===o.TOOLTIP.ALIGNMENT.TOP?s-t.value:t&&t.type===o.TOOLTIP.ALIGNMENT.BOTTOM?s+t.value-e.self.height:null},updateCalculatedAlignmentAndRender:function(e){this.calculatedAlignment!==e&&(this.calculatedAlignment=e,this.forceUpdate())},measurePhase:function(){return this.getPosition()},patchPhase:function(t){var s={top:t.top,left:t.left},i=e.findDOMNode(this);n(i).offset(s)}}}),define("baseUI/commonData/commonData",[],function(){return{TEXT_DISPLAY_ITEMS:[{value:"titleAndDescription",label:"Gallery_Settings_Text_Display_Title_Description"},{value:"titleOnly",label:"Gallery_Settings_Text_Display_Title_Only"},{value:"descriptionOnly",label:"Gallery_Settings_Text_Display_Description_Only"},{value:"noText",label:"Gallery_Settings_Text_Display_No_Text"}],ALIGNMENT_MODES_NO_CENTER:[{value:"left",symbolName:"alignLeft"},{value:"right",symbolName:"alignRight"}],ALIGNMENT_MODES:[{value:"left",symbolName:"alignLeft"},{value:"center",symbolName:"alignCenter"},{value:"right",symbolName:"alignRight"}],ALIGNMENT_MODES_XY:[{value:"top_left",symbolName:"alignTypeTopLeft"},{value:"top",symbolName:"alignTypeTop"},{value:"top_right",symbolName:"alignTypeTopRight"},{value:"left",symbolName:"alignTypeLeft"},{value:"center",symbolName:"alignTypeCenter"},{value:"right",symbolName:"alignTypeRight"},{value:"bottom_left",symbolName:"alignTypeBottomLeft"},{value:"bottom",symbolName:"alignTypeBottom"},{value:"bottom_right",symbolName:"alignTypeBottomRight"}],TEXT_ALIGNMENT_MODES:[{value:"left",symbolName:"textAlignLeft"},{value:"center",symbolName:"textAlignCenter"},{value:"right",symbolName:"textAlignRight"}],GALLERIES_IMAGE_ON_CLICK_ACTIONS:[{value:"disabled",label:"Gallery_Settings_Image_Behavior_Image_Click_Nothing"},{value:"zoomMode",label:"Gallery_Settings_Image_Behavior_Image_Click_Expand"},{value:"goToLink",label:"Gallery_Settings_Image_Behavior_Image_Click_Gotolink"}]}}),define("baseUI/sortByDragList/dragHelper",["jquery"],function(e){function t(t,s,n){return this._blockSelectionCssClass=t||"block-selection",this._dragPlaceholderCssClass=s||"drag-placeholder",this._dragContainerCssClass=n||"drag-container",this._body=e(window.document.body),this}return t.prototype.startDrag=function(t,s,n,i){this._startIdx=s,this._startedDrag=!1,this._movedElement=t,this._endCallback=i;var o=n.clientY+e(window).scrollTop();this._lastMouseY=o,this._deltaY=o-t.offset().top,this._body.on("mousemove.draghelper",this._onItemDrag.bind(this)),this._body.on("mouseup.draghelper",this._onItemEndDrag.bind(this)),this._body.addClass(this._blockSelectionCssClass)},t.prototype._undockAndDrag=function(){this._undockMovingItem(),this._startedDrag=!0},t.prototype._undockMovingItem=function(){var t={x:this._movedElement.outerWidth(!0),y:this._movedElement.outerHeight(!0)},s=this._movedElement.parent().parent(),n=s.offset(),i=this._movedElement.offset();this._placeholder=e("<div/>"),this._placeholder.addClass(this._dragPlaceholderCssClass),this._placeholder.get(0).style.width=t.x+"px",this._placeholder.get(0).style.height=t.y+"px",this._movedContainer=e("<div/>"),this._movedContainer.addClass(this._dragContainerCssClass),this._movedContainer.get(0).style.width=t.x+"px",this._movedContainer.get(0).style.height=t.y+"px",this._movedContainer.css({top:i.top-n.top+"px",position:"absolute"}),this._movedElement.before(this._placeholder),this._movedContainer.append(this._movedElement),s.children().first().before(this._movedContainer)},t.prototype._onItemDrag=function(t){this._startedDrag||this._undockAndDrag();var s=t.clientY+e(window).scrollTop(),n=this._movedContainer.parent(),i=s-n.offset().top-this._deltaY;this._movedContainer.css("top",i+"px");var o=s<this._lastMouseY;this._lastMouseY=s;for(var a,r=n.children().last().children(),l=0;l<r.length;l++){var p=r.eq(l),u=p.offset().top,c=u+p.outerHeight(!0);if(s>=u&&s<c){a=p;break}}this._placeholder.is(a)||(i<0&&(a=r.first()),a?o?a.before(this._placeholder):a.after(this._placeholder):r.last().after(this._placeholder))},t.prototype._onItemEndDrag=function(){if(this._body.off(".draghelper"),this._body.removeClass(this._blockSelectionCssClass),this._startedDrag){for(var e=-1,t=this._movedContainer.parent().children().last().children(),s=0;s<t.length;s++)if(this._placeholder.is(t[s])){e=s;break}this._dockMovingItem(),this._startIdx!==e&&this._endCallback(this._startIdx,e)}},t.prototype._dockMovingItem=function(){var e=this._movedContainer.parent().children().last();this._placeholder.remove(),this._startIdx===e.children().length?e.append(this._movedElement):this._movedElement.insertBefore(e.children().eq(this._startIdx)),this._movedContainer.remove(),this._placeholder=void 0,this._movedContainer=void 0},t}),define("baseUI/sortByDragList/sortByDragList",["reactDOM","lodash","react","jquery","baseUI/sortByDragList/dragHelper"],function(e,t,s,n,i){function o(){return this.props.childrenTransition?s.createElement(this.props.childrenTransition,this.props.transitionProps,this.props.children):this.props.children}return s.createClass({displayName:"SortByDragList",propTypes:{childrenTransition:s.PropTypes.func,transitionProps:s.PropTypes.object},getInitialState:function(){return this.dragHelper=new i,null},render:function(){var e=t.omit(this.props,["children","disabled"]);return e.style={position:"relative"},s.createElement("div",e,s.createElement("div",null,o.call(this)))},startDrag:function(t,s){if(!0!==this.props.disabled){var i=n(e.findDOMNode(this)),o=n(s.currentTarget),a=this.props.onItemMoved||function(){},r=i.children().children();this.props.childrenTransition&&(r=r.children()),this.dragHelper.startDrag(r.has(o),t,s,a)}}})}),define("baseUI/controls/button.rt",["react","lodash","symbols","experiment","baseUILib"],function(e,t,s,n,i){return function(){return e.createElement(i.Button,{className:this.props.className,disabled:this.props.disabled,onClick:this.props.onClick},this.props.icon?e.createElement(s.symbol,{key:"symbol-"+this.props.icon,className:this.props.label?"symbol-with-label":"",name:this.props.icon}):null,e.createElement("span",{"data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.hintId:null},this.translateIfNeeded(this.props.label)))}}),define("baseUI/controls/button",["react","lodash","util","baseUI/controls/button.rt"],function(e,t,s,n){return e.createClass({displayName:"Button",mixins:[s.translationMixin],propTypes:{label:e.PropTypes.string,className:e.PropTypes.string,disabled:e.PropTypes.bool,icon:e.PropTypes.string,hintId:e.PropTypes.string,onClick:e.PropTypes.func},render:n})}),define("baseUI/panelInputs/autoCompleteTextInput.rt",["react","lodash","baseUI/controls/button"],function(e,t,s){return function(){return e.createElement("div",this.getContainerProps(),e.createElement("input",{ref:"input",type:"text",value:this.state.value,placeholder:this.props.placeholder,onKeyDown:this.onKeyDown,dir:this.props.dir,onChange:this.onChange}),this.state.value?e.createElement(s,{key:"cancel",icon:this.props.cancelIcon,onClick:this.onClickCancel}):null)}}),define("baseUI/panelInputs/autoCompleteTextInput",["reactDOM","react","lodash","baseUI/panelInputs/autoCompleteTextInput.rt"],function(e,t,s,n){return t.createClass({displayName:"autoCompleteTextInput",propTypes:{complete:t.PropTypes.func,onChange:t.PropTypes.func},getInitialState:function(){return{value:"",cursor:0,hasCompletion:!1}},getDefaultProps:function(){return{dir:"ltr"}},getContainerProps:function(){return s.pick(this.props,["style","class","className"])},onKeyDown:function(e){8===e.keyCode&&(this.isDelete=!0),this.props.onKeyDown&&this.props.onKeyDown(e)},onChange:function(t){var s=t.target.value,n=e.findDOMNode(this.refs.input).selectionStart;this.setValue(s,n)},focus:function(){var t=e.findDOMNode(this.refs.input);t&&t.focus()},setValue:function(e,t){if(t=t||e.length,e!==this.state.value){this.callOnChangeIfExists(e);var s=t===e.length,n=this.isDelete;this.isDelete=!1;var i=s&&!n,o=e;i&&this.props.complete&&((o=this.props.complete(e))||(i=!1,o=e)),this.setState({value:o,cursor:t,hasCompletion:i})}},componentDidUpdate:function(){this.state.hasCompletion&&e.findDOMNode(this.refs.input).setSelectionRange(this.state.cursor,this.state.value.length)},callOnChangeIfExists:function(e){var t=this.props.valueLink?this.props.valueLink.requestChange:this.props.onChange;t&&t(e)},onClickCancel:function(e){e.stopPropagation(),this.setValue("")},render:n})}),define("baseUI/panelInputs/inputValidationMixin",["react","lodash"],function(e,t){function s(e,s){return t.findIndex(e,function(e){return!e(s)})}function n(e,t,n){var i=s(t,n);return i<0?"":e[i]}return{propTypes:{validator:e.PropTypes.oneOfType([e.PropTypes.func,e.PropTypes.arrayOf(e.PropTypes.func)]),invalidMessage:e.PropTypes.oneOfType([e.PropTypes.func,e.PropTypes.string,e.PropTypes.arrayOf(e.PropTypes.string)]),onValidation:e.PropTypes.func},isValid:function(e){return!this.hasValidator()||(e=0===arguments.length?this.state.value:e,t.isArray(this.props.validator)?-1===s(this.props.validator,e):this.props.validator(e))},hasValidator:function(){return t.isFunction(this.props.validator)||t.isArray(this.props.validator)},hasValidationEventHandler:function(){return t.isFunction(this.props.onValidation)},getInvalidMessage:function(){return this.getValidationStatusMessage()},getValidationStatusMessage:function(){var e=this.state.value,s=this.props.invalidMessage||this.props.validationMessage;return t.isFunction(s)?s(e):t.isArray(this.props.invalidMessage)?t.isArray(this.props.validator)?n(s,this.props.validator,e):s[0]:s}}}),define("baseUI/panelInputs/inputValidationAsyncMixin",["react","lodash"],function(e,t){return{propTypes:{asyncValidator:e.PropTypes.oneOfType([e.PropTypes.func,e.PropTypes.arrayOf(e.PropTypes.objectOf(e.PropTypes.func)),e.PropTypes.arrayOf(e.PropTypes.func)])},isAsyncValid:function(e,s,n){if(this.hasAsyncValidator()||s(),t.isFunction(this.props.asyncValidator))this.props.asyncValidator(e,s,n);else{var i=t.size(this.props.asyncValidator),o={},a=!1;t.forEach(this.props.asyncValidator,function(t,r){t(e,function(e){e&&(o[r]=e),0===--i&&s(o)},function(e){a||(a=!0,n(e))})})}},hasAsyncValidator:function(){return!!this.props.asyncValidator}}}),define("baseUI/popovers/tooltipManager",["lodash"],function(e){function t(){return e(n).filter("isDisplayed").map("presenterData").value()}function s(e){e.isDisplayed=!1,e.presenterData.mouseLeftTargetNode=!1}var n={},i={updateDisplayedTooltips:e.noop},o=0;return{generateId:function(){return"tooltip_"+o++},setTooltipRenderer:function(e){i=e},registerOrUpdateTooltip:function(s,o){n[s]=n[s]||{},n[s].presenterData=e.assign({},n[s].presenterData,o),n[s].isDisplayed&&i.updateDisplayedTooltips(t())},unRegisterTooltip:function(e){this.hide(e),delete n[e]},isDisplayed:function(e){return n[e]&&n[e].isDisplayed},isDisplayingAnything:function(){return e.some(n,"isDisplayed")},createTooltip:function(e,t){return t.id=t.id||this.generateId(),this.registerOrUpdateTooltip(t.id,t),e&&this.show(t.id),t.id},show:function(e){n[e]&&!n[e].isDisplayed&&(n[e].isDisplayed=!0,i.updateDisplayedTooltips(t()),n[e].presenterData.onOpen&&n[e].presenterData.onOpen())},toggle:function(e){n[e]&&(n[e].isDisplayed?this.hide(e):this.show(e))},showForDuration:function(e,t){this.show(e),window.setTimeout(function(){this.hide(e)}.bind(this),t)},notifyMouseLeave:function(e){var s=n[e];s&&s.isDisplayed&&(s.presenterData.interactive?(s.presenterData.mouseLeftTargetNode=!0,i.updateDisplayedTooltips(t())):this.hide(e))},hide:function(o,a){a=e.isFunction(a)?a:e.noop,this.isDisplayed(o)&&(s(n[o]),i.updateDisplayedTooltips(t(),a))},hideAll:function(o){e.forEach(n,function(e){s(e)}),i.updateDisplayedTooltips(t(),o)}}}),define("baseUI/popovers/tooltipEventCatcher",["lodash","react"],function(e,t){return t.createClass({displayName:"tooltipEventCatcher",propTypes:{children:t.PropTypes.element.isRequired},onEvent:function(e,t){this.props[e](t),this.props.children.props[e]&&this.props.children.props[e](t)},render:function(){var s=e(this.props).pickBy(function(e,t){return 0===t.indexOf("on")}).mapValues(e.bind(function(e,t){return this.onEvent.bind(this,t)},this)).value();return t.cloneElement(t.Children.only(this.props.children),s)}})}),define("baseUI/popovers/tooltip",["reactDOM","react","lodash","uiConstants","baseUI/popovers/tooltipEventCatcher","baseUI/popovers/tooltipManager"],function(e,t,s,n,i,o){return t.createClass({displayName:"tooltip",propTypes:{id:t.PropTypes.string,disabled:t.PropTypes.bool,value:t.PropTypes.oneOfType([t.PropTypes.string.isRequired,t.PropTypes.node.isRequired,t.PropTypes.element.isRequired,t.PropTypes.shape({classPath:t.PropTypes.string.isRequired,props:t.PropTypes.object.isRequired})]),noArrow:t.PropTypes.bool,width:t.PropTypes.string,marginsFromElement:t.PropTypes.number,alignment:t.PropTypes.string,delay:t.PropTypes.oneOfType([t.PropTypes.number,t.PropTypes.string]),closeDelay:t.PropTypes.number,interactive:t.PropTypes.bool,openTriggers:t.PropTypes.arrayOf(t.PropTypes.oneOf(s.values(n.TOOLTIP.TRIGGERS))),closeTriggers:t.PropTypes.arrayOf(t.PropTypes.oneOf(s.values(n.TOOLTIP.TRIGGERS))),shouldTranslate:t.PropTypes.bool,children:t.PropTypes.oneOfType([t.PropTypes.arrayOf(t.PropTypes.element),t.PropTypes.element]).isRequired,onOpen:t.PropTypes.func,onClose:t.PropTypes.func,styleType:t.PropTypes.oneOf(s.values(n.TOOLTIP.STYLE_TYPE)),marginsFromWindow:t.PropTypes.oneOfType([t.PropTypes.number,t.PropTypes.string])},getDefaultProps:function(){return{disabled:!1,alignment:n.TOOLTIP.ALIGNMENT.TOP,delay:"100",width:"240px",interactive:!1,openTriggers:[n.TOOLTIP.TRIGGERS.MOUSE_ENTER],closeTriggers:[n.TOOLTIP.TRIGGERS.MOUSE_LEAVE,n.TOOLTIP.TRIGGERS.CLICK],onOpen:s.noop,onClose:s.noop,marginsFromWindow:6,marginsFromElement:0}},getInitialState:function(){return this.id=this.props.id||o.generateId(),null},componentDidMount:function(){this.forceUpdate(),s.includes(this.props.openTriggers,n.TOOLTIP.TRIGGERS.IMMEDIATE)&&this.showTooltip()},componentDidUpdate:function(e){e.id!==this.props.id&&s.includes(this.props.openTriggers,n.TOOLTIP.TRIGGERS.IMMEDIATE)&&this.showTooltip()},componentWillUpdate:function(e){o.registerOrUpdateTooltip(this.id,this.getPresenterData(e))},componentWillUnmount:function(){o.unRegisterTooltip(this.id)},showTooltip:function(){var e=this.id;this.props.disabled||(this.pendingShowDelay=window.setTimeout(function(){o.show(e)},this.props.delay))},hideTooltip:function(){o.hide(this.id)},toggleTooltip:function(){o.isDisplayed(this.id)?this.hideTooltip():this.showTooltip()},handleMouseLeave:function(){window.clearTimeout(this.pendingShowDelay),o.notifyMouseLeave(this.id)},getPresenterData:function(t){return t=t||this.props,s.assign({},s.omit(t,"children"),{targetNode:e.findDOMNode(this),id:this.id})},render:function(){var e={onMouseEnter:this.showTooltip,onClick:this.showTooltip},n={onMouseLeave:this.handleMouseLeave,onClick:this.hideTooltip},o=s.pick(e,this.props.openTriggers),a=s.pick(n,this.props.closeTriggers),r=s.assign({},o,a);return o.onClick&&a.onClick&&(r.onClick=this.toggleTooltip),t.createElement(i,r,this.props.children)}})}),define("baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip.rt",["react","lodash","symbols","uiConstants"],function(e,t,s,n){return function(){function t(){var t=this.hasImage();return e.createElement("div",{className:"imageAndTextTooltip"},this.props.calculatedAlignment===n.TOOLTIP.ALIGNMENT.TOP&&t?e.createElement("div",{key:"upperImage",className:"image-container upper-image",style:this.getImageContainerStyle()},this.props.image?e.createElement(s.symbol,{key:"image-top",name:this.props.image}):null):null,e.createElement("div",{className:"text-container "+(this.props.image?"":"text-no-image")},this.props.onClose?e.createElement(s.symbol,{className:"close",key:"closeButton",onClick:this.props.onClose,name:"bubble-close"}):null,this.props.title?e.createElement("div",{className:"title",key:"tooltipTitle"},this.translateIfNeeded(this.props.title)):null,this.props.text?e.createElement("div",{className:"text",key:"tooltipText"},this.translateIfNeeded(this.props.text)):null,this.props.linkAction?e.createElement("div",{className:"learn-more",onClick:this.onLinkClick,key:"learnMore"},this.translateIfNeeded(this.props.learnMoreText),"\n        "):null),this.props.calculatedAlignment===n.TOOLTIP.ALIGNMENT.BOTTOM&&t?e.createElement("div",{key:"lowerImage",className:"image-container lower-image",style:this.getImageContainerStyle()},this.props.image?e.createElement(s.symbol,{key:"image-bottom",name:this.props.image}):null):null)}return t.apply(this,[])}}),define("baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip",["react","lodash","util","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip.rt"],function(e,t,s,n){return e.createClass({displayName:"imageAndTextTooltip",propTypes:{title:e.PropTypes.string,text:e.PropTypes.string,image:e.PropTypes.string,imageContainerStyle:e.PropTypes.object,calculatedAlignment:e.PropTypes.string,onClose:e.PropTypes.func},mixins:[s.translationMixin],render:n,onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},hasImage:function(){return Boolean(this.props.image)||Boolean(this.props.imageContainerStyle)},getImageContainerStyle:function(){return this.props.imageContainerStyle||{}}})}),define("baseUI/controls/infoIcon.rt",["react","lodash","baseUI/popovers/tooltip","symbols","uiConstants"],function(e,t,s,n,i){return function(){function t(e){e.stopPropagation()}function i(e){this.onClick(e)}return e.createElement(s,{disabled:this.props.disableTooltip,ref:"tooltip",value:this.getTooltipValue(),alignment:this.props.alignment,width:this.props.tooltipWidth},e.createElement("span",{className:this.generateClassName("info-icon"),onMouseMove:t.bind(this),onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},e.createElement(n.symbol,{name:this.props.symbolName,onClick:i.bind(this)})))}}),define("baseUI/controls/infoIcon",["reactDOM","react","lodash","uiConstants","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip","baseUI/mixins/classNameMixin","baseUI/controls/infoIcon.rt"],function(e,t,s,n,i,o,a){function r(e){for(var t=e;t&&t.parentElement&&!t.dataset.tooltipBounds;)t=t.parentElement;if(t)return t.getBoundingClientRect()}return t.createClass({displayName:"infoIcon",propTypes:{title:t.PropTypes.string,text:t.PropTypes.string.isRequired,alignment:t.PropTypes.string,fitToBounds:t.PropTypes.bool,symbolName:t.PropTypes.string,tooltipWidth:t.PropTypes.string,propagate:t.PropTypes.bool},mixins:[o],getDefaultProps:function(){return{alignment:n.TOOLTIP.ALIGNMENT.TOP,fitToBounds:!0,symbolName:"infoIcon"}},getTooltipValue:function(){return t.createElement(i,s.assign({},this.props))},getTooltipsPanelBounds:function(){var t=r(e.findDOMNode(this));return{left:t?t.left:180,width:t?t.width:500}},onClick:function(e){this.props.propagate||e.stopPropagation()},showTooltip:function(){this.refs.tooltip.showTooltip()},hideTooltip:function(){this.refs.tooltip.hideTooltip()},render:a})}),define("baseUI/panelInputs/textInputCommon.rt",["react","lodash","baseUI/popovers/tooltip","uiConstants","symbols","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,n,i,o,a){return function(){return e.createElement("div",t.assign({},{className:t(this.getWrapperClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.filteredProps()),this.hasLabel()?e.createElement("label",{key:"textInputControlTitle",className:"text-input-label"},this.translateIfNeeded(this.getLabel())):null,this.hasLabel()&&(this.props.infoText||this.props.infoTitle)?e.createElement(o,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle,size:18}):null,this.props.isMultiLine?null:e.createElement(a.TextInput,t.assign({},{key:"input"},this.getInputProps())),this.props.isMultiLine?e.createElement(a.TextInputMultiline,t.assign({},{key:"input"},this.getInputProps())):null,e.createElement(s,{id:this.getTooltipId(),value:this.getTooltipMessage?this.getTooltipMessage():this.getValidationStatusMessage(),width:"300px",styleType:n.TOOLTIP.STYLE_TYPE.SMALL,shouldTranslate:this.props.shouldTranslate,openTriggers:[],closeTriggers:[]},e.createElement("span",{className:"validation-icon-wrapper"},e.createElement("span",{className:"validation-icon validation-icon-success",onClick:this.focusInput},e.createElement(i.symbol,{name:"inputValidationSuccess"})),e.createElement("span",{className:"validation-icon validation-icon-error",onClick:this.focusInput},e.createElement(i.symbol,{name:"inputValidationError"})),e.createElement("span",{className:"validation-icon validation-icon-warning"},e.createElement(i.symbol,{name:"inputValidationWarning"})))))}}),define("baseUI/panelInputs/textInputSync",["lodash","react","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputCommon.rt"],function(e,t,s,n,i,o,a){var r={PROPS:"props",INPUT:"input"};return t.createClass({displayName:"textInputSync",mixins:[t.addons.LinkedStateMixin,n,i,s.translationMixin,s.blockOuterScrollMixin],propTypes:{label:t.PropTypes.string,type:t.PropTypes.string,placeholder:t.PropTypes.string,defaultText:t.PropTypes.string,maxLength:t.PropTypes.number,focus:t.PropTypes.bool,className:t.PropTypes.string,inputFocusTooltipMessage:t.PropTypes.string,isMultiLine:t.PropTypes.bool,infoText:t.PropTypes.string,infoTitle:t.PropTypes.string,onChangeInValidationStatus:t.PropTypes.func,textAreaClass:t.PropTypes.string,isWarning:t.PropTypes.bool,prefix:t.PropTypes.string,cancelOnBlur:t.PropTypes.bool,blurOnEnterKey:t.PropTypes.bool},getInitialState:function(){var e=this.getInitialValue();return this.lastValidValue=e,this.shouldDisplaySuccessIndicator=!1,{value:e,valueSrc:r.PROPS,isFocused:this.props.focus}},getInitialValue:function(){var e=this.getValueFromProps();return e||(this.translateIfNeeded(this.props.defaultText)||"")},getWrapperClasses:function(){var e=this.isValid(this.state.value),t={"control-text-input":!0,success:e&&this.shouldDisplaySuccessIndicator,error:!e,"instant-error":!e,warning:this.props.isWarning,"is-disabled":this.isDisabled(),focused:this.state.isFocused,"has-label":this.props.label};return this.props.className&&(t[this.props.className]=!0),t},focusInput:function(t){t&&t.preventDefault(),this.valueOnFocus=this.lastValidValue;var s=this.props.onFocus||e.noop;this.setState({isFocused:!0},s.bind(null,t))},_shouldRestoreLastValue:function(e){return e||this.props.cancelOnBlur&&!this.props.validator(this.state.value)},onBlur:function(t,s){if(this._shouldRestoreLastValue(s)){var n=this.props.onBlur||e.noop;this.lastValidValue=this.valueOnFocus,this.setState({isFocused:!1,value:this.lastValidValue,valueSrc:r.INPUT},n.bind(null,t))}else this.blurTimeoutID=window.setTimeout(function(){this.blurTimeoutID=null,this.setState({isFocused:!window.document.hasFocus()})}.bind(this),0)},getInputProps:function(){return{prefix:this.props.prefix,type:this.props.type,innerInputClass:this.props.innerInputClass,value:this.state.value,onChange:this.handleChange,disabled:this.isDisabled(),placeholder:this.props.placeholder,maxLength:this.props.maxLength,spellCheck:!1,focus:this.state.isFocused,dir:this.props.dir,onFocus:this.focusInput,onBlur:this.onBlur,blurOnEnterKey:this.props.blurOnEnterKey,blurOnEscKey:this.props.blurOnEscKey,initialSelectionStart:this.props.initialSelectionStart,initialSelectionEnd:this.props.initialSelectionEnd}},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="text-input-sync-validation-error-"+e.uniqueId()),this.uniqueTooltipId},componentWillUnmount:function(){this.blurTimeoutID&&(window.clearTimeout(this.blurTimeoutID),this.blurTimeoutID=null),this.hideSuccessIndicatorTimeoutID&&(window.clearTimeout(this.hideSuccessIndicatorTimeoutID),this.hideSuccessIndicatorTimeoutID=null)},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e),n=t!==this.getValueFromProps(),i=t!==this.state.value;n&&i&&(this.setState({value:"number"===this.props.type?t:s.stringUtils.removeNonSupportedCharacters(t),valueSrc:r.PROPS}),this.isValid(t)&&(this.lastValidValue=t,this.valueOnFocus=t))},componentWillUpdate:function(e,t){function s(){this.hideSuccessIndicatorTimeoutID=null,n.shouldDisplaySuccessIndicator=!1,n.forceUpdate()}var n=this;(function(){var e=n.state.isFocused&&!t.isFocused,s=t.value!==n.valueOnFocus;return e&&s&&n.isValid(t.value)})()&&(this.shouldDisplaySuccessIndicator=!0,this.hideSuccessIndicatorTimeoutID=window.setTimeout(s,1e3))},componentDidUpdate:function(e,t){var s=!t.isFocused&&this.state.isFocused,n=t.isFocused&&!this.state.isFocused,i=this.state.isFocused&&this.props.inputFocusTooltipMessage;s&&(this.valueOnFocus=this.lastValidValue),i&&o.show(this.getTooltipId()),n&&o.hide(this.getTooltipId());var a=this.state.value;if(t.value!==a){var l=this.isValid(a);this.hasValidationEventHandler()&&this.props.onValidation(l),l?(this.lastValidValue=a,this.state.valueSrc!==r.PROPS&&this.callOnChangeIfExists(a),i||o.hide(this.getTooltipId())):o.show(this.getTooltipId()),this.props.onChangeInValidationStatus&&this.props.onChangeInValidationStatus(l)}},handleChange:function(e){this.setState({value:e,valueSrc:r.INPUT})},getTooltipMessage:function(){var e=this.props.inputFocusTooltipMessage||"",t=this.getValidationStatusMessage();return""!==t?t:e},render:a})}),define("baseUI/panelInputs/textInputAsync",["lodash","react","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/panelInputs/inputValidationAsyncMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputCommon.rt"],function(e,t,s,n,i,o,a,r){return t.createClass({displayName:"textInputAsync",mixins:[t.addons.LinkedStateMixin,n,i,o,s.translationMixin,s.blockOuterScrollMixin],propTypes:{shouldTranslate:t.PropTypes.bool,label:t.PropTypes.string,type:t.PropTypes.string,placeholder:t.PropTypes.string,defaultText:t.PropTypes.string,maxLength:t.PropTypes.number,focus:t.PropTypes.bool,className:t.PropTypes.string,isMultiLine:t.PropTypes.bool,infoText:t.PropTypes.string,infoTitle:t.PropTypes.string,onChangeInValidationStatus:t.PropTypes.func,textAreaClass:t.PropTypes.string,isWarning:t.PropTypes.bool,prefix:t.PropTypes.string,validateOnBlurOnly:t.PropTypes.bool,blurOnEnterKey:t.PropTypes.bool},ValidationStatus:{NONE:"none",SUCCESS:"success",ERROR:"error"},getInitialState:function(){var e=this.getInitialValue();return this.lastValidValue=e,{value:e,validationStatus:this.ValidationStatus.NONE,isFocused:this.props.focus}},getInitialValue:function(){var e=this.getValueFromProps();return e||(this.translateIfNeeded(this.props.defaultText)||"")},getWrapperClasses:function(){var e={"control-text-input":!0,success:this.state.validationStatus===this.ValidationStatus.SUCCESS,error:this.state.validationStatus===this.ValidationStatus.ERROR,warning:this.props.isWarning,"is-disabled":this.isDisabled(),focused:this.state.isFocused,"has-label":this.props.label};return this.props.className&&(e[this.props.className]=!0),e},focusInput:function(t){t&&t.preventDefault();var s=this.props.onFocus||e.noop;this.setState({isFocused:!0},s.bind(null,t))},onBlur:function(t,s){if(s){var n=this.props.onBlur||e.noop;this.setState({isFocused:!1,value:this.lastValidValue,validationStatus:this.ValidationStatus.NONE},n.bind(null,t))}else window.setTimeout(function(){this.setState({isFocused:!window.document.hasFocus()})}.bind(this),0)},getInputProps:function(){return{shouldTranslate:this.props.shouldTranslate,prefix:this.props.prefix,type:this.props.type,innerInputClass:this.props.innerInputClass,value:this.state.value,onChange:this.handleChange,disabled:this.isDisabled(),placeholder:this.props.placeholder,maxLength:this.props.maxLength,spellCheck:!1,focus:this.state.isFocused,dir:this.props.dir,onFocus:this.focusInput,onBlur:this.onBlur,blurOnEnterKey:this.props.blurOnEnterKey,initialSelectionStart:this.props.initialSelectionStart,initialSelectionEnd:this.props.initialSelectionEnd}},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="text-input-async-validation-error-"+e.uniqueId()),this.uniqueTooltipId},onValidationSuccess:function(e,t){this.isMounted()?(this.successResultObject=t,this.setState({validationStatus:this.ValidationStatus.SUCCESS})):this.callOnChangeIfExists(e,this.successResultObject)},onValidationFailure:function(){this.isMounted()&&this.setState({validationStatus:this.ValidationStatus.ERROR})},validate:function(e,t,s){this.isValid(e)?this.isAsyncValid(e,t,s):s(this.getInvalidMessage())},hideSuccessIndicator:function(){this.isMounted()&&this.setState({validationStatus:this.ValidationStatus.NONE})},onValueValid:function(e){this.props.alwaysShowValidationTooltip||(window.setTimeout(this.hideSuccessIndicator,1e3),a.hide(this.getTooltipId())),this.lastValidValue=e,this.callOnChangeIfExists(e,this.successResultObject)},toggleTooltip:function(){var e=this.state.isFocused,t=this.state.validationStatus,s=this.getTooltipId();!e&&(t===this.ValidationStatus.ERROR||t===this.ValidationStatus.SUCCESS&&this.props.alwaysShowValidationTooltip)?a.show(s):a.hide(s)},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);t!==this.getValueFromProps()&&t!==this.state.value&&(this.lastValidValue=t,this.setState({value:s.stringUtils.removeNonSupportedCharacters(t)}))},componentDidUpdate:function(e,t){var s=this.state.value,n=this.state.validationStatus,i=t.isFocused&&!this.state.isFocused,o=t.validationStatus!==n,a=s!==this.lastValidValue;this.toggleTooltip(),i&&a&&this.validate(s,this.onValidationSuccess.bind(this,s),this.onValidationFailure),o&&n===this.ValidationStatus.SUCCESS&&this.onValueValid(s)},handleChange:function(e){this.setState({value:e})},render:r})}),define("baseUI/panelInputs/textInput.rt",["react","lodash"],function(e,t){return function(){function s(){var s=this.getInputComponent();return e.createElement(s,t.assign({},{ref:"inputComp"},this.props))}return s.apply(this,[])}}),define("baseUI/panelInputs/textInput",["react","lodash","baseUI/panelInputs/inputValidationMixin","baseUI/panelInputs/inputValidationAsyncMixin","baseUI/panelInputs/textInputSync","baseUI/panelInputs/textInputAsync","baseUI/panelInputs/textInput.rt"],function(e,t,s,n,i,o,a){return e.createClass({displayName:"textInput",mixins:[s,n],propTypes:{label:e.PropTypes.string,type:e.PropTypes.string,placeholder:e.PropTypes.string,defaultText:e.PropTypes.string,maxLength:e.PropTypes.number,focus:e.PropTypes.bool,className:e.PropTypes.string,isMultiLine:e.PropTypes.bool,infoText:e.PropTypes.string,infoTitle:e.PropTypes.string,onChangeInValidationStatus:e.PropTypes.func,validateOnBlurOnly:e.PropTypes.bool,innerInputClass:e.PropTypes.string},getInputComponent:function(){return this.props.validateOnBlurOnly||this.hasAsyncValidator()?o:i},isValueValid:function(){return this.refs.inputComp.isValid()},focus:function(){this.refs.inputComp.focus()},render:a})}),define("baseUI/panelInputs/statefulInputMixin",["lodash","baseUI/panelInputs/inputMixin"],function(e,t){return e.assign({},t,{componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);this.getValueFromProps(this.props)!==t&&this.setState({value:t})}})}),define("baseUI/panelInputs/domainInput.rt",["react","lodash","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,n,i){return function(){function o(){this.setFocusState(!0)}return e.createElement("span",{className:t({"theme-blue":"blue"===this.props.theme,"domain-input-wrapper":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("span",{className:"mini-toolbar"},e.createElement(i.symbol,{name:"addressBarMiniToolbar"})),e.createElement("div",{className:"full-domain-wrapper"+(this.state.isFocused?" focus":"")},this.props.prefix?e.createElement(s,{value:"SAVE_PUBLISH_USERNAME_TOOLTIP",key:"domainPrefix"},e.createElement("span",{ref:"prefix",className:"domain-prefix",onClick:this.reportPrefixClicked},this.props.prefix)):null,e.createElement("span",{className:"input-wrapper",onClick:this.handleDomainNameClickBI},e.createElement("input",{ref:"domain",type:"text",value:this.state.value,className:this.state.invalidMessage?"invalid":"",onFocus:o.bind(this),onBlur:this.handleInputBlur,onChange:this.handleChange,onKeyDown:this.handleInputKeyDown,onClick:this.reportValueClickedIfNeeded,disabled:!this.props.isEditable,spellCheck:"false"})),e.createElement(s,{className:"domain-tooltip",id:this.getTooltipId(),value:this.state.invalidMessage,alignment:n.TOOLTIP.ALIGNMENT.TOP,openTriggers:[],closeTriggers:[]},e.createElement("div",{className:"tooltip-anchor"}))))}}),define("baseUI/panelInputs/domainInput",["reactDOM","react","lodash","jquery","baseUI/panelInputs/statefulInputMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/domainInput.rt"],function(e,t,s,n,i,o,a){return t.createClass({displayName:"DomainInput",mixins:[t.addons.LinkedStateMixin,i],propTypes:{isEditable:t.PropTypes.bool.isRequired,onChange:t.PropTypes.func,prefix:t.PropTypes.string,domainValidator:t.PropTypes.func,biHandler:t.PropTypes.func,theme:t.PropTypes.string},uniqueTooltipId:"",getInitialState:function(){this.uniqueTooltipId=s.uniqueId();var e=this.getValueFromProps(),t={value:e,sanitizedValue:null,invalidMessage:"",isFocused:Boolean(this.props.isEditable)};return this.props.domainValidator&&s.assign(t,this.validateDomainAndGetStateToSet(e)),t},getTooltipId:function(){return"domain-input-validation-error"+this.uniqueTooltipId},setFocusState:function(e){this.setState({isFocused:e})},validateDomainAndGetStateToSet:function(e){var t={value:e};if(this.props.domainValidator){var s=this.props.domainValidator(e);s.success?(t.invalidMessage="",t.sanitizedValue=s.extraInfo):(t.invalidMessage=s.errorMessage,t.sanitizedValue=null)}return t},handleChange:function(e){var t=this,s=e.target.value,n=this.validateDomainAndGetStateToSet(s);this.setState(n,t.callOnChangeIfExists({value:n.value,sanitizedValue:n.sanitizedValue,isValid:!n.invalidMessage}))},handleInputKeyDown:function(t){switch(t.keyCode){case 13:case 27:n(e.findDOMNode(this.refs.domain)).blur(),this.setFocusState(!1)}},handleInputBlur:function(){this.setFocusState(!1),this.reportInvalidValueIfNeeded()},handleDomainNameClickBI:function(){this.props.handleDomainNameClickBI&&this.props.handleDomainNameClickBI()},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);t!==this.state.value&&this.setState(this.validateDomainAndGetStateToSet(t))},componentDidMount:function(){var t=n(e.findDOMNode(this.refs.domain));this.props.isEditable&&(t.focus(),t.select())},componentDidUpdate:function(t,s){var i=n(e.findDOMNode(this.refs.domain));this.props.isEditable&&!t.isEditable&&(i.focus(),i.select()),this.state.invalidMessage?o.show(this.getTooltipId()):s.invalidMessage&&o.hide(this.getTooltipId())},componentWillUnmount:function(){o.hide(this.getTooltipId())},reportValueClickedIfNeeded:function(){!this.props.isEditable&&s.isFunction(this.props.biHandler)&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportPrefixClicked:function(){s.isFunction(this.props.biHandler)&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportInvalidValueIfNeeded:function(){this.state.invalidMessage&&s.isFunction(this.props.biHandler)&&this.props.biHandler("DOMAIN_VALIDATION_ERROR")},render:a})}),define("baseUI/panelInputs/domainInputWithEditButtons.rt",["react","lodash","baseUI/controls/button","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,n,i,o){return function(){return e.createElement("div",{className:"domain-input-with-buttons"},e.createElement("span",{className:"address-part"},e.createElement("span",{className:"mini-toolbar"},e.createElement(o.symbol,{name:"addressBarMiniToolbar"})),e.createElement("div",{className:"full-domain-wrapper"+(this.state.isEditingDisabled?"":" focus")},this.props.prefix?e.createElement("div",{key:"domainPrefix",ref:"prefix",className:"domain-prefix",onClick:this.reportPrefixClicked},this.props.prefix):null,e.createElement("span",{className:"input-wrapper"},e.createElement("input",{ref:"domain",type:"text",className:this.state.invalidMessage?"invalid":"",value:this.state.value,onChange:this.handleChange,onKeyDown:this.handleInputKeyDown,onClick:this.reportValueClickedIfNeeded,onBlur:this.reportInvalidValueIfNeeded,disabled:this.state.isEditingDisabled,spellCheck:"false"})),e.createElement(n,{className:"domain-tooltip",id:this.getTooltipId(),value:this.state.invalidMessage,alignment:i.TOOLTIP.ALIGNMENT.TOP,openTriggers:[],closeTriggers:[]},e.createElement("div",{className:"tooltip-anchor"})))),this.props.isEditable?e.createElement("div",{key:"buttonsContainer",className:"button-container"},e.createElement(s,{className:"edit-button"+(this.shouldDisplayEditButton()?" displayed":""),label:"SAVE_SITE_SAVED_BUTTON_EDIT",onClick:this.enableEditing}),e.createElement("div",{className:"dual-button-container"+(this.shouldDisplayApplyCancelButtons()?" displayed":"")},e.createElement("button",{className:"cancel-button",onClick:this.cancelEditing},e.createElement(o.symbol,{name:"x"})),e.createElement("button",{className:"apply-button",disabled:!!this.state.invalidMessage,onClick:this.applyEditing},e.createElement(o.symbol,{name:"check"})))):null)}}),define("baseUI/panelInputs/domainInputWithEditButtons",["reactDOM","react","lodash","jquery","baseUI/panelInputs/statefulInputMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/domainInputWithEditButtons.rt"],function(e,t,s,n,i,o,a){return t.createClass({displayName:"domainInputWithEditButtons",mixins:[t.addons.LinkedStateMixin,i],propTypes:{isEditable:t.PropTypes.bool.isRequired,prefix:t.PropTypes.string,domainValidator:t.PropTypes.func,domainHandler:t.PropTypes.func,biHandler:t.PropTypes.func},uniqueTooltipId:"",getInitialState:function(){return this.uniqueTooltipId=s.uniqueId(),{isEditingDisabled:!0,value:this.getValueFromProps(),invalidMessage:null}},getTooltipId:function(){return"domain-input-validation-error"+this.uniqueTooltipId},enableEditing:function(e){e.stopPropagation();var t={isEditingDisabled:!1};this.setState(t,this.callOnChangeIfExists),this.props.biHandler("DOMAIN_EDIT_CLICKED")},validateSiteName:function(e){return this.getValueFromProps()!==e&&this.props.domainValidator?this.props.domainValidator(e):{success:!0}},handleChange:function(e){var t=e.target.value,s=this.validateSiteName(t);this.setState({value:t,invalidMessage:s.success?null:s.errorMessage})},handleInputKeyDown:function(e){switch(e.keyCode){case 13:this.state.invalidMessage||this.applyEditing();break;case 27:this.cancelEditing()}},getSanitizedSiteName:function(e){return e===this.getValueFromProps()?e:this.props.domainValidator(e).extraInfo},wasSiteNameChangedByUser:function(e){return e!==this.getValueFromProps()},updateSiteName:function(e,t,s){this.props.domainHandler?this.props.domainHandler(e,t,s):t()},cancelEditing:function(){var e=this.getValueFromProps(),t={isEditingDisabled:!0,value:e,invalidMessage:null};this.setState(t,this.callOnChangeIfExists.bind(this,e)),this.props.biHandler("DOMAIN_EDIT_CANCEL_CLICKED")},applyEditing:function(){function e(){var e={isEditingDisabled:!0,value:n};s.setState(e,s.callOnChangeIfExists.bind(s,n))}function t(e){var t={};if(e)t={isEditingDisabled:!1,invalidMessage:e},s.setState(t);else{var n=s.getValueFromProps();t={isEditingDisabled:!0,value:n},s.setState(t,s.callOnChangeIfExists.bind(s,n))}}var s=this,n=this.getSanitizedSiteName(this.state.value);this.wasSiteNameChangedByUser(n)?this.updateSiteName(n,e,t):this.setState({isEditingDisabled:!0,value:n},this.callOnChangeIfExists(n)),this.props.biHandler("DOMAIN_EDIT_SAVE_CLICKED")},shouldDisplayEditButton:function(){return this.props.isEditable&&this.state.isEditingDisabled},shouldDisplayApplyCancelButtons:function(){return this.props.isEditable&&!this.state.isEditingDisabled},componentDidUpdate:function(t,s){if(!this.state.isEditingDisabled&&s.isEditingDisabled){var i=n(e.findDOMNode(this.refs.domain));i.focus(),i.select()}else if(this.state.isEditingDisabled&&!s.isEditingDisabled){var a=e.findDOMNode(this.refs.domain);a.selectionEnd=0,n(a).blur()}this.state.invalidMessage?o.show(this.getTooltipId()):s.invalidMessage&&o.hide(this.getTooltipId())},reportPrefixClicked:function(){this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportValueClickedIfNeeded:function(){this.state.isEditingDisabled&&this.props.biHandler("DISABLED_DOMAIN_PART_CLICKED")},reportInvalidValueIfNeeded:function(){this.state.invalidMessage&&this.props.biHandler("DOMAIN_VALIDATION_ERROR")},render:a})}),define("baseUI/panelInputs/proportionsSlider.rt",["react","lodash","symbols","baseUI/popovers/tooltip"],function(e,t,s,n){return function(){function i(t,i){return e.createElement("div",{key:"column-"+i,className:"column",style:{width:t+"%"}},e.createElement("div",{className:"label"},t,"%"),0!==i?e.createElement(n,{value:"STRIP_CONTAINER_LAYOUTS_CUSTOMIZE_PROPORTIONS_TOOLTIP",key:"divider-"+i},e.createElement("span",{className:"divider",onMouseDown:this.onDividerStartDrag.bind(this,i)},e.createElement(s.symbol,{name:"proportionsSliderDivider"}))):null)}return e.createElement.apply(this,["div",{className:"proportions-slider",style:{width:this.props.width}},t.map(this.getProportions(),i.bind(this))])}}),define("baseUI/panelInputs/proportionsSlider",["react","lodash","jquery","baseUI/panelInputs/inputMixin","baseUI/panelInputs/proportionsSlider.rt"],function(e,t,s,n,i){return e.createClass({displayName:"proportionsSlider",mixins:[n],propTypes:{width:e.PropTypes.number,value:e.PropTypes.array},getInitialState:function(){return this.throttleCallOnChangeIfExists=t.debounce(this.callOnChangeIfExists,300),{proportions:this.getValueFromProps()}},componentWillReceiveProps:function(e){this.setState({proportions:this.getValueFromProps(e)})},getDefaultProps:function(){return{value:[50,50],width:100}},getProportions:function(){var e=this.state.proportions,s=100-t.sum(e);return s&&(e[0]+=s),e},updateProportions:function(e){t.isEqual(e,this.getProportions())||(this.setState({proportions:e}),this.throttleCallOnChangeIfExists(e))},updateDividerPosition:function(e,s,n){var i=t.clone(e),o=i[s]-n,a=i[s-1]+n;o>=5&&a>=5&&(i[s]=o,i[s-1]=a,this.updateProportions(i))},onDividerStartDrag:function(e,t){t.preventDefault(),this.dragInfo={index:e,x:t.pageX,proportions:this.getProportions()},s(window.document).on("mousemove",this.onDividerDrag),s(window.document).on("mouseup",this.onDividerEndDrag)},onDividerDrag:function(e){if(e.preventDefault(),this.dragInfo){var t=e.pageX-this.dragInfo.x,s=Math.round(100*t/this.props.width);this.updateDividerPosition(this.dragInfo.proportions,this.dragInfo.index,s)}},onDividerEndDrag:function(e){e.preventDefault(),delete this.dragInfo,s(window.document).off("mousemove",this.onDividerDrag),s(window.document).off("mouseup",this.onDividerEndDrag)},render:i})}),define("baseUI/panelInputs/radioGroup.rt",["react","lodash"],function(e,t){return function(){function s(e,t,s){this.handleOnRadioSelect(e.value)}function n(e,t,s){this.handleOnMouseOver(e.value)}function i(e,t,s){this.handleChange(e.value)}function o(t,o){var a=this.getValueFromProps(this.props);return e.createElement("label",{key:"label"+o},e.createElement("input",{ref:"radio_"+o,type:"radio",name:this.getRadioGroupId(),onClick:s.bind(this,t,o,a),onMouseOver:n.bind(this,t,o,a),onChange:i.bind(this,t,o,a),checked:a===t.value}),e.createElement("span",{ref:"option_"+o,className:"option"},this.translateIfNeeded(t.label)))}function a(e,t,s){return o.apply(this,[e,t])}return e.createElement.apply(this,["span",{},e.createElement("span",{ref:"label",className:"label"},this.translateIfNeeded(this.getLabel())),t.map(this.props.options,a.bind(this))])}}),define("baseUI/panelInputs/radioGroup",["react","lodash","baseUI/panelInputs/inputMixin","util","baseUI/panelInputs/radioGroup.rt"],function(e,t,s,n,i){var o=0;return e.createClass({displayName:"RadioGroup",propTypes:{options:e.PropTypes.arrayOf(e.PropTypes.shape({label:e.PropTypes.string.isRequired,value:e.PropTypes.string.isRequired}))},mixins:[s,n.translationMixin],getRadioGroupId:function(){return this.groupId||(this.groupId="rg_"+o++),this.groupId},handleChange:function(e){this.callOnChangeIfExists(e)},handleOnMouseOver:function(e){t.has(this.props,"onMouseOver")&&this.props.onMouseOver(e)},handleOnRadioSelect:function(e){t.has(this.props,"onRadioSelect")&&this.props.onRadioSelect(e)},render:i})}),define("baseUI/panelInputs/radioList.rt",["react","lodash","symbols","baseUI/controls/infoIcon"],function(e,t,s,n){return function(){function i(e,t,s){this.handleChange(e.value)}function o(t,n){var o=this.getValueFromProps(this.props);return e.createElement("label",{className:t.className+(this.props.highlightOnHover?" highlight-on-hover":""),key:t.value},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:t.value,checked:t.value===o,onChange:i.bind(this,t,n,o)}),e.createElement("span",{}),t.symbolName?e.createElement("div",{key:"symbol",className:t.symbolClass},e.createElement("div",{},e.createElement(s.symbol,{name:t.symbolName}))):null,e.createElement("span",{},this.translateIfNeeded(t.label)))}function a(e,t,s){return o.apply(this,[e,t])}return e.createElement.apply(this,["div",{className:"control-radio-list"},this.props.label?e.createElement("div",{className:"title",key:"label"},this.translateIfNeeded(this.props.label)):null,this.hasLabel()&&(this.props.infoText||this.props.infoText)?e.createElement(n,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,t.map(this.props.options,a.bind(this))])}}),define("baseUI/panelInputs/radioList",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/panelInputs/radioList.rt"],function(e,t,s,n){return e.createClass({displayName:"RadioList",mixins:[s],render:n})}),define("baseUI/panelInputs/buttonGroup.rt",["react","lodash"],function(e,t){return function(){function s(e,t,s){this.handleClick(s)}function n(t,n,i){return e.createElement("div",{onClick:s.bind(this,t,n,i)},e.createElement("span",{className:"option"},n.label," ",t===n.value?"selected":""))}function i(){var s=this.getValueFromProps(this.props);return e.createElement.apply(this,["span",this.topLevelProps,e.createElement("span",{className:"label"},this.getLabel()),t.map(this.props.options,n.bind(this,s))])}return i.apply(this,[])}}),define("baseUI/panelInputs/buttonGroup",["react","lodash","baseUI/panelInputs/inputMixin","baseUI/panelInputs/buttonGroup.rt"],function(e,t,s,n){return e.createClass({displayName:"ButtonGroup",mixins:[s],handleClick:function(e){var t=this.props.options[e];this.callOnChangeIfExists(t.value)},render:n})}),define("baseUI/mixins/mediaServicesMixin",["react"],function(e){return{contextTypes:{mediaServices:e.PropTypes.object},getMediaServices:function(){return this.context.mediaServices}}}),define("baseUI/panelInputs/changeMediaInput.rt",["react","lodash","symbols","baseUI/controls/button"],function(e,t,s,n){return function(){return e.createElement("div",{className:"media-button"},e.createElement(n,this.getButtonProps()),this.hasFile()?e.createElement("div",{key:"hasfile",className:"media-button-filename-text"},e.createElement("span",{className:"wrapper"},this.props.value,e.createElement(s.symbol,{name:"inputValidationSuccess"}))):null)}}),define("baseUI/panelInputs/changeMediaInput",["react","lodash","util","baseUI/mixins/mediaServicesMixin","baseUI/panelInputs/changeMediaInput.rt","baseUI/panelInputs/inputMixin"],function(e,t,s,n,i,o){var a={Image:"IMAGE",SingleAudioPlayer:"MUSIC",AudioPlayer:"MUSIC",Default:"DOCUMENT",Flash:"FLASH"},r={MULTIPLE:"multiple",SINGLE:"single"};return e.createClass({displayName:"changeMediaButton",mixins:[o,n],propTypes:{mediaType:e.PropTypes.oneOf(t.keys(a)),buttonLabelWithItems:e.PropTypes.string,buttonLabelWithoutItems:e.PropTypes.string,value:e.PropTypes.string,selectionType:e.PropTypes.oneOf(t.values(r)),mediaManagerHeaderLabel:e.PropTypes.string,mediaManagerButtonLabel:e.PropTypes.string},getButtonLabel:function(){return this.hasFile()?this.props.buttonLabelWithItems:this.props.buttonLabelWithoutItems},getDefaultProps:function(){return{mediaType:"Default",buttonLabelWithItems:"CHANGE_MEDIA",buttonLabelWithoutItems:"ADD_MEDIA",selectionType:"multiple"}},openMediaFrame:function(){var e,t=this.getMediaServices().mediaManager;(this.props.mediaManagerHeaderLabel||this.props.mediaManagerButtonLabel)&&((e={}).title=s.translate(this.props.mediaManagerHeaderLabel),e.submitButton=s.translate(this.props.mediaManagerButtonLabel)),t.open(a[this.props.mediaType],{translation:e,callback:this.onClose,multiSelect:this.props.selectionType===r.MULTIPLE})},getButtonProps:function(){var e={className:"btn-confirm-secondary upload-button no-margin",onClick:this.openMediaFrame,label:this.getButtonLabel()};return this.hasFile()&&(e.icon="organizeImagesIcon",e.className+=" has-file"),e},onClose:function(e){e&&this.callOnChangeIfExists.apply(this,arguments)},hasFile:function(){return this.props.value},render:i})}),define("baseUI/panelInputs/thumbnailSlider.rt",["react","lodash","symbols","util"],function(e,t,s,n){return function(){function s(e,t){this.handleChange(e.value)}function i(t,i){return e.createElement("label",{key:t.value},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),checked:t.value===this.getValueFromProps(),onChange:s.bind(this,t,i)}),e.createElement("img",{src:n.media.getMediaUrl(t.iconSrc)}))}return e.createElement("div",{className:"control-thumbnailsSlider",style:{width:this.props.width+"px"}},e.createElement.apply(this,["div",{className:"itemsContainer",style:{left:"-"+this.state.position+"px"}},t.map(this.props.items,i.bind(this))]),this.state.isLeftEdge?null:e.createElement("div",{className:"left arrow",key:"left",onMouseDown:this.startLeft,onMouseUp:this.endLeft},e.createElement("span",{})),this.state.isRightEdge?null:e.createElement("div",{className:"right arrow",key:"right",onMouseDown:this.startRight,onMouseUp:this.endRight},e.createElement("span",{})))}}),define("baseUI/panelInputs/thumbnailSlider",["reactDOM","react","lodash","jquery","util","baseUI/controls/radioButtonsMixin","baseUI/panelInputs/thumbnailSlider.rt"],function(e,t,s,n,i,o,a){function r(e){if(this.state.position!==e){var t=e-this.state.position,s=this.state.distanceToScroll-t;this.setState({position:e,distanceToScroll:s,isLeftEdge:0===e,isRightEdge:0===s})}}function l(){var e=Math.min(this.state.distanceToScroll,this.props.stepWidth),t=this.state.position+e;r.call(this,t)}function p(){var e=Math.min(this.state.position,this.props.stepWidth),t=this.state.position-e;r.call(this,t)}function u(){0!==this.state.distanceToScroll?l.call(this):this.endRight()}function c(){0!==this.state.position?p.call(this):this.endLeft()}return t.createClass({displayName:"thumbnailSlider",mixins:[o,i.imagesContainerMixin],moveInterval:void 0,propTypes:{items:t.PropTypes.array.isRequired,width:t.PropTypes.number,stepWidth:t.PropTypes.number,selectedItemOffset:t.PropTypes.number},getDefaultProps:function(){return{width:400,stepWidth:96,selectedItemOffset:50}},getInitialState:function(){return{}},componentDidMount:function(){this.focusOnSelectedSkin()},focusOnSelectedSkin:function(){var t=e.findDOMNode(this);this.afterImagesLoad(function(){var e=t.scrollWidth-t.clientWidth,s=n(t).find("input:checked").parent().position(),i=s?s.left:0,o=Math.max(i-this.props.selectedItemOffset,0),a=Math.min(e,o),r=e-a,l=n(t).find(".itemsContainer");l.css({"margin-top":-l.height()/2,visibility:"visible"}),this.setState({position:a,distanceToScroll:r,isRightEdge:0===r,isLeftEdge:0===a})}.bind(this),n(t))},getPosition:function(){return this.state.position},startRight:function(){u.apply(this),this.moveInterval=window.setInterval(u.bind(this),200)},endRight:function(){window.clearInterval(this.moveInterval),this.props.afterMoveRight()},startLeft:function(){c.apply(this),this.moveInterval=window.setInterval(c.bind(this),200)},endLeft:function(){window.clearInterval(this.moveInterval),this.props.afterMoveLeft()},componentWillUnmount:function(){window.clearInterval(this.moveInterval)},render:a})}),define("baseUI/panelInputs/labelWithCircleButton.rt",["react","lodash","baseUI/popovers/tooltip","baseUI/controls/infoIcon","baseUI/controls/button","util","symbols","uiConstants","baseUILib"],function(e,t,s,n,i,o,a,r,l){return function(){function i(){var i=o.translate;return e.createElement("div",{className:o.inheritClassName(this.props,"label-with-circle-button"+(this.props.isDisabled?" disabled":""))},this.props.label?e.createElement("label",{key:"linkToLabel",className:t({"with-button":this.props.showButton}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},"\n        ",i(this.props.label),"\n    "):null,this.props.infoIconText?e.createElement(n,{key:"linkToIconInfo",className:"link-to-icon-info",text:this.props.infoIconText,title:this.props.infoIconTitle}):null,e.createElement("div",{className:"container-action"},e.createElement(l.ActionWithSymbol,{action:this.props.onClick,symbol:this.getSymbol(),disabled:this.props.isDisabled},e.createElement(s,{disabled:this.isTooltipDisabled(),value:this.props.displayedValue,shouldTranslate:!1},e.createElement("div",{className:"wrapper-to-not-lose-ref"},e.createElement("div",{className:"link",ref:"linkText"},this.props.displayedValue))))))}return i.apply(this,[])}}),define("baseUI/panelInputs/labelWithCircleButton",["reactDOM","react","lodash","uiConstants","symbols","baseUI/panelInputs/labelWithCircleButton.rt"],function(e,t,s,n,i,o){var a={name:"inputValidationSuccess",className:"validation-icon validation-icon-success"};return t.createClass({displayName:"labelWithCircleButton",propTypes:{isDisabled:t.PropTypes.bool,displayedValue:t.PropTypes.string.isRequired,label:t.PropTypes.string,onClick:t.PropTypes.func.isRequired,buttonIcon:t.PropTypes.string,showButton:t.PropTypes.bool,showSuccessSymbol:t.PropTypes.bool,infoIconText:t.PropTypes.string,infoIconTitle:t.PropTypes.string,eventsToShowButtonTooltip:t.PropTypes.array,eventsToHideButtonTooltip:t.PropTypes.array,tooltipText:t.PropTypes.string,tooltipWidth:t.PropTypes.number,tooltipStyle:t.PropTypes.oneOf(s.values(n.TOOLTIP.STYLE_TYPE))},getTooltipId:function(){return this.uniqueTooltipId||(this.uniqueTooltipId="TEXT_INPUT_TOOLTIP_ERROR"+s.uniqueId()),this.uniqueTooltipId},getInitialState:function(){return{isTextTruncated:!1}},getDefaultProps:function(){return{showButton:!0}},handleIsTextTruncated:function(){var t=e.findDOMNode(this.refs.linkText),s=t.scrollWidth>t.offsetWidth;this.setState({isTextTruncated:s})},isTooltipDisabled:function(){return!this.state.isTextTruncated},getSymbol:function(){if(this.props.showSuccessSymbol)return t.createElement(i.symbol,a);if(!this.props.showButton)return null;if("linkBtnThin"!==this.props.buttonIcon)return t.createElement(i.symbol,{name:this.props.buttonIcon})},componentDidMount:function(){this.handleIsTextTruncated()},componentDidUpdate:function(e){e.displayedValue!==this.props.displayedValue&&this.handleIsTextTruncated()},render:o})}),define("baseUI/panelInputs/media/wixStaticMediaMixin",["lodash","reactDOM","util"],function(e,t,s){return{getInitialState:function(){return this.defaultPanelWidth=288,this.defaultPanelHeight=155,{}},componentDidMount:function(){var e=t.findDOMNode(this).getBoundingClientRect();this.containerWidth=e.width,this.containerHeight=e.height},getImageTransformData:function(t,n){var i=this.containerWidth||this.defaultPanelWidth,o=this.containerHeight||this.defaultPanelHeight,a=e.assign({width:i,height:o},t),r=s.imageTransform.getFromImageData(a,i,o,n||s.imageTransform.getImageScale(a,i,o),s.imageTransform.alignTypes.CENTER,"bg");return{url:r.uri,css:r.css.container}},getEmptyImageData:function(){return{uri:"",width:0,height:0,title:"",originalImageDataRef:""}}}}),define("baseUI/popovers/bubble.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:{maxWidth:this.props.width},onMouseLeave:this.onMouseLeave,onMouseOver:this.onMouseOver,onMouseEnter:this.onMouseEnter},e.createElement("div",{ref:"arrow",className:"arrow"}),e.createElement("div",{className:"content-wrapper"},this.getContent()))}}),define("baseUI/popovers/bubble",["reactDOM","react","lodash","jquery","core","util","uiConstants","baseUI/mixins/positionRelativeToElementMixin","baseUI/popovers/bubble.rt"],function(e,t,s,n,i,o,a,r,l){function p(e){return s.isString(e)?a.TOOLTIP.VALUE_TYPE.STRING:e&&e.classPath&&e.props?a.TOOLTIP.VALUE_TYPE.CLASS:a.TOOLTIP.VALUE_TYPE.TEMPLATE}var u=a.BUBBLE.DISTANCE_FROM_TARGET;return t.createClass({mixins:[o.translationMixin,o.outerClickMixin,r],displayName:"bubble",propTypes:{value:t.PropTypes.oneOfType([t.PropTypes.string.isRequired,t.PropTypes.element.isRequired,t.PropTypes.shape({classPath:t.PropTypes.string,props:t.PropTypes.object}).isRequired]),targetNode:t.PropTypes.object,mouseLeftTargetNode:t.PropTypes.bool,closeTriggers:t.PropTypes.arrayOf(t.PropTypes.oneOf(s.values(a.TOOLTIP.TRIGGERS))),width:t.PropTypes.string,noArrow:t.PropTypes.bool,styleType:t.PropTypes.oneOf(s.values(a.TOOLTIP.STYLE_TYPE)),marginsFromWindow:t.PropTypes.oneOfType([t.PropTypes.number,t.PropTypes.string]),hideMethod:t.PropTypes.func,timeoutForMouseOverBubble:t.PropTypes.number,shake:t.PropTypes.bool,shouldHaveTransition:t.PropTypes.bool,behindPopUps:t.PropTypes.bool,arrowColor:t.PropTypes.string,customClasses:t.PropTypes.arrayOf(t.PropTypes.string),onMouseEnter:t.PropTypes.func,onMouseLeave:t.PropTypes.func,closeDelay:t.PropTypes.number},getInitialState:function(){return{measured:!1}},getDefaultProps:function(){return{timeoutForMouseOverBubble:150,marginsFromWindow:0,closeDelay:500}},getClasses:function(){var e={"tooltip-presenter":!0};if(e["alignment-"+this.calculatedAlignment]=!0,p(this.props.value)===a.TOOLTIP.VALUE_TYPE.STRING||this.props.styleType)switch(this.props.styleType){case a.TOOLTIP.STYLE_TYPE.SMALL:e["small-tooltip"]=!0;break;case a.TOOLTIP.STYLE_TYPE.CONTENT_ONLY:e["content-only"]=!0;break;default:e["normal-tooltip"]=!0}else e["content-only"]=!0;return this.props.shouldHaveTransition&&(e["tooltip-transition"]=!0),this.props.behindPopUps&&(e["tooltip-behind-pop-ups"]=!0),this.props.shake&&(e["tooltip-shake"]=!0),s.forEach(this.props.customClasses,function(t){e[t]=!0}),e},onOuterClick:function(e){var t=e.target;if(s.includes(this.props.closeTriggers,a.TOOLTIP.TRIGGERS.OUTER_CLICK)){for(;t;){if(t===this.props.targetNode)return;t=t.parentElement||t.parentNode}this.hide()}},componentWillReceiveProps:function(e){e.mouseLeftTargetNode&&this.hideAfterDelayIfMouseNotOverBubble()},hide:function(){window.clearTimeout(this.pendingCloseDelay),this.props.hideMethod()},hideAfterDelayIfMouseNotOverBubble:function(){window.setTimeout(function(){this.mouseOverBubble||this.hide()}.bind(this),this.props.timeoutForMouseOverBubble)},onMouseLeave:function(){this.props.onMouseLeave&&this.props.onMouseLeave(),this.mouseOverBubble=!1,s.includes(this.props.closeTriggers,a.TOOLTIP.TRIGGERS.MOUSE_LEAVE)&&this.hideAfterDelayIfMouseNotOverBubble()},onMouseEnter:function(){this.props.onMouseEnter&&this.props.onMouseEnter(),this.mouseOverBubble=!0},onMouseOver:function(){this.mouseOverBubble=!0},getContent:function(){var e=this.props.value;switch(p(e)){case a.TOOLTIP.VALUE_TYPE.STRING:return t.createElement("div",{className:"content",children:this.translateIfNeeded(e)});case a.TOOLTIP.VALUE_TYPE.CLASS:return t.createElement(i.lazyComponent,s.assign({moduleName:e.classPath,onLoad:this.onContentLoaded},s.assign({},e.props,{calculatedAlignment:this.calculatedAlignment})));case a.TOOLTIP.VALUE_TYPE.TEMPLATE:return this.props.value}},onContentLoaded:function(){this.forceUpdate()},componentDidUpdate:function(){var t=e.findDOMNode(this),s=this.getArrowStyle(t);n(e.findDOMNode(this.refs.arrow)).css(s)},componentDidMount:function(){this.props.hideMethod&&s.includes(this.props.closeTriggers,a.TOOLTIP.TRIGGERS.TIMER)&&(this.pendingCloseDelay=window.setTimeout(this.props.hideMethod,this.props.closeDelay))},componentWillUnmount:function(){window.clearTimeout(this.pendingCloseDelay)},getArrowStyle:function(e){if(!this.calculatedAlignment||!e||this.props.noArrow)return{display:"none"};var t,s,i=this.props.styleType===a.TOOLTIP.STYLE_TYPE.SMALL?8:10,o=this.props.targetNode.getBoundingClientRect();switch(this.calculatedAlignment){case a.TOOLTIP.ALIGNMENT.TOP:t=o.top-u-i/2+this.props.marginsFromElement,s=o.left+(o.width-i)/2;break;case a.TOOLTIP.ALIGNMENT.BOTTOM:t=o.top+o.height+u-i/2+this.props.marginsFromElement,s=o.left+(o.width-i)/2;break;case a.TOOLTIP.ALIGNMENT.LEFT:t=o.top+(o.height-i)/2,s=o.left-u-i/2+this.props.marginsFromElement;break;case a.TOOLTIP.ALIGNMENT.RIGHT:t=o.top+(o.height-i)/2,s=o.left+o.width+u-i/2+this.props.marginsFromElement}return{position:"fixed",top:t-((e=n(e)).offset().top-n(window).scrollTop()-parseInt(e.css("top"),10)),left:s-(e.offset().left-parseInt(e.css("left"),10)),height:i,width:i,backgroundColor:this.props.arrowColor}},render:l})}),define("baseUI/popovers/tooltipPresenter.rt",["react","lodash","baseUI/popovers/bubble"],function(e,t,s){return function(){return e.createElement(s,this.getBubbleProps())}}),define("baseUI/popovers/tooltipPresenter",["react","lodash","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipPresenter.rt"],function(e,t,s,n){return e.createClass({displayName:"tooltipPresenter",propTypes:{id:e.PropTypes.string,onClose:e.PropTypes.func},getBubbleProps:function(){return t.assign({},this.props,{hideMethod:s.hide.bind(s,this.props.id)})},componentWillUnmount:function(){this.props.onClose&&this.props.onClose()},render:n})}),define("baseUI/popovers/tooltipsRenderer.rt",["react","lodash","baseUI/popovers/bubble","baseUI/popovers/tooltipPresenter","uiAnimations"],function(e,t,s,n,i){return function(){function s(s,i){return e.createElement(n,t.assign({},{key:s.id},s))}return this.props.shouldDisplayTooltips?e.createElement("div",{key:"tooltip-renderer-wrapper",className:"tooltips-layer"},e.createElement.apply(this,[i.tooltipAnimation,{},t.map(this.state.presentedTooltips,s.bind(this))])):null}}),define("baseUI/popovers/tooltipsRenderer",["react","lodash","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipsRenderer.rt"],function(e,t,s,n){return e.createClass({displayName:"tooltipsRenderer",getInitialState:function(){return{presentedTooltips:[]}},componentWillMount:function(){s.setTooltipRenderer(this)},updateDisplayedTooltips:function(e,t){this.setState({presentedTooltips:e},t)},render:n})}),define("baseUI/popovers/floatingBubble.rt",["react","lodash","baseUI/popovers/bubble"],function(e,t,s){return function(){return e.createElement("div",{},e.createElement("div",{ref:"floatingBubbleTarget",style:this.getFloatingBubbleTargetStyle()}),this.props.value&&!this.props.pinMode?e.createElement(s,t.assign({},{key:"floatingBubble",value:this.props.value,targetNode:this.floatingBubbleTarget,hideMethod:this.hideFloatingBubble},this.getFloatingBubbleProps())):null)}}),define("baseUI/popovers/floatingBubble",["reactDOM","react","lodash","baseUI/popovers/floatingBubble.rt"],function(e,t,s,n){return t.createClass({displayName:"floatingBubble",propTypes:{pinMode:t.PropTypes.bool,value:t.PropTypes.oneOfType([t.PropTypes.string,t.PropTypes.element,t.PropTypes.shape({classPath:t.PropTypes.string,props:t.PropTypes.object})]),targetLayout:t.PropTypes.object,bubbleProps:t.PropTypes.object,shouldNotHideOnMouseLeaveTarget:t.PropTypes.bool},componentWillMount:function(){this.floatingBubbleTarget=null},componentDidMount:function(){this.floatingBubbleTarget=e.findDOMNode(this.refs.floatingBubbleTarget)},componentWillUnmount:function(){this.floatingBubbleTarget=null},getFloatingBubbleTargetStyle:function(){if(!this.props.targetLayout)return{display:"none"};var e=this.props.targetLayout;return s(e).pick(["width","height","top","left"]).assign({position:"fixed"}).value()},getFloatingBubbleProps:function(){return this.props.bubbleProps||{}},render:n})}),define("baseUI/popovers/templates/quickTip/quickTip.rt",["react","lodash","util","symbols","uiConstants"],function(e,t,s,n,i){return function(){return e.createElement("div",{className:"quick-tip"},e.createElement("div",{className:"close-quick-tip",onClick:this.closeFloatingBubble},e.createElement("span",{},e.createElement(n.symbol,{name:"bubble-close"}))),this.props.symbol?e.createElement("div",{key:"quickTipImage",className:"quick-tip-image"},e.createElement(n.symbol,{name:this.props.symbol})):null,e.createElement("div",{className:"text-container "+(this.props.symbol?"":"text-no-image")},this.props.text?e.createElement("div",{className:"text",key:"tooltipText"},"\n            ",s.translate(this.props.text),"\n        "):null,this.props.linkAction?e.createElement("div",{className:"text link-action",onClick:this.onLinkClick,onMouseEnter:this.onLinkMouseEnter,onMouseLeave:this.onLinkMouseLeave,key:"linkAction"},s.translate(this.props.linkActionText),"\n        "):null,this.props.textAfterLink?e.createElement("div",{className:"text",key:"tooltipTextAfterLink"},"\n            ",s.translate(this.props.textAfterLink),"\n        "):null))}}),define("baseUI/popovers/templates/quickTip/quickTip",["react","lodash","core","util","baseUI/popovers/templates/quickTip/quickTip.rt"],function(e,t,s,n,i){return e.createClass({displayName:"quickTip",mixins:[s.mixins.editorAPIMixin,n.outerClickMixin],propTypes:{text:e.PropTypes.string,linkActionText:e.PropTypes.string,textAfterLink:e.PropTypes.string,linkAction:e.PropTypes.func,linkMouseEnter:e.PropTypes.func,linkMouseLeave:e.PropTypes.func,symbol:e.PropTypes.string,closeAction:e.PropTypes.func},render:i,onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},onLinkMouseEnter:function(){this.props.linkMouseEnter&&this.props.linkMouseEnter()},onLinkMouseLeave:function(){this.props.linkMouseLeave&&this.props.linkMouseLeave()},closeFloatingBubble:function(){this.props.closeAction&&this.props.closeAction()},onOuterClick:function(e){this.props.onOuterClick&&this.props.onOuterClick(e)}})}),define("baseUI/popovers/templates/iconAndText/iconAndText.rt",["react","lodash","util","symbols"],function(e,t,s,n){return function(){return e.createElement("div",{className:"icon-and-text "+this.props.className},e.createElement(n.symbol,{name:this.props.icon}),e.createElement("span",{},this.props.shouldTranslate?s.translate(this.props.text):this.props.text))}}),define("baseUI/popovers/templates/iconAndText/iconAndText",["react","baseUI/popovers/templates/iconAndText/iconAndText.rt"],function(e,t){return e.createClass({displayName:"iconAndText",propTypes:{text:e.PropTypes.string.isRequired,icon:e.PropTypes.string.isRequired,shouldTranslate:e.PropTypes.bool},getDefaultProps:function(){return{shouldTranslate:!0,className:""}},render:t})}),define("baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip.rt",["react","lodash","util","symbols"],function(e,t,s,n){return function(){return e.createElement("div",{className:"titleBodyAndLinkTooltip"},this.props.onClose?e.createElement(n.symbol,{className:"close",key:"closeButton",name:"bubble-close",onClick:this.props.onClose}):null,this.props.title?e.createElement("div",{className:"title",key:"title"},s.translate(this.props.title)):null,this.props.text?e.createElement("div",{className:"text",key:"text"},s.translate(this.props.text)):null,this.props.link?e.createElement("div",{className:"link",key:"link",onClick:this.onLinkClick},"\n        ",s.translate(this.props.link),"\n    "):null)}}),define("baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip",["react","lodash","baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip.rt"],function(e,t,s){return e.createClass({displayName:"titleBodyAndLinkTooltip",propTypes:{title:e.PropTypes.string,text:e.PropTypes.string,link:e.PropTypes.string,linkAction:e.PropTypes.func},onLinkClick:function(){this.props.linkAction&&this.props.linkAction()},render:s})}),define("baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip.rt",["react","lodash","util"],function(e,t,s){return function(){return e.createElement("div",{className:"keyboardShortcutTooltip"},this.props.label?e.createElement("span",{className:"label",key:"label"},s.translate(this.props.label)):null,this.props.shortcut?e.createElement("span",{className:"shortcut",key:"shortcut"},"(",this.props.shortcut,")"):null)}}),define("baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip",["react","lodash","baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip.rt"],function(e,t,s){return e.createClass({displayName:"keyboardShortcutTooltip",propTypes:{label:e.PropTypes.string,shortcut:e.PropTypes.string},getInitialState:function(){return{}},render:s})}),define("baseUI/popovers/templates/popoverTemplates",["baseUI/popovers/templates/quickTip/quickTip","baseUI/popovers/templates/imageAndTextTooltip/imageAndTextTooltip","baseUI/popovers/templates/iconAndText/iconAndText","baseUI/popovers/templates/titleBodyAndLinkTooltip/titleBodyAndLinkTooltip","baseUI/popovers/templates/keyboardShortcutTooltip/keyboardShortcutTooltip"],function(e,t,s,n,i){return{quickTip:e,imageAndTextTooltip:t,iconAndText:s,titleBodyAndLinkTooltip:n,keyboardShortcutTooltip:i}}),define("baseUI/panelInputs/richTextParagraph.rt",["react","lodash"],function(e,t){return function(){function s(t,s){return e.createElement("span",{style:t.style},t.text)}return e.createElement("div",{},this.props.paragraphTitle?e.createElement("div",{key:"title",className:"rich-text-paragraph-title"},"\n        ",this.props.paragraphTitle,"\n    "):null,e.createElement.apply(this,["div",{className:"rich-text-paragraph-content"},t.map(this.props.paragraphTextChunks,s.bind(this))]))}}),define("baseUI/panelInputs/richTextParagraph",["react","lodash","baseUI/panelInputs/richTextParagraph.rt"],function(e,t,s){return e.createClass({displayName:"RichTextParagraph",propTypes:{paragraphTitle:e.PropTypes.string,paragraphTextChunks:e.PropTypes.array},render:s})}),define("baseUI/panelInputs/dropDown/dropdownManager",["reactDOM","lodash"],function(e,t){var s={optionsComponent:null,selectedIndex:null,currentDropdown:null,currentOptionsList:null,hoveredOption:null,isOptionsVisible:!1,blurEnabled:!0},n=[37,38,39,40];return{INDENT_FROM_EDGE:12,DEFAULT_SCROLL_SPEED:5,MIN_LIST_HEIGHT:180,KEYBOARD_CONTEXT:"dropdown",SCROLL_KEYS:n,setState:function(e,n){return"string"==typeof e?s[e]=n:"object"===(void 0===e?"undefined":_typeof(e))&&t.forEach(e,function(e,t){s[t]=e}),s},reset:function(){this.setState({optionsComponent:null,selectedIndex:null,currentDropdown:null,currentOptionsList:null,hoveredOption:null,isOptionsVisible:!1})},registerOptionsComponent:function(e){this.setState("optionsComponent",e)},addOption:function(e){t.includes(s.currentOptionsList,e)||s.currentOptionsList.push(e)},show:function(e){var t=s.optionsComponent;if(t){this.registerOuterClick();var n=e.getData();this.setState({selectedIndex:n.selectedIndex,currentDropdown:e,currentOptionsList:[],isOptionsVisible:!0}),this.disableBrowserScroll(),e.setExpanded(!0),t.show(n)}},hide:function(){var t=s.currentDropdown;this.hideOptions(),this.focus(e.findDOMNode(t)),t.setExpanded(!1)},hideOptions:function(){this.setState("isOptionsVisible",!1),this.unregisterOuterClick(),this.setHovered(null),this.enableBrowserScroll(),s.optionsComponent.hide()},getOptionsLocation:function(){var t=s.optionsComponent,n=s.currentDropdown,i=n.getDDEl(),o=t.getOptionsListEl(),a=e.findDOMNode(s.currentOptionsList[n.state.selectedIndex]),r=t.getFooterEl();return n.getOptionsLocation(i,o,a,r)},select:function(e){var t=s.currentDropdown;this.hide(),t.setSelected(e.getData())},getScrollData:function(e){var t=s.optionsComponent,n=s.currentDropdown;return n.getScrollData?n.getScrollData(e,t.getOptionsEl(),t.getOptionsListEl()):null},getViewportSize:function(){return{height:window.document.documentElement.clientHeight,width:window.document.documentElement.clientWidth}},getSelectedIndex:function(){return s.selectedIndex},setHovered:function(e){s.hoveredOption&&s.hoveredOption.unhover(),e&&(e.hover(),s.currentDropdown.onHover(e.getData())),this.setState("hoveredOption",e)},onOptionsVisible:function(){s.currentDropdown.onOptionsVisible(s.optionsComponent.getOptionsListEl())},getKeyboardHandlers:function(){var t=this,n=function(e){e.preventDefault(),e.stopPropagation()},i=function(e){s.hoveredOption&&t.select(s.hoveredOption),n(e)},o=function(i){var o=i.keyCode;if(38===o||40===o){var a,r;if(a=s.hoveredOption?s.hoveredOption.props.index:s.selectedIndex,(r=38===o?a-1:a+1)>=0&&r<s.currentOptionsList.length){var l=s.currentOptionsList[r],p=s.optionsComponent,u=38===o,c=u?"top":"bottom",h=e.findDOMNode(l).getBoundingClientRect()[c]-p.getOptionsListEl().getBoundingClientRect()[c];t.setHovered(l),(u&&h<0||!u&&h>0)&&(p.showMouseEventsBlocker(),p.scrollBy(h))}}n(i)};return{esc:function(e){t.hide(),n(e)},enter:i,space:i,up:o,down:o,backspace:n}},isExpanded:function(e){return s.currentDropdown===e&&s.isOptionsVisible},getFocusedElement:function(){return window.document.activeElement},focus:function(e){e.focus()},search:function(e){var t=this.findOption(e);return t?(this.setHovered(t),this.scrollTo(t),t.getData()):null},findOption:function(e){if(e.length){var t,n=s.currentDropdown.getSearchTexts();for(t=0;t<n.length;t++)if(n[t].substr(0,e.length).toLowerCase()===e.toLowerCase())return s.currentOptionsList[t]}return null},scrollTo:function(t){var n=s.optionsComponent,i=e.findDOMNode(t).getBoundingClientRect().top-n.getOptionsListEl().getBoundingClientRect().top;n.scrollBy(i)},registerOuterClick:function(){this.boundHide=this.hide.bind(this),window.document.addEventListener("mousedown",this.boundHide),window.addEventListener("blur",this.boundHide)},unregisterOuterClick:function(){window.document.removeEventListener("mousedown",this.boundHide),window.removeEventListener("blur",this.boundHide)},disableBrowserScroll:function(){window.document.addEventListener("keydown",this.preventKeyScroll),window.addEventListener("wheel",this.preventWheelScroll),window.addEventListener("mousewheel",this.preventWheelScroll)},enableBrowserScroll:function(){window.document.removeEventListener("keydown",this.preventKeyScroll),window.removeEventListener("wheel",this.preventWheelScroll),window.removeEventListener("mousewheel",this.preventWheelScroll)},preventWheelScroll:function(e){e.preventDefault()},preventKeyScroll:function(e){t.includes(n,e.keyCode)&&e.preventDefault()}}}),define("baseUI/panelInputs/dropDown/cacheMixin",["lodash"],function(e){return{cache:null,resetCache:function(){this.cache=null},updateCache:function(t,s){return this.cache||(this.cache={}),"string"==typeof t?this.cache[t]=s:"object"===(void 0===t?"undefined":_typeof(t))&&e.forEach(t,e.bind(function(e,t){this.cache[t]=e},this)),this.cache},getCached:function(e){if(this.cache)return this.cache[e]}}}),define("baseUI/panelInputs/dropDown/dropDown.rt",["react","lodash","symbols","baseUI/controls/infoIcon","util","experiment"],function(e,t,s,n,i,o){return function(){function a(){o.isOpen("rightClickBehaviors")&&this.show()}return e.createElement("div",function(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}({className:"dropdown "+this.getDDClassName(),style:this.props.style,onKeyDown:this.onKeyDown,tabIndex:"0"},this.getFilteredProps()),this.hasLabel()?e.createElement("label",{key:"dropdownLabel",className:"dropdown-label"},this.props.shouldTranslate?i.translate(this.getLabel()):this.getLabel()):null,this.hasLabel()&&(this.props.infoText||this.props.infoTitle)?e.createElement(n,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle}):null,e.createElement("div",{className:"dd",ref:"dropdown",onClick:this.onClick,onMouseDown:this.onMouseDown,onContextMenu:a.bind(this)},e.createElement("div",{className:"selected-container",ref:"selectedContainer"},this.props.template.call(this)),this.props.toggleIcon?e.createElement("i",{key:"toggleIcon",className:"expand arrow"},e.createElement(s.symbol,{name:"arrowDown"})):null))}}),define("baseUI/panelInputs/dropDown/dropDownMixin",["reactDOM","react","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/cacheMixin","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/dropDown/dropDown.rt"],function(e,t,s,n,i,o,a,r,l){function p(e,t){var s=0;return e.some(function(e,n){var i=e.props.value===t;return i&&(s=n),i}),s}function u(e,t,s){var n=s.props.value;return void 0===e&&void 0!==n&&t===s.props.value}function c(e,t){return void 0===e.props.shouldTranslate?t:e.props.shouldTranslate}var h=[32,38,40];return{mixins:[i,a,r],propTypes:{label:t.PropTypes.string,searchText:t.PropTypes.string,tabIndex:t.PropTypes.number,scrollSpeed:t.PropTypes.number,optionsWidth:t.PropTypes.oneOfType([t.PropTypes.number,t.PropTypes.string]),toggleIcon:t.PropTypes.bool,showScrollBar:t.PropTypes.bool,showScroll:t.PropTypes.bool,template:t.PropTypes.func,infoText:t.PropTypes.string,setSelectedAnyway:t.PropTypes.bool,onHover:t.PropTypes.func,onClick:t.PropTypes.func,onExpand:t.PropTypes.func,onCollapse:t.PropTypes.func,infoTitle:t.PropTypes.string,onOptionsVisible:t.PropTypes.func},render:l,getDefaultProps:function(){return{shouldTranslate:!0}},getInitialState:function(){var e=this.getValueFromProps(),t=this.getOptionsData(e,this.props.children),s=t.options,n=t.selectedIndex,i=this.getSelectedData(n,s);return this.updateCache({selectedContent:i.content,selectedSearchText:i.searchText,options:s,items:t.items,footer:t.footer,searchTexts:t.searchTexts}),{value:e,selectedIndex:n,expanded:!1}},componentWillUpdate:function(e,t){var s=!t.expanded,n=t.selectedIndex!==this.state.selectedIndex;if(s||n){var i;i=this.getSelectedData(t.selectedIndex,this.getCached("options")),this.updateCache({selectedContent:i.content,selectedSearchText:i.searchText})}},componentWillReceiveProps:function(e){var t,s=this.getValueFromProps(e);if(e.children!==this.props.children){var n=this.getOptionsData(s,e.children);t=this.getSelectedData(n.selectedIndex,n.options),this.updateCache({selectedContent:t.content,selectedSearchText:t.searchText,options:n.options,items:n.items,footer:n.footer,searchTexts:n.searchTexts}),this.setState({selectedIndex:n.selectedIndex})}if(this.getValueFromProps()!==s){var i=this.getCached("options"),o=p(i,s);t=this.getSelectedData(o,i),this.updateCache({selectedContent:t.content,selectedSearchText:t.searchText}),this.setState({value:s,selectedIndex:o})}},componentWillUnmount:function(){this.isExpanded()&&o.hideOptions()},getSelectedData:function(e,t){var s={searchText:"",content:""};if(t.length){var i=t[e],o=i.props.children,a=i.props.searchText;o&&("string"==typeof o?(o=o.trim(),s.content=c(i,this.props.shouldTranslate)?n.translate(o):o):s.content=o),a&&(a=a.trim(),s.searchText=c(i,this.props.shouldTranslate)?n.translate(a):a)}return s},cloneOption:function(e,s){return t.cloneElement(e,{index:s,key:"option-"+s,shouldTranslate:c(e,this.props.shouldTranslate)})},cloneOptgroup:function(e,s){return t.cloneElement(e,{children:s,shouldTranslate:c(e,this.props.shouldTranslate)})},cloneFooter:function(e){return t.cloneElement(e,{shouldTranslate:c(e,this.props.shouldTranslate)})},getSearchText:function(e){var t=e.props.searchText;return t?(t=t.trim(),c(e,this.props.shouldTranslate)?n.translate(t):t):""},parseChildren:function(e,s,n){var i=(n=n||{}).optionIndex||0,o=n.selectedIndex,a=this,r={items:[],options:[],selectedIndex:void 0,footer:null,searchTexts:[]};return t.Children.forEach(s,function(s){if(t.isValidElement(s))if("footer"===s.props.type)r.footer=a.cloneFooter(s);else{var n=s;if("option"===s.props.type)u(o,e,s)&&(o=i),n=a.cloneOption(s,i),r.options.push(n),r.searchTexts.push(a.getSearchText(s)),i++;else if("optgroup"===s.props.type){var l=a.parseChildren(e,s.props.children,{optionIndex:i,selectedIndex:o}),p=l.options;n=a.cloneOptgroup(s,l.items),r.options=r.options.concat(p),r.searchTexts=r.searchTexts.concat(l.searchTexts),o=l.selectedIndex,i+=p.length}r.items.push(n)}}),o&&(r.selectedIndex=o),r},getOptionsData:function(e,t){var s=this.parseChildren(e,t);return void 0===s.selectedIndex&&(s.selectedIndex=0),s},getData:function(){return{items:this.getCached("items"),footer:this.getCached("footer"),selectedIndex:this.state.selectedIndex,className:this.className,showScrollBar:this.props.showScrollBar}},getDDClassName:function(){var e="";return this.className&&(e+=" "+this.className),this.props.className&&(e+=" "+this.props.className),this.state.expanded&&(e+=" expanded"),this.props.showScroll&&(e+=" show-scroll"),this.isDropDownDisabled()&&(e+=" disabled"),e.trim()},getDDEl:function(){return e.findDOMNode(this.refs.dropdown)},getOnChange:function(e){return this.callOnChangeIfExists.bind(this,e)},setSelected:function(e){var t=e.value,s=e.index;(this.props.setSelectedAnyway||this.state.value!==t||this.state.selectedIndex!==s)&&(this.reportUIChange({value:t}),this.setState({value:t,selectedIndex:s},this.getOnChange(t)))},toggle:function(){this.isDropDownDisabled()||(this.isExpanded()?o.hide():(o.show(this),s.isFunction(this.props.onExpand)&&this.props.onExpand()))},isDropDownDisabled:function(){var e=s.isArray(this.props.children)?!this.props.children.length:!this.props.children;return this.props.disabled||e},onKeyDown:function(e){s.includes(h,e.keyCode)&&(this.toggle(),e.preventDefault(),e.stopPropagation())},focus:function(){this.isMounted()&&e.findDOMNode(this).focus()},isExpanded:function(){return o.isExpanded(this)},setExpanded:function(e){this.setState({expanded:e}),!e&&s.isFunction(this.props.onCollapse)&&this.props.onCollapse()},getFocusEl:function(){var t=this.refs.focusElement;if(t)return e.findDOMNode(t)},getSearchTexts:function(){return this.getCached("searchTexts")},onHover:function(e){this.props.onHover&&this.props.onHover(e)},onOptionsVisible:function(e){this.props.onOptionsVisible&&this.props.onOptionsVisible(e)},onMouseDown:function(e){o.isExpanded(this)&&e.nativeEvent.stopImmediatePropagation()},onClick:function(e){this.toggle(),s.isFunction(this.props.onClick)&&this.props.onClick(e)},getFilteredProps:function(){return s.omit(this.filteredProps(),"shouldTranslate")}}}),define("baseUI/panelInputs/dropDown/select.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:"selected dropdown-selected"},this.getCached("selectedContent"))}}),define("baseUI/panelInputs/dropDown/select",["react","lodash","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/select.rt"],function(e,t,s,n,i){function o(e,t,s,n){var i=e-Math.abs(t);if(Math.abs(i)<u)i=u;else{var o=n-u-s.scrollHeight;o<u&&(o=u),i<o&&(i=o)}return i}function a(e){return e>u}function r(e,t){return t?e.top-t.offsetTop:e.top}function l(e,t,s){return s-e-t.scrollHeight}function p(e,t,s,i){var o,a,r={},l=t.top,p="top"===e;return o=p?l+t.height:i-l,o<n.MIN_LIST_HEIGHT+u?(a=p?i-(o+s.scrollHeight):l-s.scrollHeight)<u&&(a=u):o=u,r.currentSide=o,r.oppositeSide=a,r}var u=n.INDENT_FROM_EDGE;return e.createClass({displayName:"select",mixins:[s],className:"select",propTypes:{shouldTranslate:e.PropTypes.bool},getDefaultProps:function(){return{toggleIcon:!0,template:i,setSelectedAnyway:!1}},getOptionsLocation:function(e,t,s){var i,o=n.getViewportSize().height,a=e.getBoundingClientRect(),c=r(a,s),h=l(c,t,o),d=c<u,m=h<u,g=d&&m,f=0,b=Number(this.props.optionsWidth)||a.width;return(d||g)&&(f=-c+u),d&&!m?(c=(i=p("top",a,t,o)).currentSide,i.oppositeSide&&(h=i.oppositeSide)):m&&!d?(h=(i=p("bottom",a,t,o)).currentSide,i.oppositeSide&&(c=i.oppositeSide)):d&&m&&(c=u,h=u),{style:{top:c,bottom:h,left:a.left,width:b},scrollTop:f}},getScrollData:function(e,t,s){var i,r,l=t.getBoundingClientRect(),p=l.height<s.scrollHeight,u={distance:0},c=n.getViewportSize().height;return p&&(e>0?(i="top",r=Math.floor(l.top)):(i="bottom",r=Math.floor(c-l.bottom)),a(r)?(u.distance=o(r,e,s,c),u.edge=i):u.distance=e),u}})}),define("baseUI/panelInputs/dropDown/option",["reactDOM","react","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(e,t,s,n,i,o){return t.createClass({displayName:"option",mixins:[n,i],propTypes:{value:t.PropTypes.any,index:t.PropTypes.number},getDefaultProps:function(){return{type:"option"}},getInitialState:function(){return{selected:o.getSelectedIndex()===this.props.index,hovered:this.props.hovered}},componentWillReceiveProps:function(e){var t=e.value,s={};this.props.value!==t&&(s.value=t),s.selected=o.getSelectedIndex()===this.props.index,this.setState(s)},select:function(){o.select(this)},getData:function(){var e=this.props;return{value:e.value,index:e.index,content:this.getCached("content"),searchText:e.searchText}},hover:function(){e.findDOMNode(this).classList.add("hovered")},unhover:function(){e.findDOMNode(this).classList.remove("hovered")},onMouseEnter:function(){o.setHovered(this)},render:function(){var e="option dropdown-option",n=this.props.children||"";return this.state.selected?e+=" selected":(this.state.hovered||this.props.hovered)&&(e+=" hovered"),n&&"string"==typeof n&&(n=n.trim(),this.props.shouldTranslate&&(n=s.translate(n))),this.updateCache("content",n),o.addOption(this),t.DOM.li({onClick:this.select,className:this.generateClassName(e),style:this.props.style,onMouseEnter:this.onMouseEnter,onMouseLeave:this.unhover},n)}})}),define("baseUI/panelInputs/stepper.rt",["react","lodash","baseUI/panelInputs/dropDown/select","baseUI/panelInputs/dropDown/option"],function(e,t,s,n){return function(){function i(e){this.refs.input.focus()}function o(e){this.onFocus()}function a(e){this.handleBlur()}function r(t,s,i){return e.createElement(n,{className:"units-dropdown",value:s.value,key:"unitsItem"+i},s.label)}function l(){var n=this.props.units;return e.createElement("div",{className:t(this.getWrapperClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:i.bind(this,n),style:this.getStepperWidth()},e.createElement("input",{ref:"input",className:"input",type:"text",value:this.state.value,disabled:!!this.props.disabled,readOnly:!this.state.edited,maxLength:"8",step:this.props.step,onChange:this.handleChange,onKeyDown:this.handleKeyDown,onFocus:o.bind(this,n),onBlur:a.bind(this,n)}),n?e.createElement("span",{className:"units-container",key:"units"},t.isArray(n)?null:e.createElement("span",{key:"units-single",className:"units"},n),t.isArray(n)?e.createElement.apply(this,[s,{key:"units-select",ref:"unitsDropdown",className:"units-dd",value:this.props.selectedUnits,onChange:this.props.onUnitsChange,optionsWidth:54,shouldTranslate:!1,disabled:!!this.props.disabled},t.map(n,r.bind(this,n)),">\n        "]):null):null)}return l.apply(this,[])}}),define("baseUI/panelInputs/stepper",["reactDOM","lodash","jquery","react","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/stepper.rt"],function(e,t,s,n,i,o,a){return n.createClass({displayName:"stepper",mixins:[o],propTypes:{min:n.PropTypes.number,max:n.PropTypes.number,step:n.PropTypes.number,selectedUnits:n.PropTypes.string,onUnitsChange:n.PropTypes.func,units:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.array]),afterBlur:n.PropTypes.func,isInvalidValue:n.PropTypes.bool,dynamicInputSize:n.PropTypes.object,inputInFocus:n.PropTypes.bool},getDefaultProps:function(){return{max:100,min:0,step:1,units:""}},getInitialState:function(){var e=this.getValueFromProps();return{value:i.normalizeNumber(void 0!==e?Number(e):0,this.props.min,this.props.max,this.props.step),edited:!1}},componentDidMount:function(){this.props.inputInFocus&&e.findDOMNode(this.refs.input).focus()},handleKeyDown:function(t){var s=t.keyCode;13===s&&(t.preventDefault(),e.findDOMNode(this.refs.input).blur()),27===s&&(t.preventDefault(),this.handleCancel()),38===s&&(t.preventDefault(),this.changeValueByStep(!0)),40===s&&(t.preventDefault(),this.changeValueByStep(!1))},getWrapperClasses:function(){var e={"input-stepper":!0,disabled:this.isDisabled(),edited:this.state.edited,"has-units":this.props.units,"with-units-dd":this.props.units&&t.isArray(this.props.units),"units-dd-expanded":this.refs.unitsDropdown&&this.refs.unitsDropdown.isExpanded(),"bad-value":this.props.isInvalidValue,"no-padding":this.props.noPadding};return this.props.className&&(e[this.props.className]=!0),e},changeValueByStep:function(e){var t=e?parseFloat(this.state.value)+this.props.step:this.state.value-this.props.step;t=i.normalizeNumber(t,this.props.min,this.props.max,this.props.step),this.acceptChanges(t)},isTemporaryValue:function(e){var s=[".","-",""];return t.includes(s,e)},handleChange:function(e){var t=e.target.value;/^-?[0-9]*(\.[0-9]*)?$/.test(t)&&this.setState({value:t})},handleCancel:function(){var t=this.getValueFromProps(),s=this;this.setState({value:t},function(){e.findDOMNode(s.refs.input).blur()})},handleBlur:function(){if(this.setState({edited:!1}),!this.props.disabled){var e=i.normalizeNumber(this.state.value,this.props.min,this.props.max,this.props.step);this.isTemporaryValue(this.state.value)&&(e=this.getValueFromProps()),this.acceptChanges(e),this.props.afterBlur&&this.props.afterBlur(e)}},getStepperValue:function(e){var s=this.getValueFromProps(e);return t.isUndefined(s)?s:parseFloat(s)},componentWillReceiveProps:function(e){var t=this.getStepperValue(e);if(!this.state.edited&&t!==this.state.value){var s=i.normalizeNumber(t,isNaN(e.min)?this.props.min:e.min,e.max||this.props.max,e.step||this.props.step);this.setState({value:s})}},onFocus:function(){var t=s(e.findDOMNode(this.refs.input));this.setState({edited:!0},function(){t.select().one("mouseup",function(e){e.preventDefault()})})},acceptChanges:function(e){this.setState({value:e}),this.callOnChangeIfExists(e)},getStepperWidth:function(){if(this.props.dynamicInputSize){var e=Math.floor(this.getStepperValue(this.props)),t=String(Math.abs(e)).length;return t+=e<0?1:0,{width:Math.max(t*this.props.dynamicInputSize.characterWidth,this.props.dynamicInputSize.minWidth)}}return{}},render:a})}),define("baseUI/panelInputs/slider.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/infoIcon"],function(e,t,s,n){return function(){return e.createElement("div",t.assign({},{className:t({"input-slider":!0,"has-label":this.hasLabel(),disabled:this.isDisabled()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.getTopLevelProps()),e.createElement("label",{className:"label"},this.translateIfNeeded(this.getLabel())),this.hasLabel()&&(this.props.infoText||this.props.infoText)&&!this.props.disabled?e.createElement(n,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("div",{className:"clearfix sliderArea"},e.createElement("div",{className:"sliderContainer"},e.createElement(s,{className:this.getStepperClass(),disabled:this.props.disabled,min:this.getStepperMin(),max:this.getStepperMax(),value:this.state.value,selectedUnits:this.props.selectedUnits,units:this.props.units,step:this.getStepperStep(),onUnitsChange:this.props.onUnitsChange,onChange:this.handleStepperChange,afterBlur:this.props.afterBlur}),e.createElement("div",{className:"slider",ref:"slider",onMouseDown:this.mouseDown},e.createElement("div",{className:"line"}),e.createElement("div",{className:"knobContainer"},e.createElement("div",{className:"coloredLine",style:{width:"calc("+this.getValueInPercent()+"% + 3px)"}}),e.createElement("div",{className:"sliderKnob",style:{left:"calc("+this.getValueInPercent()+"%)"}}))))))}}),define("baseUI/panelInputs/slider",["reactDOM","jquery","lodash","react","baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","util","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/slider.rt"],function(e,t,s,n,i,o,a,r,l){return n.createClass({displayName:"slider",mixins:[i,o,a.translationMixin,r],contextTypes:{reportUIChange:n.PropTypes.func},propTypes:{min:n.PropTypes.number,max:n.PropTypes.number,stepperMin:n.PropTypes.number,stepperMax:n.PropTypes.number,steppeStep:n.PropTypes.number,selectedUnits:n.PropTypes.string,onUnitsChange:n.PropTypes.func,units:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.array]),step:n.PropTypes.number,defaultValue:n.PropTypes.number,infoText:n.PropTypes.string,infoTitle:n.PropTypes.string,onSlideEnd:n.PropTypes.func,isSmallStepper:n.PropTypes.bool,afterBlur:n.PropTypes.func,middleValueForPolynomial:n.PropTypes.number},getDefaultProps:function(){return{max:100,min:0,step:1,units:"",isSmallStepper:!1}},getStepperClass:function(){var e="";return s.isArray(this.props.units)?e="with-units-dd":this.props.isSmallStepper&&(e="small"),e},getSliderValue:function(e){var t=this.getValueFromProps(e);return s.isUndefined(t)?t:parseFloat(t)},getInitialState:function(){this.sliderX=0,this.sliderWidth=0;var e=this.props.middleValueForPolynomial;e&&(this.quadraticEquation=a.math.getQuadraticEquationBy3Points({x:0,y:this.props.min},{x:50,y:e},{x:100,y:this.props.max}));var t=this.getSliderValue(),n=void 0!==this.props.defaultValue?Number(this.props.defaultValue):this.props.min,i=s.isNumber(t)?t:n;return{value:a.normalizeNumber(i,this.props.min,this.props.max,this.props.step)}},getValueInPercent:function(){var e=this.state.value;return this.state.value>this.props.max?e=this.props.max:this.state.value<this.props.min&&(e=this.props.min),this.quadraticEquation?Math.round(this.quadraticEquation.fInverse(e)):Math.round((e-this.props.min)/(this.props.max-this.props.min)*100)},fromPercent:function(e){return this.props.min+(this.props.max-this.props.min)*e/100},calcPositionOnSlider:function(e){var t=(e-this.sliderX)/this.sliderWidth*100;return Math.min(Math.max(t,0),100)},calcNewValueFromKnob:function(e){var t=this.calcPositionOnSlider(e);if(this.quadraticEquation){var s=Math.round(this.quadraticEquation.f(t));return Math.min(Math.max(s,this.props.min),this.props.max)}return a.normalizeNumber(this.fromPercent(t),this.props.min,this.props.max,this.props.step)},handleKnobPositionChange:function(e){if(!this.props.disabled){var t=this.calcNewValueFromKnob(e.pageX-8);this.handleChange(t)}},mouseUp:function(){t(window.document.body).removeClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup"),this.reportUIChange({value:this.state.value,value_change_origin:"Slider"}),this.props.onSlideEnd&&this.props.onSlideEnd()},mouseDown:function(s){t(window.document.body).addClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup");var n=t(e.findDOMNode(this.refs.slider));this.sliderX=n.offset().left,this.sliderWidth=n.width()-16,this.handleKnobPositionChange(s),this.registerEventListenersToDocument("mousemove",this.handleKnobPositionChange),this.registerEventListenersToDocument("mouseup",this.mouseUp)},handleChange:function(e,t){this.state.value!==e&&(this.setState({value:e}),this.callOnChangeIfExists(e,t))},handleStepperChange:function(e){e=a.normalizeNumber(e,this.getStepperMin(),this.getStepperMax(),this.getStepperStep()),this.handleChange(e,!0),this.reportUIChange({value:e,value_change_origin:"Input"})},getStepperMax:function(e){var t;return e&&(t=e.stepperMax||e.max),t||(t=this.props.stepperMax||this.props.max),t},getStepperMin:function(e){var t;return e&&(t=e.stepperMin,isNaN(t)&&(t=e.min)),isNaN(t)&&(t=this.props.stepperMin,isNaN(t)&&(t=this.props.min)),t},getStepperStep:function(e){var t;return e&&(t=e.stepperStep,isNaN(t)&&(t=e.step)),isNaN(t)&&(t=this.props.stepperStep,isNaN(t)&&(t=this.props.step)),t},componentWillReceiveProps:function(e){var t=this.getSliderValue(e);if(t!==this.state.value){var s=a.normalizeNumber(t,this.getStepperMin(e),this.getStepperMax(e),this.getStepperStep(e));this.setState({value:s})}},getTopLevelProps:function(){return s.omit(this.props,["min","max","selectedUnits","units","step","defaultValue","infoText","infoTitle","isSmallStepper","middleValueForPolynomial","shouldTranslate","value","onChange"])},render:l})}),define("baseUI/panelInputs/stepperWithSVG.rt",["react","lodash","symbols","baseUI/panelInputs/stepper"],function(e,t,s,n){return function(){function i(e){this.handleToolTipClick(e)}function o(e){this.handleSymbolClick(e)}return e.createElement("div",{className:"stepper-with-svg",onClick:i.bind(this)},e.createElement(n,this.props.stepperProps),this.props.showSymbol?e.createElement(s.symbol,{className:t({safari:this.getBrowserData().safari}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),name:this.props.symbolName,key:"stepperSVG",onClick:o.bind(this)}):null)}}),define("baseUI/panelInputs/stepperWithSVG",["core","react","lodash","coreUtilsLib","baseUI/panelInputs/stepperWithSVG.rt"],function(e,t,s,n,i){return t.createClass({displayName:"stepperWithSVG",mixins:[e.mixins.editorAPIMixin],propTypes:{showSymbol:t.PropTypes.bool,stepperClickFunc:t.PropTypes.func,symbolClickFunc:t.PropTypes.func,symbolName:t.PropTypes.string,stepperProps:t.PropTypes.object},getBrowserData:function(){var e=n.browserDetection(window.navigator.userAgent);return e&&e.browser},handleToolTipClick:function(e){e.stopPropagation(),this.props.stepperClickFunc()},handleSymbolClick:function(e){e.stopPropagation(),this.props.symbolClickFunc()},render:i})}),define("baseUI/panelInputs/prefixedTextInput.rt",["react","lodash","baseUI/panelInputs/textInput"],function(e,t,s){return function(){return e.createElement("div",function(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}({className:"prefixed-text-input-container"},this.filteredProps()),this.hasLabel()?e.createElement("label",{key:"title",className:"label"},this.translateIfNeeded(this.getLabel())):null,e.createElement("div",{},e.createElement("label",{className:"prefixed-text-input-label"},this.translateIfNeeded(this.getInputPrefix())),e.createElement(s,this.getInputProps())))}}),define("baseUI/panelInputs/prefixedTextInput",["react","lodash","util","baseUI/panelInputs/inputMixin","baseUI/panelInputs/prefixedTextInput.rt"],function(e,t,s,n,i){return e.createClass({mixins:[n,s.translationMixin],displayName:"prefixedTextInput",propTypes:{label:e.PropTypes.string,prefix:e.PropTypes.string.isRequired},getInputPrefix:function(){return this.props.prefix},getInputProps:function(){return t.omit(this.props,"label")},render:i})}),define("baseUI/controls/button2.rt",["react","lodash","symbols","experiment"],function(e,t,s,n){return function(){return e.createElement("div",this.getWrapperProps({className:"control-button2-wrapper"}),e.createElement("div",function(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}({className:this.getClassName("control-button2"),disabled:this.props.disabled?"disabled":""},this.filteredProps()),e.createElement("input",{type:"button",disabled:this.props.disabled?"disabled":""}),this.props.symbolName?e.createElement(s.symbol,{name:this.props.symbolName,className:"symbol",key:"symbol",hintId:n.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.hintId:null}):null,this.props.label?e.createElement("span",{className:"label "+this.props.customLabelClass,"data-hint-id":n.isMultiValueExperimentOpen("editorHintsConfigs")?this.props.hintId:null,key:"label"},this.translateIfNeeded(this.props.label)):null))}}),define("baseUI/controls/button2",["react","lodash","baseUI/panelInputs/inputMixin","util","baseUI/controls/button2.rt"],function(e,t,s,n,i){return e.createClass({displayName:"Button2",mixins:[s,n.translationMixin],propTypes:{label:e.PropTypes.string,className:e.PropTypes.string,wrapperClass:e.PropTypes.string,wrapperStyle:e.PropTypes.object,disabled:e.PropTypes.bool,symbolName:e.PropTypes.string,hintId:e.PropTypes.string},getWrapperProps:function(e){var s={};return t.assign(s,e),t.isEmpty(this.props.wrapperClass)||(s.class=t.compact([s.class,this.props.wrapperClass].join(" "))),t.isEmpty(this.props.wrapperStyle)||(s.style=this.props.wrapperStyle),s},render:i})}),define("baseUI/controls/fileInput.rt",["react","lodash","symbols"],function(e,t,s){return function(){function t(e){this.handleChange(e)}return e.createElement("label",{className:"file-input-control "+(this.props.onlyText?"text":"button"),disabled:!!this.props.disabled},e.createElement("input",{className:"input-"+this.props.name,type:"file",ref:"input",disabled:!!this.props.disabled,multiple:!0,onClick:this.onClick,accept:this.props.fileTypes,onChange:t.bind(this)}),this.props.onlyText?null:e.createElement(s.symbol,{name:"upload-btn",key:"button-symbol"}),e.createElement("span",{className:"label"},this.translateIfNeeded(this.props.label)))}}),define("baseUI/controls/fileInput",["react","lodash","baseUI/panelInputs/inputMixin","util","baseUI/mixins/reportUIChangeMixin","baseUI/controls/fileInput.rt"],function(e,t,s,n,i,o){return e.createClass({displayName:"fileInput",propTypes:{label:e.PropTypes.string.isRequired,disabled:e.PropTypes.bool,onChange:e.PropTypes.func,onlyText:e.PropTypes.bool,fileTypes:e.PropTypes.string},mixins:[s,i,n.translationMixin],render:o,handleChange:function(e){var t=e.target.files;this.reportUIChange({value:t}),this.callOnChangeIfExists(t)},onClick:function(){this.refs.input.value=null}})}),define("baseUI/controls/filesDrop.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:t({"drag-area-control":!0,"with-border ":this.props.hasBorder,dragging:this.state.isDragging}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onDragOver:this.handleDragOver,onDrop:this.handleDrop,onDragEnter:this.handleDragEnter,onDragLeave:this.handleDragLeave},e.createElement("div",{className:"drag-area-content"},e.createElement("div",{},this.props.children)))}}),define("baseUI/controls/filesDrop",["react","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin","baseUI/controls/filesDrop.rt"],function(e,t,s,n,i){function o(e){e.preventDefault()}return e.createClass({displayName:"filesDrop",propTypes:{onDrop:e.PropTypes.func,hasBorder:e.PropTypes.bool},mixins:[s,n],render:i,getDefaultProps:function(){return{hasBorder:!0}},getInitialState:function(){return{isDragging:!1}},handleDragOver:function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy",this.setState({isDragging:!0})},handleDragEnter:function(e){e.preventDefault(),this.setState({isDragging:!0})},handleDragLeave:function(e){e.preventDefault(),this.setState({isDragging:!1})},handleDrop:function(e){e.preventDefault();var s=e.dataTransfer?e.dataTransfer.files:e.target.files;this.handleChange(s),t.isFunction(this.props.onDrop)&&this.props.onDrop(),this.setState({isDragging:!1})},handleChange:function(e){this.reportUIChange({value:e}),this.callOnChangeIfExists(e)},componentWillMount:function(){window.addEventListener("dragover",o),window.addEventListener("drop",o)},componentWillUnmount:function(){window.removeEventListener("dragover",o),window.removeEventListener("drop",o)}})}),define("baseUI/controls/sectionDividerLabeledC06.rt",["react","lodash","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,n){return function(){return e.createElement(n.SectionDivider,{className:"labeled",label:this.props.label,shouldTranslate:this.props.shouldTranslate},this.translateIfNeeded(this.props.label),"\r\n    ",this.props.infoText?e.createElement(s,{key:"icon",size:18,text:this.props.infoText,title:this.props.infoTitle,fitToBoundsWidth:!1}):null)}}),define("baseUI/controls/sectionDividerLabeledC06",["react","lodash","util","baseUI/controls/sectionDividerLabeledC06.rt"],function(e,t,s,n){return e.createClass({displayName:"sectionDividerLabeledC06",mixins:[s.translationMixin],propTypes:{label:e.PropTypes.string,infoTitle:e.PropTypes.string,infoText:e.PropTypes.string},render:n})}),define("baseUI/panelInputs/dropDown/contextMenu.rt",["react","lodash","symbols"],function(e,t,s){return function(){return e.createElement("div",{className:"symbol-more "+t({shrink:this.props.shrink}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(s.symbol,{name:this.props.icon||"more"}),t.isNumber(this.props.notificationCount)&&!t.isNaN(this.props.notificationCount)&&t.isFunction(this.props.onNotificationClick)?e.createElement("span",{key:"notification",className:"notification",onClick:this.onNotificationClick},this.props.notificationCount):null)}}),define("baseUI/panelInputs/dropDown/contextMenu",["react","lodash","core","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/contextMenu.rt"],function(e,t,s,n,i,o){function a(e,t,s){return e.height-t-s.scrollHeight}function r(e,t,s){return e.width>=t+s}function l(e){return e>=i.INDENT_FROM_EDGE}return e.createClass({displayName:"contextMenu",mixins:[n,s.mixins.editorAPIMixin],className:"context-menu",propTypes:{icon:e.PropTypes.string,notificationCount:e.PropTypes.number,onNotificationClick:e.PropTypes.func,shrink:e.PropTypes.bool},getDefaultProps:function(){return{toggleIcon:!1,template:o,setSelectedAnyway:!0}},getOptionsLocation:function(e,t){var s=e.getBoundingClientRect(),n=i.getViewportSize(),o=this.props.optionsWidth||t.getBoundingClientRect().width+1,p=s.left+s.width,u=s.top-10,c=a(n,u,t),h=["tag-triangle"];return r(n,p,o)?h.push("tag-left"):(p=s.left-o,h.push("tag-right")),l(c)?h.push("tag-side-top"):(c=a(n,u=s.bottom-t.scrollHeight+10,t),h.push("tag-side-bottom")),{style:{top:u,bottom:c,left:p,width:o},optionalClasses:h}},onNotificationClick:function(e){this.props.onNotificationClick(e),this.getEditorAPI().bi.event(s.bi.events.urlTooltip.url_tooltip_notification_clicked),e.stopPropagation()}})}),define("baseUI/panelInputs/dropDown/combobox.rt",["react","lodash"],function(e,t){return function(){function t(e){e.nativeEvent.stopImmediatePropagation()}function s(e){e.stopPropagation()}return e.createElement("div",{className:"combo-box selected"},this.state.expanded?null:e.createElement("span",{key:"selectedContent"},this.getCached("selectedContent")),this.state.expanded?e.createElement("input",{className:"combo-box-input",key:"selectedInput",ref:"focusElement",type:"text",value:this.getCached("selectedSearchText"),onChange:this.onInputChange,onFocus:this.onFocus,onKeyDown:this.onInputKeyDown,onMouseDown:t.bind(this),onClick:s.bind(this)}):null)}}),define("baseUI/panelInputs/dropDown/combobox",["reactDOM","react","lodash","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/combobox.rt"],function(e,t,s,n,i,o){function a(e,t){var s=e.selectionStart,n=e.value.length,i=e.selectionStart===e.selectionEnd,o=!i,a=0===s,r=s===n,l=!a&&!r,p=a&&"right"===t,u=r&&"left"===t;return o||i&&(l||p||u)}var r=i.INDENT_FROM_EDGE,l={13:"enter",27:"esc",32:"space",8:"backspace",38:"up",37:"left",39:"right",40:"down"};return t.createClass({displayName:"combobox",mixins:[n],className:"combobox",isBackspace:!1,getInitialState:function(){return{inputValue:""}},getDefaultProps:function(){return{toggleIcon:!0,template:o,setSelectedAnyway:!1,showScrollBar:!0}},componentDidUpdate:function(t,s){!s.expanded&&this.state.expanded&&i.focus(e.findDOMNode(this.refs.focusElement))},getOptionsLocation:function(e,t,s,n){var o=e.getBoundingClientRect(),a=i.getViewportSize().height,l=o.top+o.height,p=a-l-t.scrollHeight;return n&&(p-=n.getBoundingClientRect().height),p<r&&(p=r),a-l-p<i.MIN_LIST_HEIGHT&&(l=a-(p=a-o.top)-t.scrollHeight,n&&(l-=n.getBoundingClientRect().height),l<r&&(l=r)),{style:{top:l,bottom:p,left:o.left,width:Number(this.props.optionsWidth)||o.width},scrollTop:s&&s.offsetTop||0}},getScrollData:function(e){return{distance:e}},onInputChange:function(e){var t,s,n,o=e.currentTarget;t=this.isBackspace&&this.state.inputValue===o.value?o.value.slice(0,-1):o.value,s=i.search(t),n=s?s.searchText:t,this.updateCache("selectedSearchText",n),this.setState({inputValue:t},function(){s&&o.setSelectionRange(t.length,n.length)})},onInputKeyDown:function(e){var t=l[e.keyCode];if(this.isBackspace="backspace"===t,t){var n=["enter","esc","up","down"];s.includes(n,t)&&i.getKeyboardHandlers()[t](e),"space"===t&&e.stopPropagation(),"left"!==t&&"right"!==t||a(e.currentTarget,t)&&e.nativeEvent.stopImmediatePropagation()}},onFocus:function(e){e.currentTarget.select()}})}),define("baseUI/panelInputs/dropDown/options.rt",["react","lodash","symbols"],function(e,t,s){return function(){function t(e){e.nativeEvent.stopImmediatePropagation()}function n(){this.scrollTo(-1)}function i(){this.scrollTo(1)}return e.createElement("section",{className:"dropdown-options "+this.state.className+" "+(this.state.visible?"expanded":"")},e.createElement("div",{className:"options",ref:"options",onWheel:this.wheelScroll,onScroll:this.handleScroll,tabIndex:"0",onMouseLeave:this.onMouseLeave,onMouseDown:t.bind(this)},e.createElement("i",{className:"top arrow",onMouseEnter:n.bind(this),onMouseLeave:this.stopScrollAnimation},e.createElement(s.symbol,{name:"arrowDown"})),e.createElement("ol",{className:"list",ref:"list"},e.createElement("span",{className:"options-container"},"\n                ",this.getCached("options"),"\n            ")),this.getCached("footer")?e.createElement("footer",{className:"options-footer",ref:"footer",key:"options-footer"},this.getCached("footer")):null,e.createElement("i",{className:"bottom arrow",onMouseEnter:i.bind(this),onMouseLeave:this.stopScrollAnimation},e.createElement(s.symbol,{name:"arrowDown"})),e.createElement("div",{className:"mouse-events-blocker",ref:"mouseEventsBlocker",onMouseMove:this.hideMouseEventsBlocker})))}}),define("baseUI/panelInputs/dropDown/options",["reactDOM","react","lodash","util","coreUtilsLib","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/options.rt"],function(e,t,s,n,i,o,a,r){function l(e,t){return t.classList.contains(e)}function p(e){return e.offsetHeight+e.scrollTop+1<e.scrollHeight}function u(e){return e.scrollTop>0}var c=n.keyboardShortcuts,h=i.browserDetection(window.navigator.userAgent),d=h&&h.browser;return t.createClass({displayName:"options",mixins:[a],render:r,getInitialState:function(){return this.updateCache({optionalClasses:null,initialKeyboardContext:"",optionsElStyle:null}),{visible:!1,className:"",showScrollBar:!1}},getWindow:function(){return window},componentDidMount:function(){var e=this.getWindow();o.registerOptionsComponent(this),c.registerContext(o.KEYBOARD_CONTEXT,o.getKeyboardHandlers()),this.onWindowResize=function(){this.state.visible&&(this.locate(o.getOptionsLocation()),this.state.showScrollBar||this.toggleScrollArrows())}.bind(this),this.onWindowScroll=function(){this.state.visible&&this.hide()}.bind(this),e.addEventListener("resize",this.onWindowResize),e.addEventListener("scroll",this.onWindowScroll)},shouldComponentUpdate:function(e,t){return void 0!==t.visible&&t.visible!==this.state.visible||void 0!==t.className&&t.className!==this.state.className},componentDidUpdate:function(){var e=this.getOptionsEl();if(this.state.visible){var t=this.getOptionsListEl();d.chrome&&t.style.setProperty("flex-basis",t.scrollHeight+"px"),this.locate(o.getOptionsLocation()),this.state.showScrollBar?this.hideScrollArrows():this.toggleScrollArrows(),o.onOptionsVisible(),o.focus(e)}else{var s=this.getCached("optionalClasses");s&&s.length&&(s.forEach(function(t){e.classList.remove(t)}),this.updateCache("optionalClasses",null))}},componentWillUnmount:function(){var e=this.getWindow();e.removeEventListener("resize",this.onWindowResize),e.removeEventListener("scroll",this.onWindowScroll),c.unregisterContext(o.KEYBOARD_CONTEXT)},show:function(e){this.updateCache({options:e.items,initialKeyboardContext:c.getContext(),footer:e.footer}),c.setContext(o.KEYBOARD_CONTEXT),this.setState({visible:!0,className:e.className,showScrollBar:e.showScrollBar})},hide:function(){this.setState({visible:!1}),this.resetOptionsElStyle(),c.getContext()===o.KEYBOARD_CONTEXT&&c.setContext(this.getCached("initialKeyboardContext"))},getOptionsListEl:function(){return e.findDOMNode(this.refs.list)},getOptionsEl:function(){return e.findDOMNode(this.refs.options)},getFooterEl:function(){var t=this.refs.footer;return t?e.findDOMNode(t):null},locate:function(e){var t=this.getOptionsEl(),n=e.optionalClasses,i={};s.forEach(e.style,function(e,s){t.style.setProperty(s,e+"px")}),i.optionsElStyle=e.style,this.getOptionsListEl().scrollTop=e.scrollTop||0,n&&n.length&&(n.forEach(function(e){t.classList.add(e)}),i.optionalClasses=n),this.updateCache(i)},toggleScrollArrows:function(){var e=this.getOptionsListEl(),t=this.getOptionsEl(),s=l("up",t),n=l("down",t),i=l("scroll",t),o=u(e),a=p(e);!o&&!a||i?o||a||!i||t.classList.remove("scroll"):t.classList.add("scroll"),o&&!s?t.classList.add("up"):s&&!o&&t.classList.remove("up"),a&&!n?t.classList.add("down"):n&&!a&&t.classList.remove("down")},hideScrollArrows:function(){var e=this.getOptionsEl();l("up",e)&&e.classList.remove("up"),l("down",e)&&e.classList.remove("down")},wheelScroll:function(e){this.scroll(o.getScrollData(e.deltaY)),o.onOptionsVisible()},handleScroll:function(){o.onOptionsVisible()},scroll:function(e){e&&(e.edge?this.getOptionsEl().style.setProperty(e.edge,e.distance+"px"):this.getOptionsListEl().scrollTop+=e.distance,this.state.showScrollBar||this.toggleScrollArrows())},scrollTo:function(e){this.scroll(o.getScrollData(e*o.DEFAULT_SCROLL_SPEED)),this.scrollAnimationFrame=window.requestAnimationFrame(this.scrollTo.bind(this,e))},scrollBy:function(e){this.scroll(o.getScrollData(e))},stopScrollAnimation:function(){window.cancelAnimationFrame(this.scrollAnimationFrame)},onMouseLeave:function(){o.setHovered(null)},resetOptionsElStyle:function(){var e=this.getOptionsEl();s.forEach(this.getCached("optionsElStyle"),function(t,s){e.style.setProperty(s,"")}),this.getOptionsListEl().style.setProperty("flex-basis","auto")},showMouseEventsBlocker:function(){e.findDOMNode(this.refs.mouseEventsBlocker).classList.add("visible")},hideMouseEventsBlocker:function(t){var s=this.getCached("currentMouseCoordinates");s?!s||s.x===t.clientX&&s.y===t.clientY||(e.findDOMNode(this.refs.mouseEventsBlocker).classList.remove("visible"),this.updateCache("currentMouseCoordinates",null)):this.updateCache("currentMouseCoordinates",{x:t.clientX,y:t.clientY})}})}),define("baseUI/panelInputs/dropDown/optgroup",["react","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/cacheMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(e,t,s,n){return e.createClass({displayName:"optgroup",mixins:[s,n,t.translationMixin],propTypes:{label:e.PropTypes.string},getDefaultProps:function(){return{type:"optgroup"}},render:function(){var t=this.props.label;return t&&(t=this.translateIfNeeded(t.trim())),e.DOM.li({className:this.generateClassName("optgroup dropdown-optgroup"),style:this.props.style,children:[e.DOM.h5({className:"optgroup-label"},t),e.DOM.ol({className:"optgroup-list"},this.props.children)]})}})}),define("baseUI/panelInputs/dropDown/footer",["react","util","baseUI/mixins/classNameMixin","baseUI/panelInputs/dropDown/dropdownManager"],function(e,t,s,n){return e.createClass({displayName:"footer",mixins:[s],getDefaultProps:function(){return{type:"footer"}},render:function(){var s=this.props.children||"";return"string"==typeof s&&(s=s.trim(),this.props.shouldTranslate&&(s=t.translate(s))),e.DOM.div({onClick:n.hide.bind(n),className:this.generateClassName(this.props.className),style:this.props.style},s)}})}),define("baseUI/panelInputs/dropDown/iconsMenu.rt",["react","lodash","baseUI/popovers/tooltip","symbols"],function(e,t,s,n){return function(){function t(e){this.props.clickAction(e)}return e.createElement(s,{key:"iconsMenu",value:this.props.tooltip,disabled:!this.props.tooltip},e.createElement("div",{className:"icons-menu-button-wrapper",onClick:t.bind(this)},e.createElement(n.symbol,{name:this.props.icon}),this.props.smallIndicator?e.createElement("div",{className:"small-indicator",key:"smallIndicator"}):null))}}),define("baseUI/panelInputs/dropDown/iconsMenu",["react","lodash","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/dropDownMixin","baseUI/panelInputs/dropDown/iconsMenu.rt"],function(e,t,s,n,i){return e.createClass({displayName:"iconsMenu",mixins:[n],className:"icons-menu",propTypes:{label:e.PropTypes.string,tooltip:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.bool]),smallIndicator:e.PropTypes.bool,clickAction:e.PropTypes.func},getDefaultProps:function(){return{toggleIcon:!1,template:i,smallIndicator:!1,setSelectedAnyway:!0,tooltip:!1,clickAction:t.noop}},getOptionsLocation:function(e,t){var n=s.getViewportSize(),i=e.getBoundingClientRect(),o=t.getBoundingClientRect(),a=i.left+i.width/2-o.width/2,r=i.top+i.height+5,l="tag-top";return r+o.height+20>n.height&&(r-=o.height+2*i.height,l="tag-bottom"),{style:{top:r,left:a},optionalClasses:["tag-triangle",l]}}})}),define("baseUI/panelInputs/multiValueLinksMixin",[],function(){return{getFieldValueFromProps:function(e,t){var s=(e=e||this.props)[t+"Link"];return void 0!==s?s.value:e[t]},callOnFieldChangeIfExists:function(e,t){var s=e+"Link",n=this.props[s]?this.props[s].requestChange:this.props["on"+s+"Change"];n&&n(t)}}}),define("baseUI/controls/toggleMixin",["react","baseUI/panelInputs/inputMixin","util","baseUI/mixins/reportUIChangeMixin"],function(e,t,s,n){return{mixins:[t,n,s.translationMixin],contextTypes:{reportUIChange:e.PropTypes.func},handleChange:function(){var e=!this.getValueFromProps(this.props);this.reportUIChange({value:e}),this.callOnChangeIfExists(e)}}}),define("baseUI/controls/mandatory.rt",["react","lodash","baseUI/popovers/tooltip"],function(e,t,s){return function(){function t(e){this.onMandatoryFieldChecked(e)}return e.createElement(s,{disabled:!this.props.forceDisable&&!!this.props.disabled,value:this.state.mandatoryTooltip},e.createElement("label",{className:this.getClassName("control-mandatory")},e.createElement("input",{type:"checkbox",checked:this.getValueFromProps(this.props),disabled:!!this.props.disabled,onChange:t.bind(this)}),e.createElement("span",{})))}}),define("baseUI/controls/mandatory",["react","baseUI/controls/toggleMixin","baseUI/controls/mandatory.rt"],function(e,t,s){return e.createClass({displayName:"mandatory",mixins:[t],render:s,getInitialState:function(){return this.originalDisabled=this.props.disabled,this.isChecked=this.getValueFromProps(this.props),{mandatoryTooltip:this.getTooltipValue(this.getValueFromProps(this.props),this.props.disabled,this.props.forceDisable)}},componentWillReceiveProps:function(e){this.props.disabled!==e.disabled&&(this.originalDisabled=e.disabled,this.setState({mandatoryTooltip:this.getTooltipValue(this.isChecked,e.disabled,e.forceDisable)}))},getTooltipValue:function(e,t,s){return t?s?this.props.hoverToolTipsKeys.forceDisabled:this.props.hoverToolTipsKeys.disabled:e?this.props.hoverToolTipsKeys.mandatoryEnabled:this.props.hoverToolTipsKeys.nonMandatoryEnabled},updateTooltipValue:function(e){this.setState({mandatoryTooltip:this.getTooltipValue(e.target.checked,this.props.disabled,this.props.forceDisable)})},onMandatoryFieldChecked:function(e){this.originalDisabled||(this.isChecked=e.target.checked,this.handleChange(),this.updateTooltipValue(e))}})}),define("baseUI/controls/toggle.rt",["react","lodash","symbols","util","baseUI/controls/infoIcon","baseUILib"],function(e,t,s,n,i,o){return function(){return e.createElement(o.Toggle,this.getToggleProps(),this.props.label&&!this.props.labelAfterSymbol?e.createElement("span",{key:"labelBefore",className:"label label-"+this.props.name},this.translateIfNeeded(this.props.label)):null,e.createElement(s.symbol,{name:this.props.name}),this.props.label&&this.props.labelAfterSymbol?e.createElement("span",{key:"labelAfter",className:"label label-"+this.props.name},this.translateIfNeeded(this.props.label)):null,this.shouldDisplayInfoIcon()?e.createElement(i,t.assign({},{key:"infoIcon"},this.getInfoIconProps())):null)}}),define("baseUI/controls/toggle",["react","lodash","baseUILib","baseUI/controls/infoIcon","baseUI/controls/toggleMixin","baseUI/controls/toggle.rt","coreUtilsLib"],function(e,t,s,n,i,o,a){var r={switch:"ToggleSwitch",checkbox:"Checkbox"};return e.createClass({displayName:"boolean",propTypes:{name:e.PropTypes.string,label:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.element]),infoText:e.PropTypes.string,infoTitle:e.PropTypes.string,shouldDisplayInfoIcon:e.PropTypes.bool,infoAlignment:e.PropTypes.string,infoFitToBounds:e.PropTypes.bool,disabled:e.PropTypes.bool,labelAfterSymbol:e.PropTypes.bool,shouldTranslate:e.PropTypes.bool,size:e.PropTypes.string},mixins:[i],getDefaultProps:function(){return{name:"switch"}},componentDidMount:function(){"checkbox"===this.props.name&&a.log.error("DEPRECATED: Toggle with name checkbox is deprecated, use new base ui lib checkbox")},getClasses:function(){var e=t.includes(this.props.className,"show-on-all-pages")?"emphasise":"";return this.getClassName(["control-"+this.props.name,this.getSizeClass(),e].join(" "))},getSizeClass:function(){return"medium"===this.props.size?"medium-scale":"no-scale"},getToggleProps:function(){var e=this.props.valueLink,s=e?{value:e.value,onChange:this.callOnChangeIfExists}:{};return t.assign({},this.props,s,{className:this.getClasses()})},shouldDisplayInfoIcon:function(){return this.props.shouldDisplayInfoIcon||this.props.infoText||this.props.infoTitle},getInfoIconProps:function(){return{className:"info-"+this.props.name,key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText,alignment:this.props.infoAlignment,fitToBounds:this.props.infoFitToBounds}},render:function(){var t=s[r[this.props.name]];if(t){var i=this.shouldDisplayInfoIcon()?[this.props.children,e.createElement(n,this.getInfoIconProps())]:this.props.children;return e.createElement(t,this.getToggleProps(),i)}return o.call(this)}})}),define("baseUI/panelInputs/selectiveTextInputWithMandatoryButton.rt",["react","lodash","baseUI/panelInputs/textInput","baseUI/controls/mandatory","baseUI/controls/toggle","baseUILib"],function(e,t,s,n,i,o){return function(){function t(e,t){this.fieldNameChanged(t)}function i(e){this.enabledChanged()}function a(e){this.requiredChanged()}function r(){var r=!this.state.enabled;return e.createElement("div",{className:"selective-text-input"},e.createElement(s,{disabled:r,onChange:t.bind(this,r),className:"textInput",maxLength:this.props.maxLength,placeholder:this.props.placeholder,value:this.state.fieldName}),e.createElement(o.Checkbox,{disabled:this.props.forceDisable,onChange:i.bind(this,r),value:this.state.enabled}),e.createElement(n,{displayName:this.props.displayName,hoverToolTipsKeys:this.props.hoverToolTipsKeys,disabled:r||this.props.forceDisable,forceDisable:this.props.forceDisable,onChange:a.bind(this,r),value:this.state.required}))}return r.apply(this,[])}}),define("baseUI/panelInputs/selectiveTextInputWithMandatoryButton",["react","lodash","baseUI/panelInputs/multiValueLinksMixin","baseUI/panelInputs/selectiveTextInputWithMandatoryButton.rt","util"],function(e,t,s,n,i){return e.createClass({displayName:"selectiveTextInputWithMandatoryButton",mixins:[i.translationMixin,s,e.addons.LinkedStateMixin],propTypes:{placeholder:e.PropTypes.string,enabledLink:e.PropTypes.any,fieldNameLink:e.PropTypes.any,requiredLink:e.PropTypes.any},getInitialState:function(){return{enabled:this.getFieldValueFromProps(this.props,"enabled"),required:this.getFieldValueFromProps(this.props,"required"),fieldName:this.getFieldValueFromProps(this.props,"fieldName")||this.translateIfNeeded(this.props.defaultFieldName)}},render:n,enabledChanged:function(){var e=!this.state.enabled;this.setState({enabled:e}),this.callOnFieldChangeIfExists("enabled",e)},requiredChanged:function(){var e=!this.state.required;this.setState({required:e}),this.callOnFieldChangeIfExists("required",e)},fieldNameChanged:function(e){this.setState({fieldName:e}),this.callOnFieldChangeIfExists("fieldName",e)}})}),define("baseUI/panelInputs/textInputWithToggle.rt",["react","lodash","baseUI/controls/button2","baseUI/controls/toggle","symbols","baseUI/panelInputs/textInput"],function(e,t,s,n,i,o){return function(){return e.createElement("div",{className:"text-input-with-toggle",style:{height:this.getCompHeight()}},this.props.symbol?e.createElement("div",{className:"input-with-toggle-symbol",key:this.props.symbol},e.createElement(i.symbol,{className:this.props.symbol+" symbol",name:this.props.symbol})):null,e.createElement("div",{className:"input-with-toggle-group",style:{left:this.getLeftOffset()}},e.createElement(n,{disabled:this.props.disabled,name:this.props.toggleType,valueLink:this.props.toggleValueLink,label:this.props.label}),this.props.toggleValueLink.value?e.createElement("div",{key:this.props.inputKey},e.createElement(o,{disabled:this.props.disabled,focus:this.props.shouldInputFocus,placeholder:this.props.placeholder,onBlur:this.props.onBlur,maxLength:this.props.maxLength,validator:this.props.validator,invalidMessage:this.props.invalidMessage,valueLink:this.props.inputValueLink})):null))}}),define("baseUI/panelInputs/textInputWithToggle",["react","lodash","baseUI/panelInputs/textInputWithToggle.rt"],function(e,t,s){return e.createClass({displayName:"textInputWithToggle",propTypes:{symbol:e.PropTypes.string,toggleType:e.PropTypes.string,toggleValueLink:e.PropTypes.object,inputValueLink:e.PropTypes.object,label:e.PropTypes.string,shouldInputFocus:e.PropTypes.bool,disabled:e.PropTypes.bool,placeholder:e.PropTypes.string,onBlur:e.PropTypes.func,maxLength:e.PropTypes.number,validator:e.PropTypes.oneOfType([e.PropTypes.func,e.PropTypes.arrayOf(e.PropTypes.func)]),invalidMessage:e.PropTypes.string,inputKey:e.PropTypes.string.isRequired},getDefaultProps:function(){return{toggleType:"switch",shouldInputFocus:!1}},getLeftOffset:function(){return this.props.symbol?"30px":0},getCompHeight:function(){return 30*this.props.toggleValueLink.value+35+"px"},render:s})}),define("baseUI/panelInputs/textInputWithButton.rt",["react","lodash","baseUI/controls/button","uiConstants","baseUI/panelInputs/textInput","symbols"],function(e,t,s,n,i,o){return function(){function n(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}function o(e){this.toggleFocus(!0)}function a(e){this.toggleFocus(!1)}function r(){var t=this.isDisabled();return e.createElement("div",n({className:"control-text-input-with-button"+(t?" disabled":"")},this.filteredProps()),e.createElement(i,{valueLink:{value:this.getValueFromProps(),requestChange:this.updateValue},label:this.props.label,shouldTranslate:this.props.shouldTranslate,placeholder:this.props.placeholder,defaultText:this.props.defaultText,maxLength:this.props.maxLength,focus:this.props.focus,isMultiLine:this.props.multiLine,validator:this.props.validator,asyncValidator:this.props.asyncValidator,invalidMessage:this.props.invalidMessage,onFocus:o.bind(this,t),onBlur:a.bind(this,t),infoText:this.props.infoText,infoTitle:this.props.infoTitle,validateOnBlurOnly:!0}),this.shouldShowButton()?e.createElement(s,{key:"textInputWithButtonButton",ref:"actionButton",onClick:this.handleClick,disabled:!this.state.isFocused,label:this.props.buttonLabel,shouldTranslate:this.props.shouldTranslate}):null)}return r.apply(this,[])}}),define("baseUI/panelInputs/textInputWithButton",["react","lodash","util","baseUI/panelInputs/statefulInputMixin","baseUI/panelInputs/textInputWithButton.rt"],function(e,t,s,n,i){return e.createClass({mixins:[n,s.translationMixin],displayName:"textInputWithButton",propTypes:{label:e.PropTypes.string,validator:e.PropTypes.oneOfType([e.PropTypes.func,e.PropTypes.arrayOf(e.PropTypes.func)]),invalidMessage:e.PropTypes.oneOfType([e.PropTypes.func,e.PropTypes.string,e.PropTypes.arrayOf(e.PropTypes.string)]),placeholder:e.PropTypes.string,defaultText:e.PropTypes.string,multiLine:e.PropTypes.bool,buttonLabel:e.PropTypes.string,maxLength:e.PropTypes.number,focus:e.PropTypes.bool,infoText:e.PropTypes.string,infoTitle:e.PropTypes.string,fixedButton:e.PropTypes.bool},getInitialState:function(){return{isFocused:!1}},updateValue:function(e,t){this.callOnChangeIfExists(e,t)},toggleFocus:function(e){this.setState({isFocused:e})},shouldShowButton:function(){return this.props.buttonLabel&&(this.props.fixedButton||this.state.isFocused)},render:i})}),define("baseUI/panelInputs/textInputWithFixedButton.rt",["react","lodash","baseUI/controls/button","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,n,i,o){return function(){function i(e){this.setFocusState(!0)}function o(){var o=this.isValid();return e.createElement("div",t.assign({},{className:t({"control-text-input-with-fixed-button":!0,invalid:!this.isValid(),success:this.isValid(),focused:this.state.isFocused}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.filteredProps()),e.createElement(n,{id:this.getTooltipId(),value:this.getValidationStatusMessage(),disabled:this.isValid(),ref:"tooltip"},e.createElement("input",{className:"control-text",value:this.state.value,onChange:this.handleChange,maxLength:this.props.maxLength,onFocus:i.bind(this,o),onKeyPress:this.onKeyPress,type:"text",autoFocus:"true",dir:this.props.dir})),e.createElement(s,{ref:"actionButton",onClick:this.handleClick,label:this.props.buttonLabel,className:t({disabled:!this.isValid()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")}))}return o.apply(this,[])}}),define("baseUI/panelInputs/textInputWithFixedButton",["reactDOM","react","jquery","lodash","util","baseUI/panelInputs/statefulInputMixin","baseUI/panelInputs/inputValidationMixin","baseUI/popovers/tooltipManager","baseUI/panelInputs/textInputWithFixedButton.rt"],function(e,t,s,n,i,o,a,r,l){return t.createClass({mixins:[o,a,i.translationMixin,i.outerClickMixin],displayName:"textInputWithFixedButton",propTypes:{buttonLabel:t.PropTypes.string.isRequired,defaultValue:t.PropTypes.string,maxLength:t.PropTypes.number,focus:t.PropTypes.bool,selectOnFocus:t.PropTypes.bool,shouldChangeOnOuterClick:t.PropTypes.bool,onOuterClick:t.PropTypes.func},uniqueTooltipId:"",getInitialState:function(){this.uniqueTooltipId=n.uniqueId();var e=this.getValueFromProps()||this.props.defaultValue;return{value:e,origValue:e,invalidMessage:"",showValidationIcon:!0,isFocused:!1}},getDefaultProps:function(){return{dir:"ltr",shouldChangeOnOuterClick:!1}},setFocusState:function(t){var n=t&&this.props.selectOnFocus&&function(){s("input",e.findDOMNode(this)).select()};this.setState({isFocused:t},n)},handleChange:function(e){var t=e.target.value;this.setState({value:i.stringUtils.removeNonSupportedCharacters(t)},function(){this.isValid()?r.hide(this.getTooltipId()):r.show(this.getTooltipId())}.bind(this))},handleClick:function(){this.onChange()},onOuterClick:function(){this.props.shouldChangeOnOuterClick&&this.onChange(),this.props.onOuterClick&&this.props.onOuterClick()},onChange:function(){this.isValid(this.state.value)&&(this.callOnChangeIfExists(this.state.value),this.setFocusState(!1))},onKeyPress:function(e){"Enter"===e.key&&this.handleClick()},getTooltipId:function(){return"text-input-with-button-validation-error"+this.uniqueTooltipId},getTextInputNode:function(){return e.findDOMNode(this.refs.tooltip)},focusControl:function(){this.setFocusState(!0),this.getTextInputNode().select()},render:l})}),define("baseUI/panelInputs/checkboxWithButton.rt",["react","lodash","baseUI/controls/button","baseUILib","symbols","util"],function(e,t,s,n,i,o){return function(){function t(){var t=this.getValueFromProps(this.props);return e.createElement("div",{className:o.inheritClassName(this.props,"control-checkbox-with-button")},e.createElement("div",{className:"controls-wrapper"},e.createElement(n.Checkbox,{indeterminate:this.props.indeterminate,value:t,onChange:this.handleChange,ref:"checkbox",disabled:this.props.isCheckboxDisabled,label:this.props.label,shouldTranslate:this.props.shouldTranslate,labelAfterSymbol:!0}),t?e.createElement(s,{key:"ui-button",className:"checkbox-button",label:this.props.buttonLabel,onClick:this.onButtonClick,shouldTranslate:this.props.shouldTranslate,disabled:Boolean(this.props.isButtonDisabled)}):null))}return t.apply(this,[])}}),define("baseUI/panelInputs/checkboxWithButton",["react","core","baseUI/controls/toggleMixin","baseUI/panelInputs/checkboxWithButton.rt"],function(e,t,s,n){return e.createClass({displayName:"CheckboxWithButton",mixins:[s,t.mixins.editorAPIMixin],propTypes:{buttonLabel:e.PropTypes.string.isRequired,onButtonClick:e.PropTypes.func,isCheckboxDisabled:e.PropTypes.bool,isButtonDisabled:e.PropTypes.bool,label:e.PropTypes.string},onButtonClick:function(){this.getEditorAPI().bi.event(t.bi.events.commonControls.CheckboxWithButton_DesignClicked,{cardId:this.props.label}),this.props.onButtonClick()},render:n})}),define("baseUI/panelInputs/actionWithSymbol.rt",["react","lodash","symbols"],function(e,t,s){return function(){function n(e){this.props.action(e)}return e.createElement("div",{className:t(this.getClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:n.bind(this)},this.props.symbol?e.createElement("span",{className:"action-symbol",key:"symbol"},e.createElement(s.symbol,{name:this.props.symbol})):null,e.createElement("span",{className:"action-label"},"\n        ",this.getLabel(),"\n    "))}}),define("baseUI/panelInputs/actionWithSymbol",["react","lodash","util","baseUI/panelInputs/actionWithSymbol.rt"],function(e,t,s,n){return e.createClass({displayName:"actionWithSymbol",propTypes:{label:e.PropTypes.string,action:e.PropTypes.func,symbol:e.PropTypes.string,symbolAlignedRight:e.PropTypes.bool,shouldTranslate:e.PropTypes.bool},getDefaultProps:function(){return{symbolAlignedRight:!1,action:t.noop}},getClasses:function(){return{"action-container":!0,"symbol-left":this.props.symbol&&!this.props.symbolAlignedRight,"symbol-right":this.props.symbol&&this.props.symbolAlignedRight}},getLabel:function(){var e=this.props.label;return this.props.shouldTranslate?s.translate(e):e},render:n})}),define("baseUI/tabs/tabHolder",["react","baseUI/panelInputs/inputMixin","baseUI/mixins/classNameMixin"],function(e,t,s){return e.createClass({mixins:[t,s],displayName:"tabs",propTypes:{className:e.PropTypes.string,style:e.PropTypes.object,defaultTab:e.PropTypes.any},getInitialState:function(){return{value:void 0!==this.getValueFromProps(this.props)?this.getValueFromProps(this.props):this.props.defaultTab}},componentWillReceiveProps:function(e){var t=this.getValueFromProps(e);void 0!==t&&this.state.value!==t&&this.setState({value:t})},setSelected:function(e){this.callOnChangeIfExists(e),this.setState({value:e})},generateChildren:function(){var t=[];return e.Children.forEach(this.props.children,function(s){var n=s.props.type;"tabHeader"===n?t.push(e.cloneElement(s,{setSelected:this.setSelected,value:this.state.value,key:"tab-header"})):"tabContent"===n?t.push(e.cloneElement(s,{value:this.state.value,key:"tab-content"})):t.push(s)},this),t},render:function(){return e.DOM.section({className:this.generateClassName("tabs"),style:this.props.style},this.generateChildren())}})}),define("baseUI/tabs/tabHeader",["react","baseUI/mixins/classNameMixin"],function(e,t){return e.createClass({mixins:[t],displayName:"tabHeader",childrenList:[],i:1,getInitialState:function(){return{showMore:!1}},getDefaultProps:function(){return{type:this.displayName}},showMore:function(){this.setState({showMore:!0})},createLabel:function(t,s){return e.cloneElement(t,{setSelected:this.props.setSelected,selected:void 0!==t.props.for?this.props.value===t.props.for:this.props.value===t.props.htmlFor,key:"tab-label "+s})},createShowMoreLabel:function(t){return e.cloneElement(t,{showMore:this.showMore,key:"tab-show-more-label"})},addChild:function(e){if(!e)return!1;var t=e.props.type,s="tabShowMoreLabel"===t&&!this.state.showMore;return"tabLabel"===t?(this.childrenList.push(this.createLabel(e,this.i)),this.i++):s&&this.childrenList.push(this.createShowMoreLabel(e)),s},generateChildren:function(){var e=this.props.children;return this.i=1,this.childrenList=[],e.constructor===Array?e.some(this.addChild,this):e.constructor===Object&&this.addChild(e),this.childrenList},render:function(){return e.DOM.ul({className:this.generateClassName("tab-header"),style:this.props.style},this.generateChildren())}})}),define("baseUI/tabs/tabContent",["react","lodash","baseUI/mixins/classNameMixin"],function(e,t,s){return e.createClass({mixins:[s],displayName:"tabContent",getDefaultProps:function(){return{type:this.displayName}},getSelectedTab:function(){var e=this.props.children,s=!1,n=this.props.value;return e.constructor===Array?s=t.find(e,function(e){return e&&"tab"===e.props.type&&n===e.props.name}):e.constructor===Object&&(s=n===e.props.name?e:null),s},render:function(){return e.DOM.section({className:this.generateClassName("tab-content "+this.props.value),style:this.props.style},this.getSelectedTab())}})}),define("baseUI/tabs/tabLabel",["react","baseUI/mixins/classNameMixin"],function(e,t){return e.createClass({displayName:"tabLabel",mixins:[t],getDefaultProps:function(){return{type:this.displayName}},setSelected:function(){var e=this.props,t=void 0!==e.for?e.for:e.htmlFor;e.setSelected(t)},render:function(){return e.DOM.li({onClick:this.setSelected,className:this.generateClassName("tab-label "+(this.props.selected?"selected":"")),style:this.props.style},this.props.children)}})}),define("baseUI/tabs/tabShowMoreLabel",["react","baseUI/mixins/classNameMixin"],function(e,t){return e.createClass({displayName:"tabShowMoreLabel",mixins:[t],getDefaultProps:function(){return{type:this.displayName}},render:function(){return e.DOM.a({onClick:this.props.showMore,className:this.generateClassName("tab-show-more-label"),style:this.props.style},this.props.children)}})}),define("baseUI/tabs/tab",["react","baseUI/mixins/classNameMixin"],function(e,t){return e.createClass({displayName:"tab",mixins:[t],getDefaultProps:function(){return{type:this.displayName}},render:function(){return e.createElement("div",{className:this.generateClassName("tab"),style:this.props.style},this.props.children)}})}),define("baseUI/controls/angle.rt",["react","lodash","baseUI/panelInputs/stepper"],function(e,t,s){return function(){return e.createElement("div",{className:"control-angle"},e.createElement("label",{className:t({disabled:this.props.disabled,"control-label":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translate(this.props.label)),e.createElement("div",{className:t({circle:!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:this.getCircleStyle(),onClick:this.onAngleClick},e.createElement("div",{className:"circle-center"}),e.createElement("div",{className:"knob",style:this.getKnobStyle(),onMouseDown:this.onKnobMouseDown})),e.createElement(s,{disabled:this.props.disabled,units:"°",value:this.getValueFromProps(),onChange:this.callOnChangeIfExists,onBlur:this.reportChangeFromUser,min:-1,max:360,step:1}))}}),define("baseUI/controls/angle",["reactDOM","react","lodash","jquery","util","baseUI/mixins/reportUIChangeMixin","baseUI/controls/angle.rt"],function(e,t,s,n,i,o,a){function r(){var t=n(e.findDOMNode(this)).find(".circle-center")[0].getBoundingClientRect();this.circleCenter={x:t.left,y:t.top+window.pageYOffset}}var l=180/Math.PI;return t.createClass({displayName:"angle",mixins:[i.valueLinkMixin,o,i.translationMixin],translate:i.translate,componentDidMount:function(){this.previousValue=this.getValueFromProps()},onKnobMouseDown:function(){r.call(this),n(window.document).on("mousemove",this.changeAngle),n(window.document).on("mouseup",this.removeListenersAndReportChange)},removeListenersAndReportChange:function(){n(window.document).off("mouseup",this.removeListenersAndReportChange),n(window.document).off("mousemove",this.changeAngle),this.reportChangeFromUser()},changeAngle:function(e){var t=Math.atan2(e.pageY-this.circleCenter.y,e.pageX-this.circleCenter.x),s=Math.floor((450+t*l)%360);this.callOnChangeIfExists(s)},reportChangeFromUser:function(){var e=this.getValueFromProps();this.previousValue!==e&&(this.previousValue=e,this.reportUIChange({value:e}))},componentWillUnmount:function(){this.removeListenersAndReportChange()},getCircleStyle:function(){var e=this.getValueFromProps();return{transform:"rotate("+e+"deg)",WebkitTransform:"rotate("+e+"deg)"}},getKnobStyle:function(){var e=this.getValueFromProps();return{transform:"rotate(-"+e+"deg)",WebkitTransform:"rotate(-"+e+"deg)"}},onAngleClick:function(e){r.call(this),this.changeAngle(e)},render:a})}),define("baseUI/treeView/treeUtils",["lodash"],function(e){function t(e,t,s){return e.left<=t&&t<=e.right&&e.top<=s&&s<=e.bottom}function s(e,t,s,n){return Math.abs(s-e)+Math.abs(n-t)}function n(e,s,n){if(t(e,s,n))return 0;var o=i,a=o(e.left,s,e.right),r=o(e.top,n,e.bottom);return Math.sqrt(a*a+r*r)}function i(e,t,s){return t<e?e-t:t>s?s-t:0}function o(e){return r(e,a),e}function a(e){e.removeAttribute("data-reactid")}function r(t,s){s(t),t&&e.forEachRight(t.children,e.partial(r,e,s))}function l(t,s){t&&e.forEachRight(t.children,s)}function p(e,t,s,n){var i=e;for(s=s||u;i;){if(t.call(n,i))return i;if(s.call(n,i))break;i=i.parentElement||i.parentNode}return null}function u(){return!1}function c(e,t){return e.style.position="absolute",e.style.top=d(t.top),e.style.left=d(t.left),e}function h(e,t){return e.style.width=d(t.width),e.style.height=d(t.height),e}function d(e){return e+"px"}function m(e,t){var s=e.getBoundingClientRect(),n=t.getBoundingClientRect();return{top:n.top-s.top,left:n.left-s.left,right:s.right-n.right,bottom:s.bottom-n.bottom,width:n.width,height:n.height}}function g(e,t){return e&&t&&e.classList&&e.classList.contains(t)}return{isMouseInside:t,getManhattanDistance:s,getDistanceFromComponent:n,stripReactIds:o,forEachNode:r,forEachChild:l,hasClass:g,searchUp:p,positionate:c,resize:h,calculateRelativePosition:m}}),define("baseUI/treeView/NodeState",[],function(){function e(e){this.node=e,this.initialState={parentNode:e.parentNode,nextSibling:e.nextSibling,className:e.className}}return e.prototype.restore=function(){var e=this.node,t=this.initialState;e.parentNode===t.parentNode&&e.nextSibling===t.nextSibling||(t.nextSibling?t.parentNode.insertBefore(e,t.nextSibling):t.parentNode.appendChild(e)),e.className!==t.className&&(e.className=t.className)},e}),define("baseUI/treeView/Path",[],function(){function e(e){this.path=e||[]}function t(e,t){return e&&e[t]}function s(e,t,s){return e&&e[s]&&e[s][t]}function n(e,t,s){return s(e,t)}return e.prototype.length=function(){return this.path.length},e.prototype.append=function(t){if(void 0===t)throw new Error("segment should be defined");return new e(this.path.concat(t))},e.prototype.findIn=function(e,i){var o,a,r=e;for(void 0===i&&(a=t),"string"==typeof i&&(a=s),"function"==typeof i&&(a=n),o=0;r&&o<this.path.length;o++)r=a(r,this.path[o],i);return r},e.prototype.parent=function(){return new e(this.path.slice(0,this.path.length-1))},e.prototype.at=function(e){if("number"!=typeof e)throw new Error("index should be a number");return this.path[e]},e.prototype.first=function(t){return new e(this.path.slice(0,t||1))},e.prototype.atRight=function(e){return this.path[this.path.length-(e||0)-1]},e.prototype.toString=function(){return this.path.join(", ")},e.prototype.equalsTo=function(t){return this===t||t instanceof e&&(this.length()===t.length()&&this.path.every(function(e,s){return e===t.path[s]}))},e.prototype.startsWith=function(t,s){return t instanceof e&&(!(t.length()>this.length())&&((!s||t.length()!==this.length())&&t.path.every(function(e,t){return e===this.path[t]},this)))},e.prototype.inc=function(t){var s;return 0===this.length()?new e([0]):(s=this.path.slice(),s[s.length-1]+=void 0===t?1:t,new e(s))},e.prototype.dec=function(e){return void 0===e?this.inc(-1):this.inc(-e)},e.prototype.increment=function(e){var t;return this.length()===e?t=this.append(0):(t=this.first(e+1)).path[e]+=1,t},e}),define("baseUI/treeView/TreeModel",["baseUI/treeView/Path","baseUI/treeView/treeUtils"],function(e,t){function s(e){m.treeClass=e.treeClass,m.treeNodeClass=e.treeNodeClass,m.treeNodeLabelClass=e.treeNodeLabelClass,m.collapsedClass=e.collapsedClass,m.previewClass=e.previewClass,m.cantBeChildClass=e.cantBeChildClass}function n(e){return t.hasClass(e,m.treeClass)}function i(e){return t.hasClass(e,m.treeNodeClass)}function o(e){return t.hasClass(e,m.collapsedClass)}function a(e){return t.hasClass(e,m.cantBeChildClass)}function r(e,t){s(t),this.dom=e,this.children=[],this.refresh()}function l(e,t,s){return e.children.reduce(function(e,n,i){return e||(n.dom===t?s.concat(i):l(n,t,s.concat(i)))},null)}function p(e,t){return e&&(e.path=t),e}function u(e,t){for(var s=0;s<e.length;s++)if(e[s]===t)return s;return-1}function c(e){var t=e.getElementsByClassName(m.treeClass)[0];this.dom=e,this.path=void 0,this.children=d(t),this.childrenLength=parseInt(this.dom.dataset.numofchildren||"0",10)}function h(e){return new c(e)}function d(e){return e&&e.children&&e.children.length>0?Array.prototype.slice.call(e.children).filter(i).map(h):[]}var m={treeClass:"",treeNodeClass:"",treeNodeLabelClass:"",collapsedClass:"",cantBeChildClass:""};return r.prototype.getChildHeight=function(){var e=this.children[0],t=e&&e.getLabel(),s=t&&t.getBoundingClientRect();return s?Math.round(1.15*s.height):NaN},r.prototype.refresh=function(){this.dom&&(this.children=d(this.dom))},r.prototype.findByDom=function(t){if(this.dom===t)return p(this,new e);var s=l(this,t,[]);return Array.isArray(s)?(s=new e(s),p(this.findByPath(s),s)):null},r.prototype.findByPath=function(e){return p(e.findIn(this,"children")||null,e)},r.prototype.findParentTree=function(e){var t=this.findByPath(e.parent());return t&&!n(t.dom)?t.dom.getElementsByClassName(m.treeClass)[0]||null:t&&t.dom},r.prototype.insert=function(e,t){var s=this.findParentTree(t),n=u(s.children,e),i=t.atRight(),o=n>=0&&n<i?1:0,a=s&&s.children[i+o];n!==i&&(a?s.insertBefore(e,a):s.appendChild(e),this.refresh())},c.prototype.getLabel=function(){var e=this.dom.getElementsByClassName(m.treeNodeLabelClass)[0];return e&&e.parentNode!==this.dom?null:e},c.prototype.hasChildren=function(){return this.childrenLength>0},c.prototype.cantBeChild=function(){return this.hasChildren()||a(this.dom)},c.prototype.isCollapsed=function(){return this.hasChildren()&&o(this.dom)},c.prototype.getFirstInsertPosition=function(){return this.isCollapsed()?this.getLastInsertPosition():0},c.prototype.getLastInsertPosition=function(e){return e?Math.max(0,(this.childrenLength||this.children.length)-1):this.childrenLength||this.children.length},r}),define("baseUI/treeView/DragVector",[],function(){function e(e,t){this.depth=e,this.position=t}return e.prototype.isOutside=function(){return this.depth<0},e.prototype.isInside=function(){return this.depth>0},e.prototype.isBack=function(){return this.position<0},e.prototype.isForward=function(){return this.position>0},e.prototype.isZero=function(){return 0===this.depth&&0===this.position},e.prototype.toString=function(){return[this.depth,this.position].join(", ")},e}),define("baseUI/treeView/HierarchicalDragAlgorithm",["baseUI/treeView/DragVector"],function(e){function t(e){this.root=e.root,this.tree=e.tree,this.draggedNode=null,this.threshold={dx:NaN,dy:NaN},this.x0=NaN,this.y0=NaN,this.x1=NaN,this.y1=NaN}function s(t){var s=t.x1-t.x0,i=t.y1-t.y0,o=parseInt(s/t.threshold.dx,10),a=parseInt(i/t.threshold.dy,10);return new e(n(-1,o,1),n(-1,a,1))}function n(e,t,s){return Math.max(e,Math.min(t,s))}return t.prototype.setInitialPosition=function(e,t,s){this.tree.refresh(),this.threshold={dx:23,dy:.5*this.tree.getChildHeight()},this.draggedNode=this.tree.findByDom(e);var n=this.draggedNode.path.length()-1;this.x0=t-(1+n*this.threshold.dx)+this.root.scrollLeft,this.y0=s+this.root.scrollTop,this.x1=NaN,this.y1=NaN},t.prototype.setDragPosition=function(e,t){this.x1=e+this.root.scrollLeft,this.y1=t+this.root.scrollTop,this.updateLayout()},t.prototype.applyDragVector=function(e){var t=this.tree,s=this.draggedNode.path,i=this.draggedNode.cantBeChild(),o=s.length()-1,a=i?o:n(0,o+e.depth,1),r=s.inc(e.position),l=t.findByPath(r);if(l&&l.hasChildren()&&!l.isCollapsed()){if(i)return r;e.position>0&&(r=r.append(l.getFirstInsertPosition())),e.position<0&&(r=r.append(l.getLastInsertPosition()))}if(l||0!==o||(r=s),!l&&o>0&&(r=s.parent().inc(e.position),r=(l=t.findByPath(r))&&e.position>0?r.append(l.getFirstInsertPosition()):l&&e.position<0?r.append(l.getLastInsertPosition()):e.position<0?r.inc():s),a>o&&1===r.length()&&(l=t.findByPath(r.dec(1)))&&!l.path.equalsTo(s)&&(r=l.path.append(l.children.length)),a<o&&2===r.length()){var p=t.findByPath(r.parent()).getLastInsertPosition(!0);if(r.atRight()===p)return r.parent().inc()}return r},t.prototype.updateLayout=function(){var e=s(this);if(!e.isZero()){var t=this.draggedNode,n=this.applyDragVector(e);if(!n.equalsTo(t.path)){n.length()===t.path.length()&&(e.depth=0);var i=t.dom.getBoundingClientRect();this.tree.insert(t.dom,n),this.draggedNode=this.tree.findByDom(t.dom);var o=t.dom.getBoundingClientRect();this.x0+=Math.abs(e.depth)*(o.left-i.left),this.y0+=Math.abs(e.position)*(o.top-i.top)}}},t}),define("baseUI/treeView/treeDocker",["reactDOM","react","jquery","lodash","baseUI/treeView/treeUtils","baseUI/treeView/NodeState","baseUI/treeView/TreeModel","baseUI/treeView/HierarchicalDragAlgorithm"],function(e,t,s,n,i,o,a,r){function l(e,t,s){var n=i.calculateRelativePosition(t,e),o=e.cloneNode(!0),a=e.parentNode.cloneNode(!1);return a.classList.add(s),a.appendChild(o),i.stripReactIds(o),i.stripReactIds(a),i.resize(o,n),i.positionate(a,n),t.appendChild(a),a}return t.createClass({displayName:"treeDocker",propTypes:{treeClass:t.PropTypes.string.isRequired,treeNodeClass:t.PropTypes.string.isRequired,treeNodeLabelClass:t.PropTypes.string.isRequired,collapsedClass:t.PropTypes.string.isRequired,draggedClass:t.PropTypes.string.isRequired,previewClass:t.PropTypes.string.isRequired,cantBeChildClass:t.PropTypes.string,className:t.PropTypes.string,scrollTopGetter:t.PropTypes.func,onNodeMoved:t.PropTypes.func},componentDidMount:function(){var t=e.findDOMNode(this),s=t.getElementsByTagName("ul")[0];this.algorithm=new r({root:t,tree:new a(s,{treeClass:this.props.treeClass,treeNodeClass:this.props.treeNodeClass,treeNodeLabelClass:this.props.treeNodeLabelClass,collapsedClass:this.props.collapsedClass,draggedClass:this.props.draggedClass,previewClass:this.props.previewClass,cantBeChildClass:this.props.cantBeChildClass})})},componentWillUnmount:function(){this.dragData=null,this.algorithm=null},render:function(){var e={className:this.props.className};return this.props.isDragAvailable&&(e.onMouseDown=this.startDrag,e.onDragStart=this.nativeDragStart),t.createElement("div",e,this.props.children)},nativeDragStart:function(e){e.preventDefault(),e.stopPropagation()},startDrag:function(t){s(window.document.body).addClass("block-selection");var n=s(window.document);n.off("mousemove",this.onMouseMove),n.off("mouseup",this.onMouseUp);var i,a,r=e.findDOMNode(this),l=this.findLabel(t.target,r);this.dragData=null,this.removeGhostElements(r),l&&((i=this.findListItem(l)).classList.remove(this.props.previewClass),i.attributes["data-disable-drag"]&&i.attributes["data-disable-drag"].value||(a=new o(i),this.dragData={root:r,clickedLabel:l,draggedNode:i,initialState:a,ghostElement:null,sx:t.clientX,sy:t.clientY,nx:NaN,ny:NaN},this.algorithm.setInitialPosition(i,this.dragData.sx,this.dragData.sy+this.getScrollTop()),n.on("mousemove",this.onMouseMove),n.on("mouseup",this.onMouseUp)))},removeGhostElements:function(t){var s=this.props.draggedClass;t=t||e.findDOMNode(this),i.forEachChild(t,function(e){i.hasClass(e,s)&&t.removeChild(e)})},findLabel:function(e,t){function s(e){return e===t}return i.searchUp(e,this.isTreeLabel,s,this)},findListItem:function(e,t){function s(e){return e===t}return i.searchUp(e,this.isTreeItem,s,this)},insertGhostElement:function(t,s){var n=this.props.draggedClass;return l(t,s||e.findDOMNode(this),n)},onMouseMove:function(e){if(this.dragData){var t=this.dragData;t.ghostElement||this.startDragIfNeeded(e),t.ghostElement&&(this.processDragMove(e),t.ghostElement.style.left=Math.min(44,Math.max(t.nx,10))+"px",t.ghostElement.style.top=Math.min(t.root.offsetHeight+10,Math.max(-5,t.ny))+"px")}},startDragIfNeeded:function(e){var t=this.dragData;i.getManhattanDistance(t.sx,t.sy,e.clientX,e.clientY)>5&&(t.ghostElement=this.insertGhostElement(t.clickedLabel,t.root),t.draggedNode.classList.add(this.props.previewClass),t.nx=parseInt(t.ghostElement.style.left,10),t.ny=parseInt(t.ghostElement.style.top,10))},getScrollTop:function(){return this.props.scrollTopGetter&&this.props.scrollTopGetter()||0},processDragMove:function(e){var t=this.dragData;t.nx+=e.clientX-t.sx,t.ny+=e.clientY-t.sy,t.sx=e.clientX,t.sy=e.clientY,this.algorithm.setDragPosition(e.clientX-12,e.clientY+this.getScrollTop())},onMouseUp:function(e){if(this.dragData){var t=Boolean(this.dragData.ghostElement);t&&this.processDragMove(e),this.removeGhostElements(),this.dragData.initialState.restore(),t&&this.processDragEnd(),this.dragData=null;var n=s(window.document);s(window.document.body).removeClass("block-selection"),n.off("mousemove",this.onMouseMove),n.off("mouseup",this.onMouseUp)}},processDragEnd:function(){if("function"==typeof this.props.onNodeMoved){var e,t,s=this.algorithm,n=s.tree,i=s.draggedNode,o=i.dom,a=i.path.parent(),r=n.findByPath(a).dom,l=i.path.atRight(),p=this.props.onNodeMoved;n.refresh(),e=n.findByDom(o).path,t=(t=n.findByDom(r).path).append(l),e.equalsTo(t)||p({from:e,to:t})}},isTreeItem:function(e){return i.hasClass(e,this.props.treeNodeClass)},isTreeLabel:function(e){return i.hasClass(e,this.props.treeNodeLabelClass)}})}),define("baseUI/treeView/treeView.rt",["react","lodash","experiment"],function(e,t,s){return function(){function n(s,n,i,o){return e.createElement(s,t.assign({},{key:i.id},this.passNodeProps(i,o)))}function i(){var i=this.getTreeNodeClass(),o=this.getChildren();return e.createElement.apply(this,["ul",{className:this.props.className+(this.props.isRoot?" tree-root":"")},s.isOpen("pagesPanelOpenCollapsed")&&this.props.isCollapsed?null:t.map(o,n.bind(this,i,o))])}return i.apply(this,[])}}),define("baseUI/treeView/treeNode.rt",["react","lodash","symbols"],function(e,t,s){return function(){function n(){var n=this.getTreeViewClass(),i=this.props.nodeContent,o=this.getChildren().length,a=this.hasChildren();return e.createElement("li",{"data-numofchildren":o,"data-disable-drag":this.props.dataSource.type.isDynamicPage||this.props.dataSource.type.isRouter,className:t({"tree-collapsed":this.state.collapsed,"has-children":this.hasChildren(),"pages-tree-node":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("span",{className:"expander",onClick:this.toggleCollapsed},a&&this.state.collapsed?e.createElement(s.symbol,{key:"expand",name:"expand"}):null,this.state.collapsed?null:e.createElement(s.symbol,{key:"collapse",name:"collapse"})),e.createElement(i,this.passNodeContentProps(this.props.dataSource)),e.createElement(n,t.assign({},{isCollapsed:this.state.collapsed},this.passNodeProps())))}return n.apply(this,[])}}),define("baseUI/treeView/treeView",["react","lodash","baseUI/panelInputs/inputMixin","baseUI/treeView/treeView.rt","baseUI/treeView/treeNode.rt"],function(e,t,s,n,i){function o(){return{nodePath:[],dataSource:[],collapsedSelector:null,childrenSelector:"items",nodeTemplate:i,treeTemplate:n,openSettings:function(){}}}function a(e,t){return void 0===t?e:e.concat(t)}function r(e,s){var n=this;return t(n.props).omit(["selected","isRoot"]).assign({dataSource:e||n.getChildren(),nodePath:a(n.props.nodePath,s)}).assign(e&&e.id&&{key:e.id}).value()}function l(e){return t(this.props).omit(["selected","isRoot"]).assign({dataSource:e,isSelected:this.isSelected(),setSelected:this.setSelected}).assign(e&&e.id&&{key:e.id}).value()}function p(){var e=this,t=e.props.dataSource,s=e.getValueFromProps();if(e.props.equalityComparer){var n=e.props.equalityComparer;return Boolean(n(t,s))}return t===s}function u(e,t,s){return"string"==typeof t?e[t]:"function"==typeof t?t.call(s,e):void 0}function c(e,t){return Array.isArray(e)?e:u(e,t.props.childrenSelector,t)||[]}function h(e,t){return Boolean(u(e,t.props.collapsedSelector,t))}var d=e.createClass({displayName:"treeNode",mixins:[s],propTypes:{dataSource:e.PropTypes.object,onNodeToggled:e.PropTypes.func,nodeTemplate:e.PropTypes.func,treeTemplate:e.PropTypes.func},getInitialState:function(){return{selected:!1,collapsed:h(this.props.dataSource,this)}},isSelected:p,getDefaultProps:o,passNodeProps:r,passNodeContentProps:l,getChildren:function(){return c(this.props.dataSource,this)},hasChildren:function(){return this.getChildren().length>=1},componentWillReceiveProps:function(e){var t=h(e.dataSource,this);this.state.collapsed!==t&&this.setState({collapsed:t})},toggleCollapsed:function(e){var t=!this.state.collapsed;this.props.onNodeToggled&&this.props.onNodeToggled(this,t),this.setState({collapsed:t}),e&&(e.preventDefault(),e.stopPropagation())},setSelected:function(e){this.setState({selected:!0}),this.callOnChangeIfExists(this.props.dataSource),e&&(e.preventDefault(),e.stopPropagation())},render:function(){return this.props.nodeTemplate.call(this)},getTreeViewClass:function(){return m}}),m=e.createClass({displayName:"treeView",mixins:[s],render:function(){return this.props.treeTemplate.call(this)},getDefaultProps:o,passNodeProps:r,getChildren:function(){return c(this.props.dataSource,this)},getTreeNodeClass:function(){return d}});return m}),define("baseUI/controls/datePicker.rt",["react","lodash","baseUI/controls/button","symbols"],function(e,t,s,n){return function(){function i(){this.updateMonth(-1)}function o(){this.updateMonth(1)}function a(t,s,n,i){return e.createElement("td",{},e.createElement("div",{className:"dp-day-name"},n))}function r(e,t,s,n,i,o){this.callOnChangeIfExists(e[7*s+i])}function l(t,s,n,i,o,a){return e.createElement("td",{onClick:r.bind(this,t,s,n,i,o,a)},e.createElement("div",{className:this.getElementClasses(t[7*n+o])},t[7*n+o]?t[7*n+o].getDate():""))}function p(s,n,i,o){return e.createElement.apply(this,["tr",{className:"dp-week",key:s[7*i].getFullYear()+"_"+s[7*i].getMonth()+"_"+i},t.map(t.range(7),l.bind(this,s,n,i,o))])}function u(){var s=this.getDatesInMonth(),n=this.state.value.getMonth();return e.createElement("table",{},e.createElement("thead",{},e.createElement.apply(this,["tr",{},t.map(this.getDays(),a.bind(this,s,n))])),e.createElement.apply(this,["tbody",{},t.map(t.range(s.length/7),p.bind(this,s,n))]))}function c(){this.callOnChangeIfExists(null)}function h(){this.setState({value:new Date})}function d(){this.getValueFromProps()&&this.setState({value:this.getValueFromProps()})}return e.createElement("div",{className:"input-date-picker"},e.createElement("div",{className:"dp-header"},e.createElement("div",{className:"dp-navigate dp-previous",onClick:i.bind(this)},e.createElement(n.symbol,{name:"greaterThen"})),e.createElement("div",{className:"dp-title"},this.getMonthTitle()),e.createElement("div",{className:"dp-navigate dp-next",onClick:o.bind(this)},e.createElement(n.symbol,{name:"greaterThen"}))),e.createElement("div",{className:"dp-body"},u.apply(this,[])),e.createElement("div",{className:"dp-footer"+(this.props.showDelete?" with-delete-btn":"")},this.props.showDelete?e.createElement(s,{className:"delete-btn",key:"deleteButton",icon:"delete",onClick:c.bind(this)}):null,e.createElement(s,{className:"goto-today",onClick:h.bind(this),label:this.translateIfNeeded(this.props.todayLabel),shouldTranslate:!1}),e.createElement(s,{className:"goto-selection",disabled:!this.props.value,onClick:d.bind(this),shouldTranslate:!1,label:this.translateIfNeeded(this.props.goToSelectedLabel)})))}}),define("baseUI/controls/datePicker",["react","lodash","util","baseUI/controls/datePicker.rt"],function(e,t,s,n){return e.createClass({displayName:"datePicker",mixins:[s.valueLinkMixin,s.translationMixin],propTypes:{todayLabel:e.PropTypes.string,goToSelectedLabel:e.PropTypes.string,startDay:e.PropTypes.string,days:e.PropTypes.arrayOf(e.PropTypes.string),monthNames:e.PropTypes.arrayOf(e.PropTypes.string),showDelete:e.PropTypes.bool,fixedNumberOfRows:e.PropTypes.bool},getDefaultProps:function(){return{todayLabel:"Today",goToSelectedLabel:"Go to selected",value:new Date,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],fixedNumberOfRows:!0}},getDays:function(){for(var e=t.map(this.props.days,this.translateIfNeeded),s=this.props.startDay?this.translateIfNeeded(this.props.startDay):e[0];e[0]!==s;)e.push(e.shift());return e},getInitialState:function(){return{value:this.getValueFromProps()||new Date}},getDatesInMonth:function(){for(var e=[],s=new Date(this.state.value.getFullYear(),this.state.value.getMonth(),1),n=this.props.startDay?this.props.days.indexOf(this.props.startDay):0;s.getDay()!==n;)s=new Date(s.getFullYear(),s.getMonth(),s.getDate()-1),e.unshift(s);for(s=new Date(this.state.value.getFullYear(),this.state.value.getMonth(),1);s.getMonth()===this.state.value.getMonth();)e.push(s),s=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1);for(;s.getDay()!==n;)e.push(s),s=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1);if(this.props.fixedNumberOfRows){var i=42-e.length;t.times(i,function(){e.push(s),s=new Date(s.getFullYear(),s.getMonth(),s.getDate()+1)})}return e},updateMonth:function(e){var t=new Date(this.state.value.getFullYear(),this.state.value.getMonth()+e,this.state.value.getDate());this.setState({value:t})},getElementClasses:function(e){var s=["dp-day",!e||e.getMonth()!==this.state.value.getMonth()&&"dp-day-not-in-current-month",this.isEquals(e,this.getValueFromProps())&&"dp-day-selected",this.isEquals(e,new Date)&&"dp-today"];return t(s).compact().join(" ")},isEquals:function(e,t){return!(e&&!t||t&&!e)&&(e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate())},getMonthTitle:function(){var e=this.props.monthNames[this.state.value.getMonth()];return this.translateIfNeeded(e)+" "+this.state.value.getFullYear()},render:n})}),define("baseUI/controls/radioButtons.rt",["react","lodash","baseUI/controls/infoIcon"],function(e,t,s){return function(){function n(e,t,s){this.handleChange(e.value,e.type)}function i(t,s){var i=this.getValueFromProps(this.props);return e.createElement("label",{className:t.className,onMouseOver:this.onMouseOver,key:"option-"+t.value},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:t.value,disabled:this.props.disabled,checked:t.value===i,onChange:n.bind(this,t,s,i)}),e.createElement("span",{}),e.createElement("span",{onClick:this.onClick},this.translateIfNeeded(t.label)))}function o(e,t,s){return i.apply(this,[e,t])}return e.createElement.apply(this,["div",{className:"control-radio-buttons"+(this.props.disabled?" disabled":"")},this.props.infoText?e.createElement(s,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle}):null,this.props.label?e.createElement("div",{key:"label"},this.translateIfNeeded(this.props.label)):null,t.map(this.props.options,o.bind(this))])}}),define("baseUI/controls/radioButtons",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/radioButtons.rt"],function(e,t,s,n){return e.createClass({displayName:"RadioButtons",mixins:[s],propTypes:{label:e.PropTypes.string,disabled:e.PropTypes.bool,options:e.PropTypes.arrayOf(e.PropTypes.shape({value:e.PropTypes.oneOfType([e.PropTypes.string,e.PropTypes.bool]).isRequired,label:e.PropTypes.string.isRequired,className:e.PropTypes.string,type:e.PropTypes.string})),infoText:e.PropTypes.string,infoTitle:e.PropTypes.string,onClickPreview:e.PropTypes.func,onMouseOverPreview:e.PropTypes.func},onClick:function(){this.props.onClickPreview&&this.props.onClickPreview(this.props)},onMouseOver:function(){this.props.onMouseOverPreview&&this.props.onMouseOverPreview(this.props)},render:n})}),define("baseUI/controls/image.rt",["react","lodash","util"],function(e,t,s){return function(){function n(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}function i(){var t=this.getImageProps();return e.createElement("div",{className:s.inheritClassName(this.props),style:{}},"img"===this.imageHtmlTag?e.createElement("img",{key:"image_type_img",src:this.getUrl(t.uri),style:this.getImageStyle(t.css.img)}):null,this.effectName&&"img"===this.imageHtmlTag?e.createElement("svg",{key:"svg_type_img",version:"1.1",style:this.getSvgStyle()},e.createElement("defs",{dangerouslySetInnerHTML:{__html:this.getFilterDefinition()}})):null,this.effectName&&"svg"===this.imageHtmlTag?e.createElement("svg",n({key:this.getLegacyKey(t),version:"1.1",style:this.getLegacySvgStyle(t),dangerouslySetInnerHTML:{__html:this.getLegacySvgInnerHtml(t)}},t.attr.container)):null)}return i.apply(this,[])}}),define("baseUI/controls/image",["react","lodash","util","coreUtilsLib","baseUI/controls/image.rt"],function(e,t,s,n,i){var o=function(){var e="undefined"!=typeof window&&window.navigator&&window.navigator.userAgent;if(e){var t=n.browserDetection(e).browser;return!(t.ie||t.edge)}return!0}(),a=t.template('<image xlink:href="${src}" x="${x}" y="${y}" width="${width}" height="${height}" transform="${transform}" preserveAspectRatio="${preserveAspectRatio}" filter="${filter}" />');return e.createClass({displayName:"Image",propTypes:{imageData:e.PropTypes.object.isRequired,imageWidth:e.PropTypes.number.isRequired,imageHeight:e.PropTypes.number.isRequired,fittingType:e.PropTypes.string,debounce:e.PropTypes.number},getSvgStyle:function(){return{width:this.props.imageWidth,height:this.props.imageHeight,left:0,top:0,overflow:"hidden",position:"absolute"}},filterId:"",effectName:"",imageHtmlTag:"img",getInitialState:function(){var e=t.get(this.props.imageData,"effectName","none");return"none"!==e&&(this.effectName=e,this.filterId="filter_"+t.uniqueId(),o||(this.imageHtmlTag="svg")),{imageUrl:""}},componentWillMount:function(){this.updateImageUrl=t.debounce(this.updateImageUrl,this.props.debounce||0,{trailing:!0})},updateImageUrl:function(e){this.setState({imageUrl:e})},getContainerStyle:function(e){return t.assign({},this.props.style||{},e)},getImageStyle:function(e){return this.effectName?t.assign({WebkitFilter:"url(#"+this.filterId+")",filter:"url(#"+this.filterId+")"},e):e},getImageProps:function(){var e=s.imageTransform.getFromImageData(this.props.imageData,this.props.imageWidth,this.props.imageHeight,this.props.fittingType||s.imageTransform.fittingTypes.SCALE_TO_FILL,s.imageTransform.alignTypes.CENTER,this.imageHtmlTag);return this.props.debounce&&e.uri!==this.state.imageUrl&&this.updateImageUrl(e.uri),e},getUrl:function(e){return this.props.debounce?this.state.imageUrl:e},getFilterDefinition:function(){return s.imageEffects.getFilter(this.filterId,this.effectName,{staticMediaUrl:s.serviceTopology.staticMediaUrl})},getLegacySvgStyle:function(e){return t.assign({width:Math.round(this.props.imageWidth),height:Math.round(this.props.imageHeight)},e.css.container)},getLegacySvgInnerHtml:function(e){var s="<defs>"+this.getFilterDefinition()+"</defs>",n=t.assign({filter:"url(#"+this.filterId+")",src:e.uri},e.attr.img);return s+a(n)},getLegacyKey:function(e){return"svg_type_svg"+e.attr.img.width*e.attr.img.height},render:i})}),define("baseUI/controls/radio.rt",["react","lodash","symbols","util","baseUI/popovers/tooltip","baseUI/controls/image"],function(e,t,s,n,i,o){return function(){function a(){this.toggleNotifySymbolTooltip(!0)}function r(){this.toggleNotifySymbolTooltip(!1)}return e.createElement(i,{ref:"tooltip",value:this.props.tooltip||this.props.label,disabled:!this.shouldShowTooltip(),shouldTranslate:!0},e.createElement("label",{className:"radio-control "+this.getClassName("control-"+this.props.name)+" "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:this.props.name,onMouseOver:this.props.onMouseOver,onMouseOut:this.props.onMouseOut},e.createElement("input",{className:"input-"+this.props.name,type:"radio",name:this.props.group,checked:this.getValueFromProps(this.props),disabled:!!this.props.disabled,onChange:this.props.onChange}),"symbol"===this.props.radioType?e.createElement(s.symbol,{className:t(this.getRadioClasses()).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"radio-symbol",name:this.props.name}):null,"class"===this.props.radioType?e.createElement("div",{className:"class-"+this.props.name,key:"radio-class"}):null,"image"===this.props.radioType&&this.props.imageData?e.createElement("div",{className:"image-radio image-radio-"+this.props.valueName,key:"radio-image"},e.createElement(o,{className:"image-radio-src",imageData:this.props.imageData,imageWidth:this.props.imageWidth,imageHeight:this.props.imageHeight})):null,this.props.notifySymbol?e.createElement("div",{ref:"notifySymbol",key:"notifySymbol",className:"notify-symbol "+this.props.notifySymbolClassName,onMouseOver:a.bind(this),onMouseLeave:r.bind(this)},e.createElement("span",{},e.createElement(s.symbol,{name:this.props.notifySymbol,onClick:this.props.onNotifySymbolClick}))):null,this.props.label?e.createElement("span",{ref:"label",className:"label label-"+this.props.name+" "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"radio-label"},this.props.translate?n.translate(this.props.label):this.props.label):null))}}),define("baseUI/controls/radio",["reactDOM","react","lodash","baseUI/panelInputs/inputMixin","baseUI/mixins/classNameMixin","baseUI/popovers/tooltipManager","baseUI/controls/radio.rt"],function(e,t,s,n,i,o,a){return t.createClass({displayName:"radio",mixins:[n,i],propTypes:{options:t.PropTypes.array,name:t.PropTypes.string,imageData:t.PropTypes.object,imageWidth:t.PropTypes.number,imageHeight:t.PropTypes.number,label:t.PropTypes.string,tooltip:t.PropTypes.string,group:t.PropTypes.string,onChange:t.PropTypes.func,disabled:t.PropTypes.bool,translate:t.PropTypes.bool,onMouseOver:t.PropTypes.func,onMouseOut:t.PropTypes.func,notifySymbol:t.PropTypes.string,onNotifySymbolClick:t.PropTypes.func,notifySymbolClassName:t.PropTypes.string,notifSymbolTooltip:t.PropTypes.string,radioType:t.PropTypes.oneOf(["image","symbol","class"])},getDefaultProps:function(){return{notifySymbolClassName:"notify-symbol-small-right",disabled:!1,translate:!0}},isLabelEllipsisActive:function(){return this.props.label&&this.props.ellipsis&&e.findDOMNode(this).offsetWidth<e.findDOMNode(this.refs.label).scrollWidth},componentDidMount:function(){this.labelEllipsActive=this.isLabelEllipsisActive()},componentDidUpdate:function(){this.labelEllipsActive=this.isLabelEllipsisActive()},shouldShowTooltip:function(){return this.props.tooltip||this.labelEllipsActive},toggleNotifySymbolTooltip:function(e){e&&this.props.notifySymbolTooltip?o.createTooltip(!0,{id:"notifySymbol",targetNode:this.refs.notifySymbol,value:this.props.notifySymbolTooltip}):o.hide("notifySymbol")},getRadioClasses:function(){var e={"svg-radio":!0,disabled:this.props.disabled};return e["svg-radio-"+this.props.name]=!0,e},render:a})}),define("baseUI/controls/thumbnails.rt",["react","lodash","util","symbols","baseUI/controls/infoIcon","baseUI/controls/radio"],function(e,t,s,n,i,o){return function(){function n(e,t,s){this.handleChange(e.value,e.type)}function a(e,t,s){this.onMouseOver(e.value)}function r(e,t,s){this.onMouseOut(s)}function l(s,i){var l=this.getValueFromProps(this.props);return e.createElement(o,{key:s.value,radioType:s.radioType||this.props.radioType,name:s.symbolName||s.className,imageData:s.imageData,imageWidth:s.width,imageHeight:s.height,disabled:s.disabled,translate:s.translate,label:s.label,tooltip:s.tooltip,ellipsis:!0,group:this.getRadioGroupId(),value:t.isEqual(s.value,l),valueName:s.value,notifySymbol:s.notifySymbol,notifySymbolTooltip:s.notifySymbolTooltip,onNotifySymbolClick:s.onNotifySymbolClick,onChange:n.bind(this,s,i,l),onMouseOver:a.bind(this,s,i,l),onMouseOut:r.bind(this,s,i,l)})}function p(e,t,s){return l.apply(this,[e,t])}return e.createElement.apply(this,["div",{className:this.getClassName("control-thumbnails")+" "+t({"with-title":!!this.props.title,square:this.props.square}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),"data-max-thumbs-per-row":this.props.maxThumbsPerRow,"data-items-to-skip":this.props.itemsToSkip},this.props.infoText?e.createElement(i,{key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText}):null,this.props.title?e.createElement("div",{key:"title"},s.translate(this.props.title)):null,t.map(this.props.options,p.bind(this))])}}),define("baseUI/controls/thumbnails",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnails.rt"],function(e,t,s,n){return e.createClass({displayName:"Thumbnails",mixins:[s],propTypes:{options:e.PropTypes.array,maxThumbsPerRow:e.PropTypes.string,itemsToSkip:e.PropTypes.string,title:e.PropTypes.string,onMouseOver:e.PropTypes.func,onMouseOut:e.PropTypes.func,infoTitle:e.PropTypes.string,infoText:e.PropTypes.string,square:e.PropTypes.bool,radioType:e.PropTypes.oneOf(["image","symbol","class"])},getDefaultProps:function(){return{radioType:"symbol",itemsToSkip:"0",options:[{value:"1",label:"16:9",symbolName:"aspect-ratio-16-9"},{value:"2",label:"4:3",symbolName:"aspect-ratio-4-3"},{value:"3",label:"1:1",symbolName:"aspect-ratio-1-1"},{value:"4",label:"1:1",symbolName:"aspect-ratio-3-4"},{value:"5",label:"1:1",symbolName:"aspect-ratio-1-1"}],square:!0}},onMouseOver:function(e){this.props.onMouseOver&&this.props.onMouseOver(e)},onMouseOut:function(e){this.props.onMouseOut&&this.props.onMouseOut(e)},render:n})}),define("baseUI/controls/radioWithIcon.rt",["react","lodash","symbols","util","baseUI/popovers/tooltip"],function(e,t,s,n,i){return function(){return e.createElement(i,{ref:"tooltip-"+this.props.value,value:this.props.tooltip,disabled:!this.props.tooltip,shouldTranslate:!0},e.createElement("label",{className:this.props.className},e.createElement("input",{type:"radio",name:this.props.group,value:this.props.value,checked:this.getValueFromProps(this.props),onChange:this.props.onChange}),e.createElement("span",{},e.createElement("span",{className:"image-container"},this.props.imageUrl?e.createElement("span",{key:"imgurl",style:{background:"url('"+this.props.imageUrl+"') 50% 50% no-repeat",height:"100%",width:"100%",display:"inline-block"}}):null,this.props.imageUrl?null:e.createElement(s.symbol,{key:"symbol",name:this.props.symbolName})),e.createElement("span",{className:"option-title"},this.props.title))))}}),define("baseUI/controls/radioWithIcon",["react","lodash","baseUI/panelInputs/inputMixin","baseUI/controls/radioWithIcon.rt"],function(e,t,s,n){return e.createClass({displayName:"radioWithIcon",mixins:[s],propTypes:{title:e.PropTypes.string,tooltip:e.PropTypes.string,group:e.PropTypes.string,onChange:e.PropTypes.func,imageUrl:e.PropTypes.string,symbolName:e.PropTypes.string},render:n})}),define("baseUI/controls/thumbnailsWithIcons.rt",["react","lodash","symbols","baseUI/controls/infoIcon","baseUI/controls/radioWithIcon","baseUI/popovers/tooltip"],function(e,t,s,n,i,o){return function(){function s(e,t,s){this.handleChange(t.value)}function o(t,n,o){return e.createElement(i,{key:n.value,symbolName:n.symbolName,title:this.translateIfNeeded(n.title),tooltip:n.tooltip,group:this.getRadioGroupId(),value:n.value===t,onChange:s.bind(this,t,n,o)})}function a(){var s=this.getValueFromProps(this.props);return e.createElement.apply(this,["div",{className:"thumbnails-with-icons"},e.createElement("div",{className:"control-header"},this.props.label?e.createElement("span",{key:"label",className:"thumbnails-with-icons-label"},this.translateIfNeeded(this.props.label)):null,this.props.shouldDisplayInfoIcon?e.createElement(n,{className:"info-"+this.props.name,key:"infoIcon",title:this.props.infoTitle,text:this.props.infoText,alignment:this.props.infoAlignment,fitToBounds:this.props.infoFitToBounds}):null),t.map(this.props.options,o.bind(this,s))])}return a.apply(this,[])}}),define("baseUI/controls/thumbnailsWithIcons",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnailsWithIcons.rt"],function(e,t,s,n){return e.createClass({displayName:"thumbnailsWithIcons",mixins:[s],propTypes:{options:e.PropTypes.array.isRequired,label:e.PropTypes.string},render:n})}),define("baseUI/controls/thumbnailsVertical.rt",["react","lodash","symbols"],function(e,t,s){return function(){function n(e,t){this.handleChange(e.value)}function i(i,o){return e.createElement("label",{key:"option_"+o},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:i.value,checked:this.isCurrentValue(i.value),onChange:n.bind(this,i,o)}),e.createElement("div",{className:"thumbnail-container "+this.props.align},i.imgSrc?e.createElement("img",{key:"imgsrc",className:t({withoutLabel:!i.title}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),src:i.imgSrc,width:i.width||"",height:i.height||""}):null,i.symbolName?e.createElement(s.symbol,{key:"thumbnailContainerSymbol",name:i.symbolName}):null,i.title?e.createElement("span",{key:"title",className:"thumbnail-title"},this.translateIfNeeded(i.title)):null))}return e.createElement.apply(this,["div",{className:"thumbnails-vertical"},t.map(this.props.options,i.bind(this))])}}),define("baseUI/controls/thumbnailsVertical",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/thumbnailsVertical.rt"],function(e,t,s,n){return e.createClass({displayName:"thumbnails-vertical",mixins:[s],propTypes:{options:e.PropTypes.array.isRequired,valueLink:e.PropTypes.object,imageMargin:e.PropTypes.string,align:e.PropTypes.string},getDefaultProps:function(){return{align:"center",imageMargin:"5px"}},isCurrentValue:function(e){var s=this.getValueFromProps(this.props);return t.isEqual(e,s)},render:n})}),define("baseUI/controls/buttonsGroup.rt",["react","lodash","baseUI/controls/infoIcon","util"],function(e,t,s,n){return function(){function i(e,t,s){this.handleChange(e.value)}function o(s,n){var o=this.getValueFromProps(this.props);return e.createElement("label",{key:s.value,className:s.className},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:s.value,checked:s.value===o,disabled:this.props.disabled,onChange:i.bind(this,s,n,o)}),e.createElement("span",{className:t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(s.label)))}function a(e,t,s){return o.apply(this,[e,t])}return e.createElement("div",{className:"control-buttons-group"},this.props.title?e.createElement("p",{key:"title"},n.translate(this.props.title)):null,this.props.title&&(this.props.infoText||this.props.infoTitle)?e.createElement(s,{key:"infoIcon",text:this.props.infoText,title:this.props.infoTitle,size:18}):null,e.createElement.apply(this,["div",{className:"group-buttons-container"+(this.props.align?"-"+this.props.align:"")},t.map(this.props.options,a.bind(this))]))}}),define("baseUI/controls/buttonsGroup",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/buttonsGroup.rt"],function(e,t,s,n){return e.createClass({displayName:"ButtonsGroup",PropTypes:{align:e.PropTypes.string},mixins:[s],render:n})}),define("baseUI/controls/horizontalTabs.rt",["react","lodash","util"],function(e,t,s){return function(){function n(e,t,s){this.handleChange(e.value)}function i(t,i){var o=this.getValueFromProps(this.props);return e.createElement("label",{className:"container "+(t.className||""),key:t.value},e.createElement("input",{type:"radio",className:"input",name:this.getRadioGroupId(),value:t.value,checked:t.value===o,onChange:n.bind(this,t,i,o)}),e.createElement("span",{className:"tab-decorator"},e.createElement("span",{className:"text-label"},this.props.shouldTranslate?s.translate(t.label):t.label)))}function o(e,t,s){return i.apply(this,[e,t])}return e.createElement.apply(this,["div",{className:this.getClassName("control-tabs-horizontal")},t.map(this.props.options,o.bind(this))])}}),define("baseUI/controls/horizontalTabs",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/horizontalTabs.rt"],function(e,t,s,n){return e.createClass({displayName:"HorizontalTabs",mixins:[s],getDefaultProps:function(){return{options:[{label:"Image_Button_Settings_Regular_View_Label",value:1},{label:"Image_Button_Settings_Hover_View_Label",value:2},{label:"Image_Button_Settings_Clicked_View_Label",value:3}]}},render:n})}),define("baseUI/controls/linkToggle.rt",["react","lodash","symbols"],function(e,t,s){return function(){return e.createElement("label",{className:t({"control-link":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("input",{type:"checkbox",defaultChecked:this.props.value,disabled:this.props.disabled}),e.createElement("div",{onClick:this.onClick},e.createElement(s.symbol,{name:"linkBtn"})))}}),define("baseUI/controls/linkToggle",["react","lodash","baseUI/controls/linkToggle.rt"],function(e,t,s){return e.createClass({displayName:"linkToggle",propTypes:{value:e.PropTypes.bool,onClick:e.PropTypes.func,disabled:e.PropTypes.bool},getDefaultProps:function(){return{disabled:!1}},onClick:function(){this.props.disabled||this.props.onClick()},render:s})}),define("baseUI/controls/verticalTabs.rt",["react","lodash","baseUILib","symbols","baseUI/popovers/tooltip","uiConstants"],function(e,t,s,n,i,o){return function(){function a(e,t,s){this.handleChange(t.value)}function r(t,r,l){return e.createElement("div",{key:"option-"+r.value,name:r.value},e.createElement(i,{shouldTranslate:!1,disabled:this.props.closed,value:r.text,alignment:o.TOOLTIP.ALIGNMENT.RIGHT,styleType:o.TOOLTIP.STYLE_TYPE.SMALL,interactive:!1},e.createElement("label",{},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:r.value,checked:r.value===t,onChange:a.bind(this,t,r,l)}),e.createElement("span",{onClick:this.reportTabClicked},e.createElement(n.symbol,{name:r.symbolName}),this.props.closed?e.createElement("span",{className:"tab-text",key:"verticalTabText"},r.text):null),this.props.closed?e.createElement(s.Divider,{long:!0,key:"divider"}):null)))}function l(){var s=this.getValueFromProps(this.props);return e.createElement.apply(this,["div",{className:t({"control-vertical-tabs":!0,closed:this.props.closed}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},t.map(this.props.options,r.bind(this,s))])}return l.apply(this,[])}}),define("baseUI/controls/verticalTabs",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/verticalTabs.rt"],function(e,t,s,n){return e.createClass({displayName:"verticalTabs",propTypes:{tabClicked:e.PropTypes.func},mixins:[s],render:n,reportTabClicked:function(){t.isFunction(this.props.tabClicked)&&this.props.tabClicked()}})}),define("baseUI/colorPicker/colorPickerInput.rt",["react","lodash","baseUILib","util"],function(e,t,s,n){return function(){return e.createElement("div",{onClick:this.openColorPicker,className:this.getClassName("color-picker-input")+(this.props.label?" with-label":"")},this.props.label?e.createElement("label",{className:"color-picker-label",key:"colorPickerLabel"},n.translate(this.props.label)):null,e.createElement("div",{className:t({"color-picker-wrapper":!0,disabled:this.props.disabled,colorPickerOpen:this.state.forceHighlight}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"color-picker-color",style:{backgroundColor:this.resolveColor(),opacity:this.getOpacity()}})),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInput",["react","lodash","util","baseUI/panelInputs/inputMixin","baseUI/colorPicker/colorPickerInput.rt"],function(e,t,s,n,i){return e.createClass({mixins:[n,s.translationMixin],displayName:"colorPickerInput",getInitialState:function(){return{forceHighlight:!1}},propTypes:{useMouseEvent:e.PropTypes.bool,position:e.PropTypes.object,openColorPicker:e.PropTypes.func.isRequired,colorResolver:e.PropTypes.func,previewOnHover:e.PropTypes.bool,helpText:e.PropTypes.string},getDefaultProps:function(){return{colorResolver:t.identity}},openColorPicker:function(e){this.setState({forceHighlight:!0});var t=this.props.position;!t&&this.props.useMouseEvent&&(t={top:e.clientY,left:e.clientX}),this.props.openColorPicker(this.handleChange,this.getValueFromProps(),!0,t,!1!==this.props.previewOnHover,this.props.enableHistory,this.onColorPickerClose)},handleChange:function(e){this.callOnChangeIfExists(e)},resolveColor:function(){return this.props.colorResolver(this.getValueFromProps())},getOpacity:function(){var e=1;return t.isNumber(this.props.opacity)&&(e=this.props.opacity),e},unHighlight:function(){this.isMounted()&&this.setState({forceHighlight:!1})},onColorPickerClose:function(){this.isMounted()&&this.unHighlight()},render:i})}),define("baseUI/colorPicker/colorPickerInputWithOpacity.rt",["react","lodash","baseUILib","baseUI/panelInputs/slider","baseUI/colorPicker/colorPickerInput"],function(e,t,s,n,i){return function(){return e.createElement("div",{className:"color-picker-input-with-opacity"},this.props.label?e.createElement("label",{key:"label",className:t({"color-picker-input-with-opacity-label":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(this.props.label)):null,e.createElement("div",{className:"color-picker-input-with-opacity-slider"},e.createElement(n,{isSmallStepper:this.props.isSmallStepper,disabled:this.props.disabled,units:"%",valueLink:this.linkOpacity(),min:0,max:100,step:1}),e.createElement(i,t.assign({},{disabled:this.props.disabled,valueLink:this.linkColor()},this.getPropsForColorInput()))),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInputWithOpacity",["react","lodash","util","baseUI/colorPicker/colorPickerInputWithOpacity.rt"],function(e,t,s,n){return e.createClass({propTypes:{label:e.PropTypes.string,helpText:e.PropTypes.string,isSmallStepper:e.PropTypes.bool},getDefaultProps:function(){return{isSmallStepper:!1}},mixins:[s.valueLinkMixin,s.propTypesFilterMixin,s.translationMixin],displayName:"colorPickerInputWithOpacity",linkColor:function(){return{value:this.getValueFromProps().color,requestChange:function(e){this.callOnChangeIfExists({color:e,alpha:this.getValueFromProps().alpha})}.bind(this)}},linkOpacity:function(){return{value:100*this.getValueFromProps().alpha,requestChange:function(e){this.callOnChangeIfExists({color:this.getValueFromProps().color,alpha:e/100})}.bind(this)}},getPropsForColorInput:function(){var e=this.filteredProps();return e.opacity=this.getValueFromProps().alpha,e},render:n})}),define("baseUI/panelInputs/shadowControl.rt",["react","lodash","baseUILib","baseUI/panelInputs/slider","baseUI/colorPicker/colorPickerInputWithOpacity","baseUI/controls/angle"],function(e,t,s,n,i,o){return function(){return e.createElement("div",{className:"shadow-control"},e.createElement(o,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Angle",onChange:this.changeAngle,value:this.getAngleValue(),step:1}),e.createElement(s.Divider,{long:!1}),e.createElement(n,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Distance",onChange:this.distanceChanged,value:this.getDistanceValue(),min:0,max:50}),e.createElement(s.Divider,{long:!1}),e.createElement(n,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Size",onChange:this.sizeChanged,value:this.getSizeValue(),min:0,max:50}),e.createElement(s.Divider,{long:!1}),e.createElement(n,{disabled:this.props.disabled,label:"CustomDesign_Shadow_Blur",onChange:this.blurChanged,value:this.getBlurValue(),min:0,max:50}),e.createElement(s.Divider,{long:!1}),e.createElement(i,t.assign({},{disabled:this.props.disabled,label:"CustomDesign_Shadow_Color&Opacity",valueLink:this.linkColorWithOpacity()},this.getColorPickerProps())),this.props.disabled?e.createElement("div",{className:"blocking-layer",key:"blockingLayer"}):null)}}),define("baseUI/panelInputs/shadowControl",["react","lodash","baseUI/panelInputs/shadowControl.rt","baseUI/panelInputs/inputMixin","core","panelUtils"],function(e,t,s,n,i,o){function a(e,t){var s=t*m;return{x:(e*Math.sin(-s)).toFixed(2),y:(e*Math.cos(-s)).toFixed(2)}}function r(e,t){return((180+Math.atan2(e,-t)*d)%360).toFixed(2)}function l(e,t){return Math.sqrt(e*e+t*t).toFixed(2)}function p(e){var s=g.exec(e)[1];return t.map(s.split(","),function(e){return parseFloat(e)})}function u(e){return e.match(f)?p(e)[3]:1}function c(e){var t=p(e.color);return t[3]=e.alpha,"rgba("+t.join(",")+")"}function h(e){var t=this.getValueFromProps();return t?t.split(e):[]}var d=180/Math.PI,m=1/d,g=/rgba\(([^)]+)\)/,f=/rgba\(/;return e.createClass({displayName:"shadowControl",mixins:[n,i.mixins.editorAPIMixin,o.linkColorPickerMixin],render:s,getDefaultProps:function(){return{angle:0,distance:0,size:0,blur:0,color:"rgba(0,0,0,1)"}},changeAngle:function(e){this.oldDistance=this.getDistanceValue(),this.oldAngle=e,this.handleChange({angle:e})},distanceChanged:function(e){this.oldAngle=this.getAngleValue(),this.oldDistance=void 0,this.handleChange({distance:e})},sizeChanged:function(e){this.handleChange({size:e})},blurChanged:function(e){this.handleChange({blur:e})},getAngleValue:function(){if(this.oldAngle)return this.oldAngle;var e=h.call(this," "),s=t.map(e,function(e){return parseFloat(e)});return r(s[0],s[1])},getDistanceValue:function(){if(this.oldDistance)return this.oldDistance;var e=h.call(this," "),s=t.map(e,function(e){return parseFloat(e)});return l(s[0],s[1])},getBlurValue:function(){var e=h.call(this," ");return parseFloat(e[2])},getSizeValue:function(){var e=h.call(this," "),t=parseFloat(e[3]);return t||0},getColorValue:function(){var e=this.getValueFromProps();e=e.substr(e.indexOf("rgb"));var t=/rgba\(([^)]+)\)/.exec(e);return t?t[0]:"rgba(0,0,0,1)"},getStringForValues:function(e){var s=t.defaults(e,{distance:this.getDistanceValue(),angle:this.getAngleValue(),blur:this.getBlurValue(),size:this.getSizeValue(),color:this.getColorValue()}),n=a(s.distance,s.angle);return n.x+"px "+n.y+"px "+s.blur+"px "+s.size+"px "+s.color},linkColorWithOpacity:function(){var e=this.getColorValue();return{value:{color:e,alpha:u(e)},requestChange:function(e){var t=c(e);this.handleChange({color:t})}.bind(this)}},getColorPickerProps:function(){return{colorResolver:this.resolveColor,openColorPicker:this.openColorPicker}},handleChange:function(e){this.callOnChangeIfExists(this.getStringForValues(e))}})}),define("baseUI/controls/cornerRadiusInput.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/linkToggle"],function(e,t,s,n){return function(){return e.createElement("div",{className:"control-border-radius"},e.createElement("label",{className:"inputLabel"},this.translateIfNeeded(this.props.label)),e.createElement("div",{className:"inputContainer"},e.createElement(s,{className:"small",name:"top_left",ref:"top_left",value:this.getCornerValue("top_left"),onChange:this.onCornerChange.bind(this,"top_left"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement(s,{className:"small",name:"top_right",ref:"top_right",value:this.getCornerValue("top_right"),onChange:this.onCornerChange.bind(this,"top_right"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement(s,{className:"small",name:"bottom_right",ref:"bottom_right",value:this.getCornerValue("bottom_right"),onChange:this.onCornerChange.bind(this,"bottom_right"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement(s,{className:"small",name:"bottom_left",ref:"bottom_left",value:this.getCornerValue("bottom_left"),onChange:this.onCornerChange.bind(this,"bottom_left"),min:this.props.minBorderValue,max:this.props.maxBorderValue,step:this.props.borderStep}),e.createElement("div",{className:"cornersContainer"},e.createElement("div",{ref:"topLeft",className:"corner",style:{borderTopLeftRadius:this.getCornerValue("top_left")+"px"}}),e.createElement("div",{ref:"topRight",className:"corner",style:{borderTopRightRadius:this.getCornerValue("top_right")+"px"}}),e.createElement("div",{ref:"bottomRight",className:"corner",style:{borderBottomRightRadius:this.getCornerValue("bottom_right")+"px"}}),e.createElement("div",{ref:"bottomLeft",className:"corner",style:{borderBottomLeftRadius:this.getCornerValue("bottom_left")+"px"}}),e.createElement("span",{className:"link"},e.createElement(n,{name:"link",onClick:this.toggleLink,value:this.getLinkedToggleValue()})))))}}),define("baseUI/controls/cornerRadiusInput",["react","lodash","util","baseUI/controls/cornerRadiusInput.rt","baseUI/panelInputs/inputMixin","baseUI/mixins/reportUIChangeMixin","experiment"],function(e,t,s,n,i,o,a){function r(e,t){var s=l(this.getValueFromProps());s[u[e]]=t,this.handleChange(s)}function l(e){return t.map(e.split(" "),function(e){return parseInt(e,10)})}function p(e){return e.split&&1===e.split(" ").length}var u={top_left:0,top_right:1,bottom_right:2,bottom_left:3};return e.createClass({displayName:"cornerRadiusInput",mixins:[i,o,e.addons.LinkedStateMixin,s.translationMixin],render:n,getInitialState:function(){return{isLinked:this.getInitialLinkState()}},getDefaultProps:function(){return{minBorderValue:0,maxBorderValue:9999,borderStep:1}},_isLinked:function(){return a.isOpen("se_cssDesignPanels")?this.state.isLinked:p(this.getValueFromProps())},getInitialLinkState:function(){var e=this.getValueFromProps(),s=t.isArray(e)?e:e.split(" ");return t.reduce(s,function(e,t,s,n){return e&&n[0]===t},!0)},onCornerChange:function(e,t){this._isLinked()?this.changeAllCorners(t):r.call(this,e,t)},changeAllCorners:function(e){this.handleChange(e)},getCornerValue:function(e){var t=this.getValueFromProps();return this._isLinked()?parseInt(t,10):l(t)[u[e]]},getLinkedToggleValue:function(){return this._isLinked()},toggleLink:function(){a.isOpen("se_cssDesignPanels")&&this.setState({isLinked:!this.state.isLinked});var e=l(this.getValueFromProps()),t=e[0];e=this._isLinked()?[t,t,t,t]:t,this.handleChange(e)},handleChange:function(e){var s=t.isArray(e)?e.join("px ")+"px":e+"px";this.callOnChangeIfExists(s),this.reportUIChange({value:s})}})}),define("baseUI/controls/alignment.rt",["react","lodash","util","symbols"],function(e,t,s,n){return function(){function i(e,t,s){this.handleChange(e.value,e.type)}function o(t,s){var o=this.getValueFromProps(this.props);return e.createElement("label",{className:"item",key:"label"+s},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),value:t.value,checked:t.value===o,onChange:i.bind(this,t,s,o)}),e.createElement("span",{},t.symbolName?e.createElement(n.symbol,{key:"symbol",name:t.symbolName}):null))}function a(e,t,s){return o.apply(this,[e,t])}return e.createElement("div",{className:this.getClassName("control-alignment")},e.createElement("div",{className:"label"},s.translate(this.props.label)),e.createElement.apply(this,["div",{className:"items"},t.map(this.props.options,a.bind(this))]))}}),define("baseUI/controls/alignment",["react","lodash","baseUI/controls/radioButtonsMixin","baseUI/controls/alignment.rt"],function(e,t,s,n){return e.createClass({displayName:"alignment",mixins:[s],getDefaultProps:function(){return{options:[{value:"left top",label:"",className:""},{value:"center top",label:"",className:""},{value:"right top",label:"",className:""},{value:"left center",label:"",className:""},{value:"center center",label:"",className:""},{value:"right center",label:"",className:""},{value:"left bottom",label:"",className:""},{value:"center bottom",label:"",className:""},{value:"right bottom",label:"",className:""}]}},render:n})}),define("baseUI/controls/textAlignment.rt",["react","lodash","baseUI/commonData/commonData","baseUI/controls/thumbnails"],function(e,t,s,n){return function(){return e.createElement("div",{className:t({"pick-text-alignment":!0,"has-label":this.hasLabel()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(n,{maxThumbsPerRow:"5",onMouseOver:t.noop,valueLink:this.props.valueLink,title:this.props.label,options:this.props.options||this.TEXT_ALIGNMENT_MODES}))}}),define("baseUI/controls/textAlignment",["react","util","baseUI/panelInputs/inputMixin","baseUI/controls/textAlignment.rt"],function(e,t,s,n){return e.createClass({mixins:[s,t.translationMixin],TEXT_ALIGNMENT_MODES:[{value:"left",symbolName:"textAlignLeft"},{value:"center",symbolName:"textAlignCenter"},{value:"right",symbolName:"textAlignRight"}],displayName:"textAlignment",handleChange:function(e){this.callOnChangeIfExists(e)},render:n})}),define("baseUI/panelInputs/colorScheme.rt",["react","lodash","baseUILib","baseUI/commonData/commonData","baseUI/controls/radioButtons","baseUI/controls/toggle"],function(e,t,s,n,i,o){return function(){return e.createElement("div",{className:"color-scheme-picker"},e.createElement(i,{onChange:this.changeColorSchemeType,value:this.getColorSchemeType(),options:this.props.options||this.COLOR_SCHEME_OPTIONS,label:"CustomDesign_QuickActions_ColorScheme"}),e.createElement(s.Divider,{long:!1}),e.createElement(o,{onChange:this.changeColorSchemeInvert,value:this.getColorSchemeInvert(),label:"CustomDesign_QuickActions_ReverseColor_Toogle"}),e.createElement(s.Divider,{long:!1}))}}),define("baseUI/panelInputs/colorScheme",["react","lodash","baseUI/panelInputs/colorScheme.rt","baseUI/panelInputs/inputMixin"],function(e,t,s,n){var i=/^(brand|grey|black)(?:\s(inv))?$/;return e.createClass({displayName:"colorScheme",mixins:[n],COLOR_SCHEME_OPTIONS:[{value:"black",label:"CustomDesign_QuickActions_Black&White"},{value:"grey",label:"CustomDesign_QuickActions_GreyScale"},{value:"brand",label:"CustomDesign_QuickActions_BrandColors"}],getDefaultProps:function(){return{type:"brand",invert:!0}},changeColorSchemeType:function(e){this.handleChange({type:e})},changeColorSchemeInvert:function(e){this.handleChange({invert:e})},getColorSchemeValues:function(){return(i.exec(this.getValueFromProps().trim())||[]).slice(1)},getColorSchemeType:function(){return t.get(this.getColorSchemeValues(),[0],"brand")},getColorSchemeInvert:function(){return!!t.get(this.getColorSchemeValues(),[1])},handleChange:function(e){var s=t.get(e,"type",this.getColorSchemeType()),n=t.get(e,"invert",this.getColorSchemeInvert());this.callOnChangeIfExists(s+(n?" inv":""))},render:s})}),define("baseUI/controls/playButton.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{onClick:this.onPlayButtonClick,className:t({playButton:!0,isPlaying:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement("div",{className:"playIcon"}))}}),define("baseUI/controls/playButton",["react","lodash","baseUI/controls/playButton.rt"],function(e,t,s){return e.createClass({displayName:"playBtn",render:s,propTypes:{onClickAction:e.PropTypes.func},getInitialState:function(){return{isPlaying:!1}},onPlayButtonClick:function(){this.setState({isPlaying:!0}),this.props.onClickAction&&this.props.onClickAction(this.onPlayingDone)},onPlayingDone:function(){this.setState({isPlaying:!1})}})}),define("baseUI/controls/thumbnailPreviewPlay.rt",["react","lodash","baseUI/controls/playButton","symbols"],function(e,t,s,n){return function(){return e.createElement("div",{className:"thumbnail-preview-play"},e.createElement(n.symbol,{name:this.props.iconSymbolName}),e.createElement("div",{className:"label"},this.props.label),e.createElement(s,{onClickAction:this.props.onClickAction}))}}),define("baseUI/controls/thumbnailPreviewPlay",["react","lodash","baseUI/controls/thumbnailPreviewPlay.rt"],function(e,t,s){return e.createClass({displayName:"thumbnailPreviewPlay",render:s,getIconClass:function(){var e={icon:!0};return e[this.props.iconClass]=!0,e}})}),define("baseUI/panelInputs/media/imagePreview.rt",["react","lodash","util","baseUI/controls/button","baseUI/popovers/tooltip","symbols"],function(e,t,s,n,i,o){return function(){function a(e,t,s){this.onClick(t)}function r(s,o,r){return e.createElement(i,{key:this.getButtonLabel(o)||"button"+r,value:this.getButtonTooltip(o),disabled:!this.getButtonTooltip(o)},e.createElement(n,{className:t(this.getButtonClasses(o)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),label:this.getButtonLabel(o),icon:this.getButtonIcon(o),onClick:a.bind(this,s,o,r)}))}function l(){var s=this.getButtons();return e.createElement.apply(this,["span",{className:"button-wrapper",key:"buttons"},t.map(s,r.bind(this,s))])}return e.createElement("div",{className:s.inheritClassName(this.props,"image-preview")+(this.isEmpty()?" empty":"")},this.isEmpty()?null:e.createElement("div",{className:"image-wrapper",key:"wrapper"},e.createElement("div",{className:"image",style:this.getImageTransformData()})),this.getNumberOfImages()>1?e.createElement("span",{onClick:this.showPrevImage,className:"arrow-button prev",key:"prev"}):null,this.getNumberOfImages()>1?e.createElement("span",{onClick:this.showNextImage,className:"arrow-button next",key:"next"}):null,this.isEmpty()?e.createElement("div",{className:t({"placeholder-wrapper":!0,"symbol-in-the-middle":0===this.getButtons().length}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"placeholder"},this.props.emptySymbolName?e.createElement(o.symbol,{name:this.props.emptySymbolName,key:"symbol"}):null,e.createElement("div",{className:"corner-borders top"}),e.createElement("div",{className:"corner-borders bottom"})):null,this.getButtons().length>0?l.apply(this,[]):null)}}),define("baseUI/panelInputs/media/imagePreview",["react","lodash","baseUI/panelInputs/inputMixin","baseUI/panelInputs/media/imagePreview.rt"],function(e,t,s,n){var i=e.PropTypes.shape({nonEmptyButtonLabel:e.PropTypes.string,nonEmptyButtonIcon:e.PropTypes.string,emptyButtonLabel:e.PropTypes.string,emptyButtonIcon:e.PropTypes.string,onClick:e.PropTypes.func});return e.createClass({displayName:"imagePreview",mixins:[s],propTypes:{emptySymbolName:e.PropTypes.string,getImageTransformData:e.PropTypes.func.isRequired,buttons:e.PropTypes.oneOfType([e.PropTypes.arrayOf(i),i]).isRequired},getDefaultProps:function(){return{buttons:[]}},getInitialState:function(){return{imageIndex:0,style:{}}},componentWillReceiveProps:function(e){this.state.imageIndex>=this.getNumberOfImages(e)&&this.setState({imageIndex:0})},getButtons:function(){var e=this.props.buttons;return e?t.isArray(e)||(e=[e]):e=[],e},getImageTransformData:function(){var e=this.props.getImageTransformData(this._getImages()[this.state.imageIndex]);return t.assign({},e.css,{backgroundImage:"url("+e.url+")"})},getButtonIcon:function(e){return this.isEmpty()?e.emptyButtonIcon:e.nonEmptyButtonIcon},getButtonLabel:function(e){return this.isEmpty()?e.emptyButtonLabel:e.nonEmptyButtonLabel},getButtonTooltip:function(e){return this.isEmpty()?e.emptyButtonTooltip:e.nonEmptyButtonTooltip},_showImage:function(e){var t=this._getImages();e<0?e=t.length-1:e===t.length&&(e=0),this.setState({imageIndex:e})},showPrevImage:function(){this._showImage(this.state.imageIndex-1)},showNextImage:function(){this._showImage(this.state.imageIndex+1)},_getImages:function(e){var s=this.getValueFromProps(e);return t.isEmpty(s)?s=[]:t.isArray(s)||(s=[s]),s},getNumberOfImages:function(e){return this._getImages(e).length},isEmpty:function(){var e=this._getImages();return t.isEmpty(e)||t.isEmpty(e[this.state.imageIndex].uri)},onClick:function(e){e.onClick(this.callOnChangeIfExists)},getButtonClasses:function(e){return{action:!0,"has-icon":!!this.getButtonIcon(e),"has-label":!!this.getButtonLabel(e)}},render:n})}),define("baseUI/panelInputs/media/organizeImagesInput.rt",["react","lodash","baseUI/panelInputs/media/imagePreview"],function(e,t,s){return function(){return e.createElement(s,t.assign({},{buttons:this.getButton(),getImageTransformData:this.getImageTransformData,emptySymbolName:"camera"},this.props))}}),define("baseUI/panelInputs/media/organizeImagesInput",["react","lodash","core","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/organizeImagesInput.rt"],function(e,t,s,n,i){return e.createClass({displayName:"organizeImagesInput",mixins:[s.mixins.editorAPIMixin,n],getButton:function(){var e=this.getEditorAPI();return{nonEmptyButtonLabel:"Gallery_Settings_Main_Action_Button",emptyButtonLabel:"Gallery_Settings_Main_Action_Button_Empty",emptyButtonIcon:"plus",onClick:e&&e.panelHelpers.openOrganizeImagesPanel}},render:i})}),define("baseUI/panelInputs/media/videoInput.rt",["react","lodash","util","baseUI/controls/button","symbols"],function(e,t,s,n,i){return function(){function o(e){e.preventDefault()}function a(){this.state.isPlaying?this.pauseVideo():this.playVideo()}function r(e){this.onClick(e)}function l(){var t=this.getButton();return e.createElement("span",{className:"button-wrapper",key:"button"},e.createElement(n,{className:"action"+(this.getButtonIcon(t)?" has-icon":"")+" btn-confirm-secondary",label:this.getButtonLabel(t),icon:this.getButtonIcon(t),key:this.getButtonLabel(t),onClick:r.bind(this,t)}))}return e.createElement("div",function(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}({className:s.inheritClassName(this.props,"video-input")+(this.isEmpty()?" empty":""),onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.getFilteredProps()),this.isEmpty()?null:e.createElement("div",{className:"video-wrapper",key:"wrapper"},e.createElement("iframe",{src:this.getURL()})),this.isEmpty()?null:e.createElement("div",{className:"video-controls",key:"videoControls"},e.createElement("div",{className:t({"blocking-layer":!0,pause:!this.state.isPlaying,play:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:o.bind(this)}),e.createElement("div",{className:t({"play-button":!this.state.isPlaying,"pause-button":this.state.isPlaying&&this.state.isMouseHovering}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:a.bind(this)},e.createElement("span",{className:t({triangle:!this.state.isPlaying,pause:this.state.isPlaying}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")}))),this.isEmpty()?e.createElement("div",{className:t({"placeholder-wrapper":!0}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),key:"placeholder"},e.createElement(i.symbol,{name:"videoInvalid",key:"symbol"})):null,!this.state.isPlaying&&this.props.canChangeVideo?l.apply(this,[]):null)}}),define("baseUI/panelInputs/media/videoInput",["react","lodash","core","util","uiConstants","baseUI/panelInputs/media/videoInput.rt"],function(e,t,s,n,i,o){function a(e){var s=t.map(p[e],function(e,t){return t+"="+e}).join("&");return t.isEmpty(s)?"":"?"+s}function r(e){return l[e.videoType]+e.videoId+a(e.videoType)}var l=i.VIDEO.URL,p=i.VIDEO.QUERY_PARAMS,u=e.PropTypes.shape({videoType:e.PropTypes.string.isRequired,videoId:e.PropTypes.string.isRequired});return e.createClass({displayName:"videoInput",mixins:[s.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin],propTypes:{panelManager:e.PropTypes.object,nonEmptyButtonLabel:e.PropTypes.string.isRequired,emptyButtonLabel:e.PropTypes.string.isRequired,value:u,valueLink:e.PropTypes.shape({value:u,requestChange:e.PropTypes.func}),canChangeVideo:e.PropTypes.bool},getDefaultProps:function(){return{canChangeVideo:!0}},getInitialState:function(){return{isPlaying:!1,isMouseHovering:!1}},getButton:function(){return{nonEmptyButtonLabel:this.props.nonEmptyButtonLabel,nonEmptyButtonIcon:"magnifyingGlass",emptyButtonLabel:this.props.emptyButtonLabel,emptyButtonIcon:"magnifyingGlass",onClick:this._openVideoSearchPanel}},getButtonIcon:function(e){return this.isEmpty()?e.emptyButtonIcon:e.nonEmptyButtonIcon},getButtonLabel:function(e){return this.isEmpty()?e.emptyButtonLabel:e.nonEmptyButtonLabel},_onVideoSelected:function(e,t,s){this.props.canChangeVideo&&this.props.panelManager&&(this.props.panelManager.closePanelByName("videoSearch.panels.videoSearchPanel"),e({videoType:s||"YOUTUBE",videoId:t}))},_openVideoSearchPanel:function(e){var t=this.getValueFromProps();this.props.canChangeVideo&&this.props.panelManager&&this.props.panelManager.openPanel("videoSearch.panels.videoSearchPanel",{videoType:t&&t.videoType,onVideoSelected:this._onVideoSelected.bind(this,e)},!0)},getURL:function(){var e=this.getValueFromProps();if(e&&e.videoId){var s=r(e);return(s+=t.includes(s,"?")?"&":"?")+"autoplay="+(this.state.isPlaying?"1":"0")}return null},isEmpty:function(){var e=this.getValueFromProps();return!(e&&e.videoId)},playVideo:function(){this.setState({isPlaying:!0})},pauseVideo:function(){this.setState({isPlaying:!1})},onClick:function(e){e.onClick(this.callOnChangeIfExists)},onMouseEnter:function(){this.setState({isMouseHovering:!0})},onMouseLeave:function(){this.setState({isMouseHovering:!1})},getFilteredProps:function(){return t.omit(this.filteredProps(),"emptySymbolName")},render:o})}),define("baseUI/panelInputs/media/mediaManagerMixin",["react","lodash","util"],function(e,t,s){return{mixins:[s.valueLinkMixin],propTypes:{mediaManager:e.PropTypes.shape({open:e.PropTypes.func.isRequired,categories:e.PropTypes.object.isRequired}).isRequired,mediaManagerCategory:e.PropTypes.string,mediaManagerPath:e.PropTypes.string,mediaManagerHeaderLabel:e.PropTypes.string,mediaManagerButtonLabel:e.PropTypes.string},_changeImage:function(e,s){if(s){this.dataKeys=t.keys(this.getValueFromProps()),this.dataKeys=t.isEmpty(this.dataKeys)?t.keys(t.head(s)):this.dataKeys;var n=t.pick(s[0],this.dataKeys);n.uri=s[0].fileName,n.originalImageDataRef=null,n.type="Image",n.crop=null,e(n)}},openMediaGallery:function(e){var t,n=this.props.mediaManager,i=this.props.mediaManagerCategory||n.categories.IMAGE;(this.props.mediaManagerHeaderLabel||this.props.mediaManagerButtonLabel)&&((t={}).title=s.translate(this.props.mediaManagerHeaderLabel),t.submitButton=s.translate(this.props.mediaManagerButtonLabel)),n.open(i,{multiSelect:!1,callback:this._changeImage.bind(this,e),path:this.props.mediaManagerPath,translation:t})}}}),define("baseUI/panelInputs/media/imageChange.rt",["react","lodash","baseUI/panelInputs/media/imagePreview"],function(e,t,s){return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,buttons:this.getButtons(),getImageTransformData:this.getImageTransformData,emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChange",["react","lodash","util","baseUI/panelInputs/media/mediaManagerMixin","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/imageChange.rt"],function(e,t,s,n,i,o){return e.createClass({displayName:"imageChange",mixins:[s.propTypesFilterMixin,n,i],propTypes:{addButtonLabel:e.PropTypes.string,changeButtonLabel:e.PropTypes.string,additionalButtons:e.PropTypes.oneOfType([e.PropTypes.object,e.PropTypes.array])},getDefaultProps:function(){return{additionalButtons:[]}},getButtons:function(){var e={nonEmptyButtonLabel:this.props.changeButtonLabel,nonEmptyButtonIcon:"image-change",emptyButtonLabel:this.props.addButtonLabel,emptyButtonIcon:"plus",onClick:this.openMediaGallery};return[].concat(e,this.props.additionalButtons)},render:o})}),define("baseUI/panelInputs/media/imageChangeEdit.rt",["react","lodash","baseUI/panelInputs/media/imageChange"],function(e,t,s){return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,additionalButtons:this.getEditButton(),addButtonLabel:this.props.addButtonLabel,emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChangeEdit",["react","lodash","core","util","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/imageChangeEdit.rt"],function(e,t,s,n,i,o){return e.createClass({displayName:"imageChangeEdit",mixins:[s.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin,i],propTypes:{editButtonLabel:e.PropTypes.string.isRequired,addButtonLabel:e.PropTypes.string},getEditButton:function(){var e=this.getValueFromProps();if(!t.isEmpty(e)&&!t.isEmpty(this.getImageTransformData(e)))return{nonEmptyButtonLabel:this.props.editButtonLabel,nonEmptyButtonIcon:"image-effects",onClick:this._openAviary}},_openAviary:function(){this.getEditorAPI().panelHelpers.openAviaryPanel(this.props.valueLink)},render:o})}),define("baseUI/panelInputs/media/imageChangeRemove.rt",["react","lodash","baseUI/panelInputs/media/imageChange"],function(e,t,s){return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,additionalButtons:this.getRemoveButton(),emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChangeRemove",["react","lodash","core","util","baseUI/panelInputs/media/imageChangeRemove.rt"],function(e,t,s,n,i){return e.createClass({displayName:"imageChangeRemove",mixins:[s.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin],propTypes:{removeButtonLabel:e.PropTypes.string},getRemoveButton:function(){if((this.getValueFromProps()||{}).uri)return{nonEmptyButtonLabel:this.props.removeButtonLabel,nonEmptyButtonIcon:"delete",onClick:this._removeImage}},_removeImage:function(e){e(null)},render:i})}),define("baseUI/panelInputs/media/imageChangeEditRemove.rt",["react","lodash","baseUI/panelInputs/media/imageChange"],function(e,t,s){return function(){return e.createElement(s,t.assign({},{value:this.props.value,onChange:this.props.onChange,valueLink:this.props.valueLink,additionalButtons:this.getAdditionalButtons(),emptySymbolName:"camera"},this.filteredProps()))}}),define("baseUI/panelInputs/media/imageChangeEditRemove",["react","lodash","core","util","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/panelInputs/media/imageChangeEditRemove.rt"],function(e,t,s,n,i,o){return e.createClass({displayName:"imageChangeEditRemove",mixins:[s.mixins.editorAPIMixin,n.propTypesFilterMixin,n.valueLinkMixin,i],propTypes:{removeButtonLabel:e.PropTypes.string},getRemoveButton:function(){return{nonEmptyButtonIcon:"delete",nonEmptyButtonTooltip:"strip_settings_Tooltip_Remove",onClick:this._removeImage}},getEditButton:function(){return{nonEmptyButtonIcon:"image-effects",nonEmptyButtonTooltip:"strip_settings_Tooltip_Crop",onClick:this._openAviary}},getAdditionalButtons:function(){return this.hasImage()?[this.getRemoveButton(),this.getEditButton()]:[]},_removeImage:function(e){e(this.getEmptyImageData())},_openAviary:function(){this.getEditorAPI().panelHelpers.openAviaryPanel(this.props.valueLink||{value:this.props.value,requestChange:this.props.onChange})},hasImage:function(){var e=this.getValueFromProps();return!t.isEmpty(e)&&!t.isEmpty(this.getImageTransformData(e).url)},render:o})}),define("baseUI/controls/listItemWithImage.rt",["react","lodash","util","baseUI/popovers/tooltip","uiConstants","symbols"],function(e,t,s,n,i,o){return function(){return e.createElement("div",{className:"listItemWithImage "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:this.props.disabled?t.noop:this.props.callback},e.createElement("img",{className:"image",src:this.props.url}),e.createElement("div",{className:"content"},this.props.title?e.createElement("div",{key:"title",className:"title ellipsis"},s.translate(this.props.title)):null,this.props.desc?e.createElement("div",{key:"desc",className:"desc ellipsis"},s.translate(this.props.desc)):null),e.createElement("div",{className:"indicator"},e.createElement(n,{value:this.props.tooltip,disabled:!this.props.tooltip,alignment:i.TOOLTIP.ALIGNMENT.TOP},e.createElement("div",{},e.createElement(o.symbol,{className:"listItemSymbol "+t({disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),name:this.props.symbol||"arrowWithStates",hintId:this.props.hintId})))))}}),define("baseUI/controls/listItemWithImage",["react","lodash","baseUI/controls/listItemWithImage.rt"],function(e,t,s){return e.createClass({displayName:"listItemWithImage",propTypes:{title:e.PropTypes.string,desc:e.PropTypes.string,tooltip:e.PropTypes.string,disabled:e.PropTypes.bool,url:e.PropTypes.string.isRequired,callback:e.PropTypes.func.isRequired,hintId:e.PropTypes.string},render:s})}),define("baseUI/controls/listItemWithSymbol.rt",["react","lodash","util","symbols"],function(e,t,s,n){return function(){function t(){this.onItemClick()}return e.createElement("div",{className:"listItem list-item-with-symbol",onClick:t.bind(this)},e.createElement(n.symbol,{className:"image",name:this.props.symbol}),e.createElement("div",{className:"content"},this.props.title?e.createElement("div",{key:"title",className:"title ellipsis"},s.translate(this.props.title)):null,this.props.desc?e.createElement("div",{key:"desc",className:"desc ellipsis"},s.translate(this.props.desc)):null),e.createElement(n.symbol,{className:"expandSymbol",name:this.props.expandSymbol||"arrowWithStates"}))}}),define("baseUI/controls/listItemWithSymbol",["react","lodash","baseUI/controls/listItemWithSymbol.rt"],function(e,t,s){return e.createClass({displayName:"listItemWithSymbol",render:s,propTypes:{title:e.PropTypes.string,desc:e.PropTypes.string,symbol:e.PropTypes.string.isRequired,callback:e.PropTypes.func.isRequired},onItemClick:function(){this.props.callback&&this.props.callback()}})}),define("baseUI/controls/arrowButton.rt",["react","lodash","symbols"],function(e,t,s){return function(){return e.createElement("i",{className:"arrow-button "+this.getClassName(),onClick:this.props.onClickAction},e.createElement(s.symbol,{name:"arrowDown"}))}}),define("baseUI/controls/arrowButton",["react","lodash","baseUI/controls/arrowButton.rt"],function(e,t,s){return e.createClass({displayName:"arrowButton",render:s,propTypes:{withoutBorder:e.PropTypes.bool,className:e.PropTypes.string,onClickAction:e.PropTypes.func},getClassName:function(){var e="";return this.props.className&&(e+=" "+this.props.className),this.props.withoutBorder&&(e+=" without-border"),e.trim()}})}),define("baseUI/colorPicker/colorSpace.rt",["react","lodash"],function(e,t){return function(){function s(e,t,s){this.brightnessOptionSelected(s)}function n(t,n,i){return e.createElement("div",{key:"brightnessOption-"+i,className:"option",style:{backgroundColor:"rgb("+n.red+", "+n.green+", "+n.blue+")"},onClick:s.bind(this,t,n,i)})}function i(){var s=this.getSelectedColor();return e.createElement("div",{className:"colorSpace"},e.createElement("div",{className:"top-section"},e.createElement("div",{ref:"colorSpace",className:"select-area",onMouseDown:this.selectAreaClicked},e.createElement("div",{className:"selector-layer",style:{backgroundColor:"hsl("+s.hue+", 100%, 50%)"}}),e.createElement("div",{className:"selector-layer saturation-layer"}),e.createElement("div",{className:"selector-layer brightness-layer"}),e.createElement("div",{className:"color-indicator "+(s.brightness>60?"bright-background":"dark-background"),style:this.getIndicatorStyle()})),e.createElement.apply(this,["div",{className:"brightness-options"},t.map(this.getBrightnessOptions(),n.bind(this,s))])),e.createElement("div",{className:"hue-scale",onMouseDown:this.hueScaleClicked},e.createElement("div",{className:"hue-indicator "+(this.state.hueIndicatorDrag?"hue-indicator-drag":""),style:this.getHueIndicatorStyle()})))}return i.apply(this,[])}}),define("baseUI/colorPicker/colorSpace",["reactDOM","jquery","lodash","react","util","baseUI/colorPicker/colorSpace.rt"],function(e,t,s,n,i,o){return n.createClass({displayName:"colorSpace",mixins:[i.valueLinkMixin],propTypes:{valueLink:n.PropTypes.object,value:n.PropTypes.object},getInitialState:function(){return this.layout={colorSpace:{}},{hueIndicatorDrag:!1}},updateLayoutDimensions:function(){var s=t(e.findDOMNode(this)),n=t(e.findDOMNode(this.refs.colorSpace));this.layout={colorSpace:{width:n.width(),height:n.height()},width:s.width(),left:s.offset().left,top:s.offset().top}},componentDidMount:function(){this.updateLayoutDimensions(),this.forceUpdate()},componentDidUpdate:function(){this.updateLayoutDimensions()},shouldComponentUpdate:function(e,t){return!s.isEqual(this.getValueFromProps(),this.getValueFromProps(e))||!s.isEqual(t,this.state)},getSelectedColor:function(){var e=this.getValueFromProps();if(s.isUndefined(e.hue)||s.isUndefined(e.saturation)||s.isUndefined(e.brightness))throw"no HSB color was provided to custom color picker";return s.clone(e)},getBrightnessOptions:function(){for(var e,t=[],s=this.getSelectedColor(),n=5;n>0;n--)e={hue:s.hue,saturation:s.saturation,brightness:20*n-10},t.push(i.colors.hsbToRgb(e));return t},hueScaleClicked:function(e){this.hueSelected(e),this.setState({hueIndicatorDrag:!0},function(){t(window.document).on("mousemove",this.hueSelected),t(window.document).on("mouseup",this.hueIndicatorDragEnd)}.bind(this))},hueSelected:function(e){var t=i.math.ensureWithinLimits(e.pageX,this.layout.left,this.layout.left+this.layout.width),s=Math.floor(i.math.percentFromValue(t,this.layout.left,this.layout.left+this.layout.width)),n=parseInt(i.math.valueFromPercent(s,0,360),10);this.updateColor({hue:n})},hueIndicatorDragEnd:function(){this.setState({hueIndicatorDrag:!1}),t(window.document).off("mousemove",this.hueSelected),t(window.document).off("mouseup",this.hueIndicatorDragEnd)},updateColor:function(e){var t=this.getSelectedColor(),n=s.assign({},t,e);this.callOnChangeIfExists(n)},brightnessOptionSelected:function(e){this.updateColor({brightness:20*(5-e)-10})},getIndicatorStyle:function(){if(!this.layout.colorSpace.width)return{};var e=this.getSelectedColor();return{left:i.math.valueFromPercent(e.saturation,0,this.layout.colorSpace.width)-5,bottom:i.math.valueFromPercent(e.brightness,0,this.layout.colorSpace.height)-5}},getHueIndicatorStyle:function(){if(!this.layout.width)return{};var e=100*this.getSelectedColor().hue/360;return{left:i.math.valueFromPercent(e,0,this.layout.width)-7}},selectAreaClicked:function(e){this.saturationBrightnessSelected(e),t(window.document).on("mousemove",this.saturationBrightnessSelected),t(window.document).on("mouseup",this.colorIndicatorDragEnd)},saturationBrightnessSelected:function(e){var t=i.math.ensureWithinLimits(e.pageX,this.layout.left,this.layout.left+this.layout.colorSpace.width),s=i.math.ensureWithinLimits(e.pageY,this.layout.top,this.layout.top+this.layout.colorSpace.height),n=i.math.percentFromValue(t,this.layout.left,this.layout.left+this.layout.colorSpace.width),o=100-i.math.percentFromValue(s,this.layout.top,this.layout.top+this.layout.colorSpace.height);this.updateColor({saturation:parseInt(n,10),brightness:parseInt(o,10)})},colorIndicatorDragEnd:function(){t(window.document).off("mousemove",this.saturationBrightnessSelected),t(window.document).off("mouseup",this.colorIndicatorDragEnd)},render:o})}),define("baseUI/colorPicker/colorFormat.rt",["react","lodash","baseUI/controls/horizontalTabs","baseUI/panelInputs/stepper","baseUI/panelInputs/textInput","uiConstants"],function(e,t,s,n,i,o){return function(){function t(t){var s=this.getColorAsHEX();return e.createElement("div",{key:"hexSection",className:"color-value-hex"},e.createElement(i,{validator:this.validateHexValue,invalidMessage:"ColorPicker_ColorSpace_HEXErrorTooltip",value:s,maxLength:6,onChange:this.handleHexChange,onChangeInValidationStatus:this.props.onChangeInValidationStatus}))}function a(t){var s=this.getColorAsRGB();return e.createElement("div",{key:"rgbSection",className:"color-values"},e.createElement("div",{className:"color-value-item"},e.createElement(n,{min:0,max:255,value:s.red,step:1,onChange:this.handleRedChange})),e.createElement("div",{className:"color-value-item"},e.createElement(n,{min:0,max:255,value:s.green,step:1,onChange:this.handleGreenChange})),e.createElement("div",{className:"color-value-item"},e.createElement(n,{min:0,max:255,value:s.blue,step:1,onChange:this.handleBlueChange})))}function r(t){var s=this.getColorAsExactHSB();return e.createElement("div",{key:"hsbSection",className:"color-values"},e.createElement("div",{className:"color-value-item"},e.createElement(n,{min:0,max:360,units:"°",value:Math.round(s.hue),step:1,onChange:this.handleHueChange})),e.createElement("div",{className:"color-value-item"},e.createElement(n,{min:0,max:100,units:"%",value:Math.round(s.saturation),step:1,onChange:this.handleSaturationChange})),e.createElement("div",{className:"color-value-item"},e.createElement(n,{min:0,max:100,units:"%",value:Math.round(s.brightness),step:1,onChange:this.handleBrightnessChange})))}function l(){var n=o.COLOR_FORMATS;return e.createElement("div",{className:"color-format"},e.createElement(s,{options:this.getFormatOptions(),valueLink:this.linkState("selectedFormat"),className:"arrowed"}),e.createElement("div",{className:"color-values-wrapper"},this.state.selectedFormat===n.HEX?t.apply(this,[n]):null,this.state.selectedFormat===n.RGB?a.apply(this,[n]):null,this.state.selectedFormat===n.HSB?r.apply(this,[n]):null))}return l.apply(this,[])}}),define("baseUI/colorPicker/colorFormat",["react","lodash","util","uiConstants","baseUI/colorPicker/colorFormat.rt"],function(e,t,s,n,i){return e.createClass({displayName:"colorFormat",propTypes:{value:e.PropTypes.object.isRequired,onChangeInValidationStatus:e.PropTypes.func},mixins:[e.addons.LinkedStateMixin,s.valueLinkMixin,e.addons.PureRenderMixin],getInitialState:function(){var e=this.getValueFromProps(),t=s.colors.hsbToRgb(e);return{selectedFormat:n.COLOR_FORMATS.HEX,currentExactHSB:e,currentRGB:t,currentHEX:s.colors.rgbToHex(t)}},componentWillReceiveProps:function(e){if(!t.isEqual(e.value,this.props.value)&&!t.isEqual(e.value,this.state.currentExactHSB)){var n=s.colors.hsbToRgb(e.value);this.setState({currentExactHSB:e.value,currentRGB:n,currentHEX:s.colors.rgbToHex(n)})}},componentDidUpdate:function(e,t){t.selectedFormat!==this.state.selectedFormat&&this.props.onChangeInValidationStatus&&this.props.onChangeInValidationStatus(!0)},getFormatOptions:function(){return[{label:"ColorPicker_ColorSpace_HEX",value:n.COLOR_FORMATS.HEX},{label:"ColorPicker_ColorSpace_RGB",value:n.COLOR_FORMATS.RGB},{label:"ColorPicker_ColorSpace_HSB",value:n.COLOR_FORMATS.HSB}]},getColorAsExactHSB:function(){return t.clone(this.state.currentExactHSB)},getColorAsHEX:function(){return this.state.currentHEX.substr(1)},getColorAsRGB:function(){return t.clone(this.state.currentRGB)},handleRedChange:function(e){var n=this.getColorAsRGB();n.red=e;var i=s.colors.rgbToHsbExact(n);this.setState({currentExactHSB:i,currentRGB:n,currentHEX:s.colors.rgbToHex(n)},this.callOnChangeIfExists.bind(this,t.clone(i)))},handleGreenChange:function(e){var n=this.getColorAsRGB();n.green=e;var i=s.colors.rgbToHsbExact(n);this.setState({currentExactHSB:i,currentRGB:n,currentHEX:s.colors.rgbToHex(n)},this.callOnChangeIfExists.bind(this,t.clone(i)))},handleBlueChange:function(e){var n=this.getColorAsRGB();n.blue=e;var i=s.colors.rgbToHsbExact(n);this.setState({currentExactHSB:i,currentRGB:n,currentHEX:s.colors.rgbToHex(n)},this.callOnChangeIfExists.bind(this,t.clone(i)))},handleHueChange:function(e){var n=this.getColorAsExactHSB();if(Math.round(n.hue)!==e){n.hue=s.math.ensureWithinLimits(e,0,360);var i=s.colors.hsbToRgb(n);this.setState({currentExactHSB:n,currentRGB:i,currentHEX:s.colors.rgbToHex(i)},this.callOnChangeIfExists.bind(this,t.clone(n)))}},handleSaturationChange:function(e){var n=this.getColorAsExactHSB();if(Math.round(n.saturation)!==e){n.saturation=e;var i=s.colors.hsbToRgb(n);this.setState({currentExactHSB:n,currentRGB:i,currentHEX:s.colors.rgbToHex(i)},this.callOnChangeIfExists.bind(this,t.clone(n)))}},handleBrightnessChange:function(e){var n=this.getColorAsExactHSB();if(Math.round(n.brightness)!==e){n.brightness=e;var i=s.colors.hsbToRgb(n);this.setState({currentExactHSB:n,currentRGB:i,currentHEX:s.colors.rgbToHex(i)},this.callOnChangeIfExists.bind(this,t.clone(n)))}},handleHexChange:function(e){e="#"+e;var n=s.colors.hexToRgb(e),i=s.colors.rgbToHsbExact(n);this.setState({currentExactHSB:i,currentRGB:n,currentHEX:e},this.callOnChangeIfExists.bind(this,t.clone(i)))},validateHexValue:function(e){return/^[0-9A-F]{6}$/i.test(e)},render:i})}),define("baseUI/colorPicker/paletteDisplayer.rt",["react","lodash"],function(e,t){return function(){function s(){this.previewColor(this.getValueFromProps())}function n(e,t){this.selectColor(e.symbol,t)}function i(e,t){this.previewColor(e.symbol)}function o(s,o){return e.createElement("div",{key:"paletteColor-"+o,className:t(this.getOptionClasses(s)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onClick:n.bind(this,s,o),onDoubleClick:this.selectColorAndClose.bind(this,s.symbol),onMouseEnter:i.bind(this,s,o),style:{backgroundColor:s.value}})}return e.createElement.apply(this,["div",function(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}({className:"palette-displayer",onMouseOut:s.bind(this)},this.filteredProps()),t.map(this.getColors(),o.bind(this))])}}),define("baseUI/colorPicker/paletteDisplayer",["react","lodash","util","baseUI/mixins/reportUIChangeMixin","baseUI/colorPicker/paletteDisplayer.rt"],function(e,t,s,n,i){function o(e,t,s){for(var n=[],i=t*s,o=0;o<t;o++)for(var a=o;a<i;a+=t)n.push(e[a]);return n}return e.createClass({displayName:"paletteDisplayer",mixins:[n,s.valueLinkMixin,s.propTypesFilterMixin],propTypes:{palette:e.PropTypes.objectOf(e.PropTypes.string).isRequired,isSelectable:e.PropTypes.bool,onPreview:e.PropTypes.func},getColors:function(){var e=[];return t.forEach(this.props.palette,function(t,s){parseInt(/color_(\d+)/.exec(s)[1],10)>=11&&e.push({symbol:s,value:t})}),o(e,5,e.length/5)},getOptionClasses:function(e){return{"palette-color-option":!0,"white-option":s.colors.getDistanceToWhite(e.value)<3,"option-selected":this.getValueFromProps()===e.symbol,selectable:this.props.isSelectable}},previewColor:function(e){this.props.isSelectable&&this.props.onPreview&&this.props.onPreview(e)},selectColor:function(e,t){this.reportUIChange({value:t}),this.props.isSelectable&&this.callOnChangeIfExists(e)},selectColorAndClose:function(e){this.props.isSelectable&&this.callOnChangeIfExists(e,!0)},render:i})}),define("baseUI/colorPicker/palettesList.rt",["react","lodash"],function(e,t){return function(){function s(s,n,i,o){return e.createElement("span",{key:"paletteRootColor-"+o,className:t(this.getPaletteOptionColorClasses(i)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),style:{backgroundColor:i}})}function n(n,i){return e.createElement("div",{className:"palette-option-wrapper",key:"paletteOption-"+i,onMouseEnter:this.previewPalette.bind(null,n),onMouseDown:this.selectPalette.bind(null,n)},e.createElement.apply(this,["div",this.getPaletteOptionProps(n),t.map(this.getRootColors(n),s.bind(this,n,i))]))}return e.createElement("div",function(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}({className:"palettes-list"},this.filteredProps()),e.createElement.apply(this,["div",{className:"palette-options",onMouseLeave:this.resetPalette},t.map(this.props.palettes,n.bind(this))]))}}),define("baseUI/colorPicker/palettesList",["reactDOM","react","lodash","jquery","util","baseUI/colorPicker/palettesList.rt"],function(e,t,s,n,i,o){var a=["color_13","color_19","color_23","color_29","color_33"];return t.createClass({displayName:"paletteList",mixins:[i.propTypesFilterMixin,i.valueLinkMixin],propTypes:{palettes:t.PropTypes.arrayOf(t.PropTypes.object).isRequired,valueLink:t.PropTypes.shape({value:t.PropTypes.object,requestChange:t.PropTypes.func.isRequired}).isRequired,onPreview:t.PropTypes.func.isRequired},componentDidMount:function(){if(this.refs.selectedPalette){var t=n(e.findDOMNode(this)),s=n(e.findDOMNode(this.refs.selectedPalette)).position().top,i=t.height();t.scrollTop(s-.5*i)}},arePalettesEqual:function(e,t){return s.isEmpty(s.difference(this.getRootColors(e),this.getRootColors(t)))},getPaletteOptionProps:function(e){var t=this.getValueFromProps(),s=this.arePalettesEqual(t,e),n={className:"palette-option"+(s?" selected":"")};return s&&(n.ref="selectedPalette"),n},getPaletteOptionColorClasses:function(e){return{"palette-option-color":!0,"white-color":i.colors.getDistanceToWhite(e)<3}},getRootColors:function(e){return s(e).pick(a).values().value()},previewPalette:function(e){this.props.onPreview(e)},selectPalette:function(e){this.callOnChangeIfExists(e)},resetPalette:function(){this.callOnChangeIfExists(this.getValueFromProps())},render:o})}),define("baseUI/panelInputs/opacitySlider.rt",["react","lodash","baseUI/panelInputs/stepper","baseUI/controls/infoIcon"],function(e,t,s,n){return function(){return e.createElement("div",t.assign({},{className:t({"input-slider-opacity":!0,"has-label":this.hasLabel(),disabled:this.isDisabled()}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.getTopLevelProps()),e.createElement("label",{className:"label"},this.translateIfNeeded(this.getLabel())),this.hasLabel()&&(this.props.infoText||this.props.infoText)&&!this.props.disabled?e.createElement(n,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("div",{className:"clearfix sliderArea"},e.createElement("div",{className:"sliderContainer"},e.createElement(s,{className:this.getStepperClass(),disabled:this.props.disabled,min:this.getStepperMin(),max:this.getStepperMax(),value:this.state.value,selectedUnits:this.props.selectedUnits,units:this.props.units,step:this.getStepperStep(),onUnitsChange:this.props.onUnitsChange,onChange:this.handleStepperChange,afterBlur:this.props.afterBlur}),e.createElement("div",{className:"slider",ref:"slider",onMouseDown:this.mouseDown},e.createElement("div",{className:"empty-line"}),e.createElement("div",{className:"line",style:this.getColorGradient()}),e.createElement("div",{className:"knobContainer"},e.createElement("div",{className:"sliderKnob",style:{left:"calc("+this.getValueInPercent()+"%)"}}))))))}}),define("baseUI/panelInputs/opacitySlider",["reactDOM","jquery","lodash","react","baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","util","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/opacitySlider.rt"],function(e,t,s,n,i,o,a,r,l){return n.createClass({displayName:"opacitySlider",mixins:[i,o,a.translationMixin,r],contextTypes:{reportUIChange:n.PropTypes.func},propTypes:{min:n.PropTypes.number,max:n.PropTypes.number,stepperMin:n.PropTypes.number,stepperMax:n.PropTypes.number,steppeStep:n.PropTypes.number,selectedUnits:n.PropTypes.string,onUnitsChange:n.PropTypes.func,colorResolver:n.PropTypes.func,units:n.PropTypes.oneOfType([n.PropTypes.string,n.PropTypes.array]),step:n.PropTypes.number,defaultValue:n.PropTypes.number,infoText:n.PropTypes.string,infoTitle:n.PropTypes.string,onSlideEnd:n.PropTypes.func,isSmallStepper:n.PropTypes.bool,afterBlur:n.PropTypes.func,middleValueForPolynomial:n.PropTypes.number},getDefaultProps:function(){return{max:100,min:0,step:1,units:"",isSmallStepper:!1}},getStepperClass:function(){var e="";return s.isArray(this.props.units)?e="with-units-dd":this.props.isSmallStepper&&(e="small"),e},getSliderValue:function(e){var t=this.getValueFromProps(e);return s.isUndefined(t)?t:parseFloat(t)},getInitialState:function(){this.sliderX=0,this.sliderWidth=0;var e=this.props.middleValueForPolynomial;e&&(this.quadraticEquation=a.math.getQuadraticEquationBy3Points({x:0,y:this.props.min},{x:50,y:e},{x:100,y:this.props.max}));var t=this.getSliderValue(),n=void 0!==this.props.defaultValue?Number(this.props.defaultValue):this.props.min,i=s.isNumber(t)?t:n;return{value:a.normalizeNumber(i,this.props.min,this.props.max,this.props.step)}},getValueInPercent:function(){var e=this.state.value;return this.state.value>this.props.max?e=this.props.max:this.state.value<this.props.min&&(e=this.props.min),this.quadraticEquation?Math.round(this.quadraticEquation.fInverse(e)):Math.round((e-this.props.min)/(this.props.max-this.props.min)*100)},fromPercent:function(e){return this.props.min+(this.props.max-this.props.min)*e/100},calcPositionOnSlider:function(e){var t=(e-this.sliderX)/this.sliderWidth*100;return Math.min(Math.max(t,0),100)},calcNewValueFromKnob:function(e){var t=this.calcPositionOnSlider(e);if(this.quadraticEquation){var s=Math.round(this.quadraticEquation.f(t));return Math.min(Math.max(s,this.props.min),this.props.max)}return a.normalizeNumber(this.fromPercent(t),this.props.min,this.props.max,this.props.step)},handleKnobPositionChange:function(e){if(!this.props.disabled){var t=this.calcNewValueFromKnob(e.pageX-8);this.handleChange(t)}},mouseUp:function(){t(window.document.body).removeClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup"),this.reportUIChange({value:this.state.value,value_change_origin:"Slider"}),this.props.onSlideEnd&&this.props.onSlideEnd()},mouseDown:function(s){t(window.document.body).addClass("block-selection"),this.removeEventListenersFromDocument("mousemove"),this.removeEventListenersFromDocument("mouseup");var n=t(e.findDOMNode(this.refs.slider));this.sliderX=n.offset().left,this.sliderWidth=n.width()-16,this.handleKnobPositionChange(s),this.registerEventListenersToDocument("mousemove",this.handleKnobPositionChange),this.registerEventListenersToDocument("mouseup",this.mouseUp)},handleChange:function(e,t){this.state.value!==e&&(this.setState({value:e}),this.callOnChangeIfExists(e,t))},handleStepperChange:function(e){e=a.normalizeNumber(e,this.getStepperMin(),this.getStepperMax(),this.getStepperStep()),this.handleChange(e,!0),this.reportUIChange({value:e,value_change_origin:"Input"})},getStepperMax:function(e){var t;return e&&(t=e.stepperMax||e.max),t||(t=this.props.stepperMax||this.props.max),t},getStepperMin:function(e){var t;return e&&(t=e.stepperMin,isNaN(t)&&(t=e.min)),isNaN(t)&&(t=this.props.stepperMin,isNaN(t)&&(t=this.props.min)),t},getStepperStep:function(e){var t;return e&&(t=e.stepperStep,isNaN(t)&&(t=e.step)),isNaN(t)&&(t=this.props.stepperStep,isNaN(t)&&(t=this.props.step)),t},componentWillReceiveProps:function(e){var t=this.getSliderValue(e);if(t!==this.state.value){var s=a.normalizeNumber(t,this.getStepperMin(e),this.getStepperMax(e),this.getStepperStep(e));this.setState({value:s})}},getTopLevelProps:function(){return s.omit(this.props,["min","max","value","units","defaultValue","onChange","step"])},getColorGradient:function(){var e=this.props.color;/color_/.test(e)&&(e=this.props.colorResolver(e.replace(/[\{\}]/g,"")));var t=a.colors.hexToRgb(e),n=s.values(t).join(",");return{background:"linear-gradient(to right, rgba("+n+",0) 0%,rgba("+n+" ,0.5) 50%,rgba("+n+",1) 100%)"}},render:l})}),define("baseUI/colorPicker/colorPickerInputWithOpacitySlider.rt",["react","lodash","baseUILib","baseUI/panelInputs/opacitySlider","baseUI/colorPicker/colorPickerInput"],function(e,t,s,n,i){return function(){return e.createElement("div",{className:"color-picker-input-with-opacity"},this.props.label?e.createElement("label",{key:"label",className:t({"color-picker-input-with-opacity-label":!0,disabled:this.props.disabled}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},this.translateIfNeeded(this.props.label)):null,e.createElement("div",{className:"color-picker-input-with-opacity-slider"},e.createElement(n,{isSmallStepper:this.props.isSmallStepper,disabled:this.props.disabled,units:"%",color:this.getValueFromProps().color,colorResolver:this.props.colorResolver,valueLink:this.linkOpacity(),min:0,max:100,step:1}),e.createElement(i,t.assign({},{disabled:this.props.disabled,valueLink:this.linkColor()},this.filteredProps()))),this.props.helpText?e.createElement(s.Divider,{key:"helpTextDivider",long:!0}):null,this.props.helpText?e.createElement("div",{key:"helpText",className:"rich-text-paragraph"},e.createElement("p",{className:"rich-text-paragraph-content"},this.translateIfNeeded(this.props.helpText))):null)}}),define("baseUI/colorPicker/colorPickerInputWithOpacitySlider",["react","lodash","util","baseUI/colorPicker/colorPickerInputWithOpacitySlider.rt"],function(e,t,s,n){return e.createClass({propTypes:{label:e.PropTypes.string,helpText:e.PropTypes.string,isSmallStepper:e.PropTypes.bool},getDefaultProps:function(){return{isSmallStepper:!1}},mixins:[s.valueLinkMixin,s.propTypesFilterMixin,s.translationMixin],displayName:"colorPickerInputWithOpacitySlider",linkColor:function(){return{value:this.getValueFromProps().color,requestChange:function(e){this.callOnChangeIfExists({color:e,alpha:this.getValueFromProps().alpha})}.bind(this)}},linkOpacity:function(){return{value:100*this.getValueFromProps().alpha,requestChange:function(e){this.callOnChangeIfExists({color:this.getValueFromProps().color,alpha:e/100})}.bind(this)}},render:n})}),define("baseUI/controls/iframe.rt",["react","lodash"],function(e,t){return function(){return e.createElement("iframe",t.assign({},{src:this.props.src,name:this.name,ref:"iframe"},this.filteredProps()))}}),define("baseUI/controls/iframe",["react","lodash","baseUI/controls/iframe.rt","util"],function(e,t,s,n){return e.createClass({displayName:"IFrame",render:s,mixins:[n.propTypesFilterMixin],propTypes:{src:e.PropTypes.string.isRequired,onPostMessage:e.PropTypes.func},_postMessageHandler:function(e){this.props.onPostMessage&&0===this.props.src.indexOf(e.origin)&&this.props.onPostMessage(e)},componentWillMount:function(){window.addEventListener("message",this._postMessageHandler),this.name=this.props.name||t.uniqueId("iframe")},componentWillUnmount:function(){window.removeEventListener("message",this._postMessageHandler)},sendMessage:function(e){window.frames[this.name].postMessage(e,this.props.src)}})}),define("baseUI/controls/preloader.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:"circle-preloader "+(this.props.className||"")})}}),define("baseUI/controls/preloader",["react","baseUI/controls/preloader.rt"],function(e,t){return e.createClass({displayName:"preloader",render:t})}),define("baseUI/controls/video.rt",["react","lodash"],function(e,t){return function(){return e.createElement("figure",{className:"video-container"},e.createElement("video",{ref:"video",key:"video",preload:"metadata",poster:this.props.poster,src:this.props.src}),e.createElement("div",{className:"controls",ref:"controls",key:"controls","data-state":"stopped"},e.createElement("div",{className:"main-action",onClick:this.play},e.createElement("button",{className:"play-big"})),e.createElement("footer",{},e.createElement("div",{className:"progress-bar",ref:"progressBar",key:"progressBar",onClick:this.rewind},e.createElement("span",{className:"progress",ref:"progress",key:"progress"})),e.createElement("div",{className:"actions"},e.createElement("button",{className:"play-pause",onClick:this.play}),e.createElement("button",{className:"stop",onClick:this.stop}),e.createElement("button",{className:"fullscreen",onClick:this.switchFullscreen})))))}}),define("baseUI/controls/video",["react","lodash","baseUI/controls/video.rt"],function(e,t,s){return e.createClass({displayName:"video",propTypes:{src:e.PropTypes.string.isRequired,poster:e.PropTypes.string},video:null,controls:null,progressBar:null,progress:null,render:s,componentDidMount:function(){this.getDOMNodes(),this.setCrutches(),this.addVideoEventListeners()},play:function(){this.video.paused||this.video.ended?this.video.play():this.video.pause()},stop:function(){this.video.pause(),this.video.currentTime=0,this.setControlState("stopped")},rewind:function(e){this.video.currentTime=this.video.duration*e.nativeEvent.offsetX/this.progressBar.offsetWidth,this.onTimeUpdate()},switchFullscreen:function(){this.video.requestFullScreen()},setControlState:function(e){this.controls.dataset.state=e},onPlay:function(){this.setControlState("playing")},onPause:function(){this.video.ended?this.setControlState("stopped"):this.setControlState("paused")},onEnded:function(){this.video.currentTime=0,this.setControlState("stopped")},onTimeUpdate:function(){var e=this.video.currentTime*this.progressBar.offsetWidth/this.video.duration;this.progress.style.setProperty("width",e+"px")},getDOMNodes:function(){this.video=this.refs.video,this.controls=this.refs.controls,this.progressBar=this.refs.progressBar,this.progress=this.refs.progress},setCrutches:function(){this.video.requestFullScreen||(this.video.requestFullScreen=this.video.webkitRequestFullScreen||this.video.mozRequestFullScreen||this.video.msRequestFullscreen)},addVideoEventListeners:function(){this.video.addEventListener("play",this.onPlay),this.video.addEventListener("pause",this.onPause),this.video.addEventListener("ended",this.onEnded),this.video.addEventListener("timeupdate",this.onTimeUpdate)}})}),define("baseUI/controls/toggleButton.rt",["react","lodash","baseUI/controls/toggle","baseUI/popovers/tooltip","uiConstants"],function(e,t,s,n,i){return function(){return e.createElement(n,{value:this.props.tooltipValue,disabled:!this.props.tooltipValue,styleType:i.TOOLTIP.STYLE_TYPE.SMALL},e.createElement("span",{},e.createElement(s,{name:this.props.name,className:t({"toggle-button":!0,checked:this.props.value}).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),value:this.props.value,instanceId:this.props.name,onChange:this.props.onChange,disabled:this.props.disabled})))}}),define("baseUI/controls/toggleButton",["react","lodash","baseUI/controls/toggleButton.rt"],function(e,t,s){return e.createClass({displayName:"toggleButton",propTypes:{name:e.PropTypes.string},render:s})}),define("baseUI/controls/dock.rt",["react","lodash","baseUI/controls/infoIcon"],function(e,t,s){return function(){function n(s,n){return e.createElement("label",{key:s.direction,className:t(this.getClasses(s.direction)).transform(function(e,t,s){t&&e.push(s)},[]).join(" "),onMouseEnter:this.onDockMouseEnter.bind(null,s.direction),onMouseLeave:this.props.onMouseLeave},e.createElement("input",{type:"radio",name:this.getRadioGroupId(),onChange:this.onDockChange.bind(null,s.direction),checked:this.props.value===s.direction,value:s.direction}),e.createElement("span",{className:"square "+s.className}))}return e.createElement("div",{className:"control-dock",onMouseLeave:this.props.onMouseLeave},this.hasLabel()&&(this.props.infoText||this.props.infoText)?e.createElement(s,{key:"tooltip",title:this.props.infoTitle,text:this.props.infoText,size:18}):null,e.createElement("label",{className:"dock-label"},this.getLabel()),e.createElement.apply(this,["div",{className:"dock-corners-wrapper"},t.map(this.getDockValues(),n.bind(this)),e.createElement("div",{className:"dashed horizontal"}),e.createElement("div",{className:"dashed vertical"})]))}}),define("baseUI/controls/dock",["react","lodash","baseUI/controls/dock.rt","baseUI/controls/radioButtonsMixin"],function(e,t,s,n){function i(e){return this.props.disabledValues&&t.includes(this.props.disabledValues,e)}var o=["TOP_LEFT","TOP","TOP_RIGHT","LEFT","MIDDLE","RIGHT","BOTTOM_LEFT","BOTTOM","BOTTOM_RIGHT"];return e.createClass({displayName:"dock",propTypes:{value:e.PropTypes.oneOf(t.values(o)),disabledValues:e.PropTypes.arrayOf(e.PropTypes.oneOf(["MIDDLE"]))},mixins:[n],onDockMouseEnter:function(e){t.isFunction(this.props.onPreviewHover)&&this.props.onPreviewHover(e)},onDockChange:function(e){this.callOnChangeIfExists(e)},getClasses:function(e){return{disabled:i.call(this,e)}},getDockValues:function(){return[{className:"top left",direction:"TOP_LEFT"},{className:"top",direction:"TOP"},{className:"top right",direction:"TOP_RIGHT"},{className:"left",direction:"LEFT"},{className:"middle",direction:"MIDDLE"},{className:"right",direction:"RIGHT"},{className:"bottom left",direction:"BOTTOM_LEFT"},{className:"bottom",direction:"BOTTOM"},{className:"bottom right",direction:"BOTTOM_RIGHT"}]},render:s})}),define("baseUI/panelInputs/accordion.rt",["react","lodash","baseUILib","symbols","baseUI/controls/infoIcon"],function(e,t,s,n,i){return function(){return e.createElement("div",{className:"control-accordion"},this.props.useDividers?e.createElement(s.Divider,{long:!0,key:"203"}):null,e.createElement("div",{className:"accordion-header",onClick:this.toggle},e.createElement("span",{className:t({"accordion-icon":!0,open:this.state.opened}).transform(function(e,t,s){t&&e.push(s)},[]).join(" ")},e.createElement(n.symbol,{name:this.state.opened?"accordionOpen":"accordionClose"})),e.createElement("label",{className:"control-label"},this.translateIfNeeded(this.getLabel())),this.props.isOptionSelected?e.createElement("span",{key:"selectedIndicator",className:"selected-indicator"},e.createElement(n.symbol,{name:this.props.selectedIndicatorIcon})):null,this.props.infoText||this.props.infoTitle?e.createElement(i,{key:"accordionInfoIcon",title:this.props.infoTitle,text:this.props.infoText}):null),this.props.useDividers&&this.state.opened?e.createElement(s.Divider,{long:!1,key:"977"}):null,this.state.opened?e.createElement("div",{ref:"accordionContent",key:"accordionContent",className:"content"},this.props.children):null)}}),define("baseUI/panelInputs/accordion",["react","lodash","core","util","baseUI/mixins/reportUIChangeMixin","baseUI/panelInputs/accordion.rt"],function(e,t,s,n,i,o){return e.createClass({displayName:"accordion",mixins:[n.translationMixin,i,s.mixins.editorAPIMixin],propTypes:{label:e.PropTypes.string,isOptionSelected:e.PropTypes.bool,infoText:e.PropTypes.string,infoTitle:e.PropTypes.string,selectedIndicatorIcon:e.PropTypes.string,userPreferencesKey:e.PropTypes.string,useDividers:e.PropTypes.bool,onExpand:e.PropTypes.func,openedOnInit:e.PropTypes.bool},contextTypes:{reportUIChange:e.PropTypes.func},getInitialState:function(){var e;return this.props.userPreferencesKey&&(e=this.getEditorAPI().getUserPreferences().session.get(this.props.userPreferencesKey)),{opened:t.isUndefined(e)?this.props.openedOnInit:e}},getLabel:function(){return void 0!==this.props.label?this.props.label:""},toggle:function(){var e=this.state.opened?"close":"open";this.setState({opened:!this.state.opened},function(){"open"===e&&this.props.onExpand&&this.props.onExpand()}.bind(this)),this.updateUserPrefsIfNeeded("open"===e),this.reportUIChange({state:e})},updateUserPrefsIfNeeded:function(e){this.props.userPreferencesKey&&this.getEditorAPI().getUserPreferences().session.set(this.props.userPreferencesKey,e)},render:o})}),define("baseUI/controls/splitter/splitterPane.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",function(e,s){var n=t.assign({},e,s);return e.hasOwnProperty("style")&&(n.style=t.defaults(n.style,e.style)),e.hasOwnProperty("className")&&s.hasOwnProperty("className")&&(n.className=s.className+" "+e.className),n}({className:this.getClass(),style:this.getStyle()},this.filteredProps()),this.props.children)}}),define("baseUI/controls/splitter/splitterPane",["react","lodash","util","baseUI/controls/splitter/splitterPane.rt"],function(e,t,s,n){var i={VERTICAL:"vertical",HORIZONTAL:"horizontal"};return e.createClass({displayName:"SplitterPane",mixins:[s.propTypesFilterMixin],propTypes:{layout:e.PropTypes.oneOf([i.VERTICAL,i.HORIZONTAL]).isRequired,size:e.PropTypes.string,minSize:e.PropTypes.string,maxSize:e.PropTypes.string,disableEvents:e.PropTypes.bool},getDefaultProps:function(){return{layout:i.VERTICAL}},getClass:function(){var e=t.isEmpty(this.props.size)?"splitter-pane-auto-size":null;return t.compact(["splitter-pane","splitter-pane-"+this.props.layout,this.props.className,e]).join(" ")},getStyle:function(){var e={position:"relative"};return this.props.layout===i.HORIZONTAL?t.assign(e,{height:this.props.size,width:"100%",minHeight:this.props.minSize,maxHeight:this.props.maxSize}):t.assign(e,{width:this.props.size,height:"100%",minWidth:this.props.minSize,maxWidth:this.props.maxSize}),t.isEmpty(this.props.size)&&(e.flex=1,e.WebkitFlex=1),this.props.style&&t.assign(e,this.props.style),t.pickBy(e,t.identity)},render:n})}),define("baseUI/controls/splitter/splitterDivider.rt",["react","lodash"],function(e,t){return function(){return e.createElement("div",{className:this.getClass(),onMouseDown:this.handleMouseDown})}}),define("baseUI/controls/splitter/splitterDivider",["reactDOM","react","jquery","lodash","baseUI/controls/splitter/splitterDivider.rt"],function(e,t,s,n,i){return t.createClass({displayName:"splitterDivider",propTypes:{layout:t.PropTypes.oneOf(["vertical","horizontal"]).isRequired,onClick:t.PropTypes.func,onDrag:t.PropTypes.func,onDragEnd:t.PropTypes.func},getClass:function(){return n.compact(["splitter-divider","splitter-divider-"+this.props.layout,this.props.className]).join(" ")},componentWillMount:function(){this.active=!1,this.dragging=!1},componentDidMount:function(){this.props.onDrag&&(s(window.document).on("mousemove",this.handleMouseMove),s(window.document).on("mouseup",this.handleMouseUp))},componentWillUnmount:function(){this.props.onDrag&&(s(window.document).off("mousemove",this.handleMouseMove),s(window.document).off("mouseup",this.handleMouseUp))},handleMouseDown:function(){this.active=!0},handleMouseUp:function(t){!this.dragging&&this.props.onClick&&t.target===e.findDOMNode(this)&&this.props.onClick(t),this.dragging&&this.props.onDragEnd&&this.props.onDragEnd(t),this.active=!1,this.dragging=!1},handleMouseMove:function(e){this.active&&(this.dragging=!0,this.props.onDrag&&this.props.onDrag(e))},render:i})}),define("baseUI/controls/splitter/splitter.rt",["react","lodash","baseUI/controls/splitter/splitterPane","baseUI/controls/splitter/splitterDivider"],function(e,t,s,n){return function(){function i(){var i=this.getPaneProps();return e.createElement("div",{className:this.getClass(),style:this.getStyle()},e.createElement(s,i[0]),i[1]?e.createElement(n,t.assign({},{key:"splitter-divider"},this.getDividerProps())):null,i[1]?e.createElement(s,t.assign({},{key:"splitter-pane-1"},i[1])):null)}return i.apply(this,[])}}),define("baseUI/controls/splitter/splitter",["reactDOM","react","lodash","util","baseUI/controls/splitter/splitter.rt","baseUI/controls/splitter/splitterPane"],function(e,t,s,n,i,o){function a(e,n){var i=s.compact(e[n]);return 1!==i.length&&2!==i.length?new Error('Wrong number of children. Only one or two "Pane" objects are allowed'):s.every(i,t.isValidElement)?void 0:new Error('Only "SplitterPane" is allowed as a child')}var r=t.createClass({displayName:"splitter",mixins:[n.singlePassDOMReadWriteMixin],propTypes:{layout:t.PropTypes.oneOf(["vertical","horizontal"]),splitPosition:t.PropTypes.string,onResize:t.PropTypes.func,statefulResize:t.PropTypes.bool,onDividerClick:t.PropTypes.func,onDragStarted:t.PropTypes.func,children:a},getDefaultProps:function(){return{layout:"horizontal",splitPosition:"50%",statefulResize:!1}},getInitialState:function(){return{dragging:!1,draggingPosition:null}},measurePhase:s.noop,patchPhase:s.noop,getClass:function(){return["splitter","splitter-"+this.props.layout,this.props.className].join(" ")},getStyle:function(){return s.defaults({display:"flex",flexDirection:"horizontal"===this.props.layout?"column":"row",WebkitFlexDirection:"horizontal"===this.props.layout?"column":"row"},this.props.style)},getPaneSizes:function(){return this.props.children[0]&&this.props.children[1]?[this.state.dragging?this.state.draggingPosition:this.props.splitPosition,null]:[null,null]},getPaneProps:function(){var e=this.props.children,t=this.getPaneSizes(this.state);return s(e).map(s.bind(function(e,n){return e&&s.assign({},e.props,{layout:this.props.layout,size:t[n],key:e.key||n,style:{pointerEvents:this.state.dragging?"none":""}})},this)).compact().value()},getRelativeMousePosition:function(t){var s=e.findDOMNode(this).getBoundingClientRect(),n="horizontal"===this.props.layout?s.height:s.width,i="horizontal"===this.props.layout?t.clientY-s.top:t.clientX-s.left;return{firstPanePercent:(100*i/n).toPrecision(4)+"%",relativePosition:i,splitterSize:n}},handleDividerDrag:function(e){var t=this.getRelativeMousePosition(e);this.props.statefulResize?this.setState({dragging:!0,draggingPosition:t.firstPanePercent}):this.props.onResize&&this.props.onResize(t.firstPanePercent,t.relativePosition,t.splitterSize)},handleDividerDragEnd:function(e){var t=this.getRelativeMousePosition(e);this.props.statefulResize&&this.setState({dragging:!1,draggingPosition:t.firstPanePercent}),this.props.onResize&&this.props.onResize(t.firstPanePercent,t.relativePosition,t.splitterSize)},getDividerProps:function(){return{layout:this.props.layout,onClick:this.props.onDividerClick,onDrag:this.handleDividerDrag,onDragEnd:this.props.statefulResize?this.handleDividerDragEnd:null}},render:i});return r.Pane=o,r}),define("baseUI/panelInputs/checkableTextInput.rt",["react","lodash","baseUI/controls/toggle","baseUI/panelInputs/textInput","baseUILib"],function(e,t,s,n,i){return function(){return this.hasNeededExperiment()?e.createElement("div",{className:"control-checkable-text-input",key:"checkable-text-input-key"},e.createElement("div",{className:"checkable-text-input"},e.createElement(i.Checkbox,{valueLink:this.props.checkStateValueLink}),e.createElement(n,{disabled:!this.props.checkStateValueLink.value||"true"===this.props.shouldDisableTextEditing,placeholder:this.props.placeholderText,valueLink:this.props.textValueLink}))):null}}),define("baseUI/panelInputs/checkableTextInput",["baseUI/panelInputs/checkableTextInput.rt","react","experiment"],function(e,t,s){return t.createClass({displayName:"checkableTextInput",hasNeededExperiment:function(){return void 0===this.props.experimentNeeded||s.isOpen(this.props.experimentNeeded)},propTypes:{checkStateValueLink:t.PropTypes.shape({requestChange:t.PropTypes.func.isRequired,value:t.PropTypes.bool.isRequired}).isRequired,placeholderText:t.PropTypes.string,experimentNeeded:t.PropTypes.string,textValueLink:t.PropTypes.shape({requestChange:t.PropTypes.func.isRequired,value:t.PropTypes.string.isRequired}).isRequired},render:e})}),define("baseUI/panelInputs/labeledStepper.rt",["react","lodash","baseUI/panelInputs/stepper"],function(e,t,s){return function(){return e.createElement("div",{className:"control-numeric-input",onClick:this.handleContainerClick},e.createElement("label",{className:"label",ref:"label"},"\n      ",this.props.label||"​"," "),e.createElement(s,{value:this.getValueFromProps(this.props),min:this.props.min,max:this.props.max,step:this.props.step,onChange:this.callOnChangeIfExists}))}}),define("baseUI/panelInputs/labeledStepper",["lodash","react","baseUI/panelInputs/inputMixin","baseUI/panelInputs/labeledStepper.rt"],function(e,t,s,n){return t.createClass({displayName:"labeledStepper",mixins:[s],getInputWrapperClasses:function(){return{"input-stepper":!0}},render:n})}),define("baseUI",["baseUI/panelInputs/inputMixin","baseUI/panelInputs/registerDocumentEventsMixin","baseUI/mixins/classNameMixin","baseUI/mixins/reportUIChangeMixin","baseUI/controls/radioButtonsMixin","baseUI/mixins/positionRelativeToElementMixin","uiConstants","baseUI/commonData/commonData","baseUI/sortByDragList/sortByDragList","symbols","baseUI/panelInputs/autoCompleteTextInput","baseUI/panelInputs/textInput","baseUI/panelInputs/domainInput","baseUI/panelInputs/domainInputWithEditButtons","baseUI/panelInputs/proportionsSlider","baseUI/panelInputs/radioGroup","baseUI/panelInputs/radioList","baseUI/panelInputs/buttonGroup","baseUI/panelInputs/changeMediaInput","baseUI/panelInputs/thumbnailSlider","baseUI/panelInputs/labelWithCircleButton","baseUI/panelInputs/media/wixStaticMediaMixin","baseUI/popovers/tooltip","baseUI/popovers/tooltip","baseUI/popovers/tooltipManager","baseUI/popovers/tooltipsRenderer","baseUI/popovers/floatingBubble","baseUI/popovers/bubble","baseUI/popovers/templates/popoverTemplates","baseUI/panelInputs/richTextParagraph","baseUI/panelInputs/slider","baseUI/panelInputs/stepper","baseUI/panelInputs/stepperWithSVG","baseUI/panelInputs/prefixedTextInput","baseUI/controls/button","baseUI/controls/button2","baseUI/controls/fileInput","baseUI/controls/filesDrop","baseUI/controls/sectionDividerLabeledC06","baseUI/panelInputs/dropDown/select","baseUI/panelInputs/dropDown/contextMenu","baseUI/panelInputs/dropDown/combobox","baseUI/panelInputs/dropDown/options","baseUI/panelInputs/dropDown/option","baseUI/panelInputs/dropDown/optgroup","baseUI/panelInputs/dropDown/footer","baseUI/panelInputs/dropDown/dropdownManager","baseUI/panelInputs/dropDown/iconsMenu","baseUI/panelInputs/selectiveTextInputWithMandatoryButton","baseUI/panelInputs/textInputWithToggle","baseUI/panelInputs/textInputWithButton","baseUI/panelInputs/textInputWithFixedButton","baseUI/panelInputs/checkboxWithButton","baseUI/panelInputs/actionWithSymbol","baseUI/tabs/tabHolder","baseUI/tabs/tabHeader","baseUI/tabs/tabContent","baseUI/tabs/tabLabel","baseUI/tabs/tabShowMoreLabel","baseUI/tabs/tab","baseUI/controls/angle","baseUI/treeView/treeDocker","baseUI/treeView/treeView","baseUI/controls/datePicker","baseUI/controls/radioButtons","baseUI/controls/thumbnails","baseUI/controls/thumbnailsWithIcons","baseUI/controls/thumbnailsVertical","baseUI/controls/mandatory","baseUI/controls/buttonsGroup","baseUI/controls/horizontalTabs","baseUI/controls/linkToggle","baseUI/controls/infoIcon","baseUI/controls/verticalTabs","baseUI/panelInputs/shadowControl","baseUI/controls/cornerRadiusInput","baseUI/controls/alignment","baseUI/controls/textAlignment","baseUI/panelInputs/colorScheme","baseUI/controls/playButton","baseUI/controls/thumbnailPreviewPlay","baseUI/panelInputs/media/imagePreview","baseUI/panelInputs/media/organizeImagesInput","baseUI/panelInputs/media/videoInput","baseUI/panelInputs/media/imageChange","baseUI/panelInputs/media/imageChangeEdit","baseUI/panelInputs/media/imageChangeRemove","baseUI/panelInputs/media/imageChangeEditRemove","baseUI/controls/listItemWithImage","baseUI/controls/listItemWithSymbol","baseUI/controls/arrowButton","baseUI/colorPicker/colorSpace","baseUI/colorPicker/colorFormat","baseUI/colorPicker/paletteDisplayer","baseUI/colorPicker/palettesList","baseUI/colorPicker/colorPickerInput","baseUI/colorPicker/colorPickerInputWithOpacity","baseUI/colorPicker/colorPickerInputWithOpacitySlider","baseUI/controls/iframe","baseUI/controls/preloader","baseUI/controls/video","baseUI/controls/toggle","baseUI/controls/toggleButton","baseUI/controls/dock","baseUI/panelInputs/accordion","baseUI/controls/splitter/splitter","baseUI/controls/image","baseUI/controls/radioWithIcon","baseUI/panelInputs/checkableTextInput","baseUI/panelInputs/labeledStepper"],function(e,t,s,n,i,o,a,r,l,p,u,c,h,d,m,g,f,b,y,I,v,T,C,P,E,x,N,S,M,D,U,k,w,O,L,B,V,R,A,F,_,W,H,q,G,z,j,K,Y,X,$,Q,Z,J,ee,te,se,ne,ie,oe,ae,re,le,pe,ue,ce,he,de,me,ge,fe,be,ye,Ie,ve,Te,Ce,Pe,Ee,xe,Ne,Se,Me,De,Ue,ke,we,Oe,Le,Be,Ve,Re,Ae,Fe,_e,We,He,qe,Ge,ze,je,Ke,Ye,Xe,$e,Qe,Ze,Je,et,tt){return{inputMixin:e,registerDocumentEventsMixin:t,classNameMixin:s,radioButtonsMixin:i,positionRelativeToElementMixin:o,commonData:r,uiConstants:a,sortByDragList:l,symbol:p.symbol,autoCompleteTextInput:u,textInput:c,domainInput:h,domainInputWithEditButtons:d,changeMediaInput:y,thumbnailSlider:I,labelWithCircleButton:v,popover:C,tooltip:P,tooltipManager:E,tooltipsRenderer:x,floatingBubble:N,bubble:S,popoverTemplates:M,richTextParagraph:D,imageChange:Ue,imageChangeEdit:ke,imageChangeRemove:we,imageChangeEditRemove:Oe,slider:U,stepper:k,stepperWithSVG:w,prefixedTextInput:O,button:L,button2:B,fileInput:V,filesDrop:R,sectionDividerLabeled:A,dropDown:{select:F,contextMenu:_,combobox:W,options:H,option:q,optgroup:G,footer:z,dropDownManager:j,iconsMenu:K},selectiveTextInputWithMandatoryButton:Y,textInputWithToggle:X,textInputWithButton:$,textInputWithFixedButton:Q,textAlignment:Pe,colorScheme:Ee,checkboxWithButton:Z,actionWithSymbol:J,radioGroup:g,radioList:f,buttonGroup:b,tabs:{holder:ee,header:te,content:se,label:ne,showMoreLabel:ie,tab:oe},angle:ae,treeDocker:re,treeView:le,toggle:Ke,toggleButton:Ye,datePicker:pe,radioButtons:ue,thumbnails:ce,thumbnailsWithIcons:he,thumbnailsVertical:de,mandatory:me,buttonsGroup:ge,horizontalTabs:fe,linkToggle:be,infoIcon:ye,verticalTabs:Ie,shadowControl:ve,cornerRadiusInput:Te,alignment:Ce,playButton:xe,thumbnailPreviewPlay:Ne,imagePreview:Se,organizeImagesInput:Me,videoInput:De,listItemWithImage:Le,listItemWithSymbol:Be,arrowButton:Ve,colorSpace:Re,colorFormat:Ae,paletteDisplayer:Fe,palettesList:_e,colorPickerInput:We,colorPickerInputWithOpacity:He,colorPickerInputWithOpacitySlider:qe,iframe:Ge,preloader:ze,video:je,dock:Xe,accordion:$e,reportUIChangeMixin:n,media:{wixStaticMediaMixin:T},splitter:Qe,image:Ze,radioWithIcon:Je,proportionsSlider:m,checkableTextInput:et,labeledStepper:tt}});
//# sourceMappingURL=baseUI.min.js.map